Definition Proposition Lemma Corollary Conjecture Example Remark

Nonmedian Direct Products of Graphs with Loops

Elliot Krop

Introduction

For basic graph theoretic notation and definition see Diestel [\cite=Diest]. Classification of median graphs and the study of graph products have been active fields of study for the last several decades, see [\cite=Bandelt], [\cite=KlavzarMulder], [\cite=BJKZ], as well as the book [\cite=ImrichKlavzar].

In [\cite=BJKZ], the authors categorized whether components of direct product graphs are median. Along with some simpler cases, they showed that if G is P3 and H is an even tree (a tree with even distance between every two vertices of degree three or more), then one component of G  ×  H is a median graph. The classification of which product graphs P2  ×  H are median is only partly understood.

The graphs in question above have no loops. As for the case with loops, let Tn, the total graph, be the complete graph on n vertices with a loop at each vertex. Munarini showed in [\cite=Munarini], that G  ×  Tn is median if and only if G = P2 and n = 2.

In this paper, we consider the rest of the cases, namely, direct products of graphs where some factor graph has at least one loop.

We say two vertices x and y are adjacent if there exists an edge (x,y) and in this case we write x  ~  y. If x and y are not adjacent we write [formula]. By N(x,y) we mean the deleted neighborhood of x and y, that is, the set of vertices {v:v  ~  x,v  ~  y,v  ≠  x,v  ≠  y}. We define the distance between vertices x and y in G as the length of a shortest path from x to y in G, and denote it dG(x,y). The direct product of two graphs G and H, written as G  ×  H is the graph with vertices V(G  ×  H) = V(G)  ×  V(H) where two vertices (v1,h1) and (v2,h2) are adjacent if and only if v1 and v2 are adjacent in G as well as h1 and h2 are adjacent in H. A median graph is a connected graph in which for every three vertices, there exists a unique vertex m known as the median, which lies on the geodesic between any two of the given vertices. A cartesian product of two graphs G and H, written as [formula] is the graph with vertices V(G  ×  H) = V(G)  ×  V(H) where two vertices (v1,h1), (v2,h2) are adjacent if v1 = v2 in G and h1  ~  h2 in H, or v1  ~  v2 in G and g1 = g2 in G. For any positive integers n and m, call [formula] the complete grid graph. A grid graph is a subgraph of a complete grid graph.

A subgraph H of G is called isometric if dH(x,y) = dG(x,y) for all x,y∈V(H). A subgraph H of G is called convex if it is connected and for every pair of vertices x,y∈V(H), every isometric path from x to y exists in H.

In this paper, we consider the direct product G  ×  H, where G is either a connected graph on at least three vertices or a connected graph with at least one loop, and H is a connected graph on at least two vertices with at least one loop. We show that the only median graphs of such a direct product are formed when G = Pk and H  =  Pl with a loop at an end vertex, for any integers k  ≥  3,l  ≥  2.

Preliminaries

The first fact is folklore.

For the paths P0,|P0| = k, and Q0,|Q0| = l, beginning at vertex u and ending at vertex v, if k and l are of opposite parity, then [formula] contains an odd cycle.

We state a well known lemma which may be found in [\cite=ImrichKlavzar].

Median graphs are bipartite.

The following subgraph is excluded from median graphs by definition.

If G contains K2,3 as an induced subgraph, then G is not median.

More generally, by using the the above lemma that median graphs are bipartite, we have

If K2,3 is a subgraph of G (not necessarily induced), then G cannot be a median graph.

The next observation allows us to exclude the case where both G and H have loops.

If G and H are connected graphs on at least two vertices and both G and H contain at least one loop, then G  ×  H is not a median graph.

Let u,v be adjacent vertices in G and x,y be adjacent vertices in H, and let both u and x have loops. Notice that G  ×  H contains the triangle (u,x),(v,x),(u,y). Since median graphs are bipartite by Lemma [\ref=bipartite], this means that G  ×  H is not median.

[formula]

Next, we define a few graphs.

Let H1 be the graph on the vertex set x,y,z with edges {(x,y),(y,y),(y,z)}.

Let H2 be the graph on the vertex set x,y with edges {(x,x),(x,y),(y,y)}.

Let H3 be the graph on the vertex set x,y,z with edges {(x,x),(x,y),(y,z),(z,z)}.

For any integer k  ≥  4 let H'k be the graph on the vertex set [formula] with edges [formula].

For any integer k  ≥  3 let Dk be the graph on the vertex set [formula] with edges [formula]

For any integer k  ≥  2 let Ek be the graph on the vertex set [formula] with edges [formula]

Finally, we state some elementary but essential facts.

If G and H are connected graphs on at least two vertices, G contains an odd cycle and H contains at least one loop, then G  ×  H is not a median graph.

Let [formula] be an odd cycle in G and let x be a vertex with a loop in H. Observe that [formula] is an odd cycle in G  ×  H. Since median graphs are bipartite by Lemma [\ref=bipartite], this means that G  ×  H is not median. [formula]

If G is a connected graph containing P3 as a subgraph and H is a connected graph containing Dk as an induced subgraph for some k > 2, then G  ×  H is not a median graph.

Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Label the vertices of Dk  ⊆  H as [formula], where x1  ~  x1, x1  ~  xk, and xi  ~  xi + 1 for 1  ≤  i  ≤  k - 1. Notice that by Proposition [\ref=loops_in_G_and_H], if v2 has a loop in G, then we are done, so assume that dG  ×  H((v2,x1),(v2,x2)) = dG  ×  H((v2,x1),(v2,xk)) = dG  ×  H((v2,x2),(v2,xk)) = 2. Therefore, (v1,x1) and (v3,x1) are median vertices for the triple, (v2,x1),(v2,x2),(v2,xk), so that G  ×  H is not a median graph.

[formula]

Two Loops

In this section we prove the following:

The following observations exclude the cases when two loops lie close together.

If G is a connected graph containing P3 as a subgraph and H is a connected graph containing H2, then G  ×  H is not a median graph.

Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Label the vertices of H2  ⊆  H as x,y where x  ~  y, x  ~  x, and y  ~  y. By Proposition [\ref=K23sub], it is enough to notice that G  ×  H contains a K2,3 subgraph.

[formula]

If G is a connected graph containing P3 as a subgraph and H is a connected graph containing H3, then G  ×  H is not a median graph.

Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Label the vertices of H3  ⊆  H as x,y,z where x  ~  y  ~  z, x  ~  x, and z  ~  z. By Proposition [\ref=odd_cycle] [formula] and hence d((v1,x),(v3,y))  ≥  2. For the same reason, d((v1,z),(v3,y))  ≥  2.

By Proposition [\ref=cycleloop] we may assume [formula] in H. Suppose there exist vertices g∈G and h∈H so that (g,h)  ~  (v1,x), (g,h)  ~  (v3,y), (g,h)  ~  (v1,z). If h = x, then [formula]. If h = y, then [formula]. If h = z, then [formula]. We are left with the case when h is adjacent to x,y, and z, but this is impossible by Proposition [\ref=cycleloop]. Hence, P3 is convex in G and H3 is convex in H.

By inspection, we see that there is no median vertex in P3  ×  H3 for (v1,x),(v3,y),(v1,z), and by the previous observation, there can be no median in G  ×  H.

[formula]

If G is a connected graph containing P3 as a subgraph and H is a connected graph with isometric subgraph H'k for some k > 1, then G  ×  H is not a median graph.

Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Label the vertices of H'k  ⊆  H as [formula] where x1  ~  x1,xk  ~  xk, and xi  ~  xi + 1 for 1  ≤  i  ≤  k - 1. We apply Proposition [\ref=odd_cycle], and assume [formula]. Since H'k is isometric in H, dH(x1,xk) = k - 1, which means dG  ×  H((v1,x1),(v3,xk))  ≥  k - 1.

Case 1: Suppose k is even.

Consider the paths

[formula]

and

[formula]

Observe that P1 contains (v2,xk - 1) and P2 contains (v2,xk), and both paths are isometric as they are of length k - 1.  Likewise, consider the paths

[formula]

[formula]

and

[formula]

Observe that P3 contains (v2,xk) and P4 contains (v2,xk - 1), and both paths are isometric as they are of length k - 1.  Notice that d((v1,xk),(v3,xk)) = 2 and that both (v2,xk) and (v2,xk - 1) lie on geodesics from (v1,xk) to (v3,xk). Therefore there is no unique median vertex for (v1,x1),(v1,xk),(v3,xk) and G  ×  H is not a median graph.

Case 2: Suppose k is odd.

Consider the paths

[formula]

and

[formula]

Observe that Q1 contains (v2,xk) and Q2 contains (v2,xk - 1). Both paths are of length k. Since d(x1,xk) = k - 1, d((v2,x1),(v1,xk))  ≥  k - 1 and d((v2,x1),(v3,xk))  ≥  k - 1. Suppose there exists a path Q from (v2,x1) to (v1,xk) of length k - 1. By Proposition [\ref=findoddcycle], [formula] contains an odd cycle. However, in this case G  ×  H is not a median graph by Lemma [\ref=bipartite].  Likewise, consider the paths

[formula]

and

[formula]

Observe that Q3 contains (v2,xk) and Q4 contains (v2,xk - 1). Both paths are of length k and isometric by the same argument used above for Q1 and Q2.  Notice that d((v1,xk),(v3,xk)) = 2 and that both (v2,xk) and (v2,xk - 1) lie on geodesics from (v1,xk) to (v3,xk). Therefore there is no unique median vertex for (v1,x1),(v1,xk),(v3,xk) and G  ×  H is not a median graph.

[formula]

We are now ready to prove our Theorem.

(Theorem [\ref=two_loops]) Choose two vertices x and y of H with loops. Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Let P be a shortest path from x to y in H. Notice that P is isometric in H. If |P| is odd, then we are done by Proposition [\ref=H2] and Lemma [\ref=H'k]. If |P| is even, then we are done by Proposition [\ref=H3] and Lemma [\ref=H'k].

[formula]

One Loop

The following result limits the placement of loops in G.

If G is a connected graph containing P3 as a subgraph and H is a connected graph containing H1 as a subgraph, then G  ×  H is not a median graph.

Label the vertices of the path P3  ⊆  G as v1,v2,v3, where vi  ~  vi + 1 for i = 1,2. Label the vertices of H1  ⊆  H as x,y,z where x  ~  y  ~  z, y  ~  y. By Proposition [\ref=K23sub], it is enough to notice that the subgraph of G  ×  H on the vertices (v2,x),(v2,y),(v2,z),(v1,y),(v3,y) is K2,3.

[formula]

The next proposition further limits the structure of median product graphs.

Let G be a connected graph on at least three vertices and H a connected graph containing E3 as a subgraph. If either G or H contain the star S3 as subgraph, then G  ×  H is not a median graph.

Label the vertices of P3 in G by v1,v2,v3. Suppose H contains S3 as a subgraph and label the vertices of S3 by x1,x2,x3,x4 with x1 as central vertex. By Proposition [\ref=K23sub], it is enough to notice that the subgraph of G  ×  H on the vertices (v2,x3),(v2,x2),(v2,x4),(v1,x1),(v3,x1) is K2,3.

Label the vertices of E3 in H by x1,x2,x3. Suppose G contains S3 as a subgraph and label the vertices of S3 by v1,v2,v3,v4 with v1 as central vertex. Again, by Proposition [\ref=K23sub], we see that the subgraph on the vertices (v2,x2),(v3,x2),(v4,x2),(v1,x3),(v1,x1) is K2,3.

[formula]

The next result can be immediately deduced from Lemma 2.2 in [\cite=BJKZ].

Let G be a connected graph on at least three vertices and H a connected graph containing E3 as a subgraph. For any integer k  ≥  3, if either G or H contain the cycle Ck as subgraph, then G  ×  H is not a median graph.

The following result can be found in [\cite=KlavzarSkrekovki].

For any integers k  ≥  3 and l  ≥  2, Pk  ×  El is a median graph.

Label the vertices of Pk by [formula] and those of El by [formula]. There are 2k - 2 edges incident to vertices with an xi entry in the second coordinate and those with xi + 1 in the second coordinate, for 1  ≤  i  ≤  l - 1. Summing over all i, we get (l - 1)(2k - 2). We add this sum to the k - 1 edges between vertices with an x1 in the second entry in the second coordinate, and find the total number of edges is m = (2l - 1)(k - 1). To find the number of squares we "unfold" the graph by drawing the vertices as follows:

Call the vertices with index 1 in the second coordinate and odd sum of indices of entries in both coordinates, the middle row. Place the vertices of the middle row from left to right, increasing by the index of entries in the first coordinate. If the sum of indices of the entries of both coordinates is odd, then we place them above the middle row, increasing from the middle row up with the value of the index in the second coordinate and increasing from left to right with the value of the index in the first coordinate. If the sum of indices of the entries of both coordinates is even, then we place them below the middle row, increasing from the middle row down with the value of the index in the second coordinate and increasing from left to right with the value of the index in the first coordinate.

This representation easily allows us to count the number of squares as (k - 2)  ×  (l - 1), and since the number of squares is equal to m - n + 1, we are done by Theorem [\ref=KS].

[formula]

If H has two loops, then it is not median by Theorem [\ref=two_loops]. If H has one loop, say at vertex v, then by Proposition [\ref=H1], deg(v)  ≤  3, and v is an end vertex. If v lies on a path to a vertex of degree at least three, then by Proposition [\ref=star], G  ×  H is not median. If G has a loop, then by Proposition [\ref=loops_in_G_and_H], G  ×  H is not median. If G has a vertex of degree at least three, then by Proposition [\ref=star], G  ×  H is not median. If either G or H have cycles, then G  ×  H is not median by Proposition [\ref=cycle]. By Corollary [\ref=one_loop], the theorem is proved.

[formula]

The remaining classifications of median product graphs, G  ×  H, consist of the case when G = P2, which was partly done in [\cite=BJKZ]. A possible future direction could be in attempting to solve the above problem with the added assumption that H contains at least one loop.

Acknowledgements

The authors would like to thank the anonymous referee for the helpful comments.