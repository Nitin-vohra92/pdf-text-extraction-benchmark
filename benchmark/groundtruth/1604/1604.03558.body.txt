=1

Corollary Lemma Proposition Example

plus 2pt minus 1pt

Error Propagation Through a Network With Non-Uniform Failure

Introduction

Information and communication technology (ICT) infrastructures as well as utility networks (such as water supply, etc.) are commonly modeled as graphs, representing networks of interconnected components. Failure of one or more sensitive components may cause an essential damage, while a breakdown of other components may hardly affect the network performance or functionality. To estimate the risk of a breakdown of the entire network, it appears informative to investigate the impact of an arbitrary but known failure scenario that involves the breakdown of a component (network node) or an interconnection (network edge). The impact to the overall infrastructure is determined by the way in which the problem is "transmitted" from where it occurred to other parts of the network. The particular form of such error propagation may be determined by malfunctions that cause further malfunctions as well as information (e.g., notifications) that spread in the network. The process can therefore be viewed similarly to the spread of an epidemic [\cite=Poggi2013]. This perspective is particularly adopted in economics [\cite=Duffie2009] [\cite=Duffie2011], however and somewhat surprisingly, it has not yet seen much application in risk management. In this work, we take first steps to close this gap.

To understand how certain events trigger other events in a network, percolation theory [\cite=Grimmett1989] has evolved into an indispensable tool. Especially models of disease spreading [\cite=Newman2002] [\cite=Poggi2013] in terms of percolation have become popular over the last decades. Most of these models are built for a specific class of networks such as scale-free networks [\cite=Schwartz2002], [\cite=Cohen2002] or lattices [\cite=Sander2002] (one treatment of a general networks can be found in [\cite=Miller2008]). Moreover, it is a common assumption that all contacts are equally likely to transmit the disease. While this might be a reasonable simplification to treat disease problems, such assumptions (and hence the resulting models) are too restrictive to properly model the situation in ICT and utility networks. There, components have a much better understood heterogeneity, which strongly affects how an error in one component can (or cannot) affect other touching components.

Hence we here propose a model for error propagation that accounts for more diversity, in the sense that we can classify and distinguish network components in terms of (common) properties that are relevant for error propagation. As a very simple example, we may divide the components in a utility network into those of "high significance", meaning that a failure may have devastating consequences, and those of "low significance", which could mean that a failure can be instantly covered by a redundant fall-back subsystem taking over the functionality of the broken component. Practical classifications may of course be much more complex and sophisticated.

Applying percolation theory to such a setting has been attempted in the past: In [\cite=Restrepo2008], nodes may fail with different probabilities but the arguments are merely heuristic. In [\cite=Meyers2006], the standard assumption has been softened by allowing both directed and undirected contacts, yielding a so called semi-directed network. In our work we use similar argumentation based on generating functions but our model differentiates from theirs in the following fundamental aspects: We deal with a fully directed network as an undirected edge can be interpreted as a pair of directed edges pointing in opposite directions. Moreover, we consider different classes of edges having different probabilities to transmit an error. These classes can be seen as a characterization of different types of links, i.e. links made of different materials or links that enjoy different levels of protection.

Under these assumptions, we compute the probability that an error affects a significant number of components, which will be termed an epidemic, as well as how many nodes are indeed affected in this case. In this context an epidemic means an unlimited outbreak, or equivalently, an unbounded propagation of errors.

Preliminaries and Notation

Throughout the paper, we denote vectors by bold printing, and functions by calligraphic letters. Sets, matrices and random variables appear as uppercase letters.

The topology of a network can be described by its degree distribution P(k), giving the probability of a node having exactly k neighbors. A directed network is analogously characterized by the joint probabilities P(j,k) that a node has exactly j ingoing and k outgoing edges. Furthermore, we will need to consider the excess degree distribution, usually denoted by Q(k) or Q(j,k), respectively, which describes the following situation: if we arrive at a random node via an edge, what is the distribution of the remaining degree, i.e. how many edges remain when we exclude the one we traveled along? Due to the biased situation (nodes with higher degree are more likely to be reached) this distribution is not just a reduced version of the original degree but is going to be calculated in the next section.

Our main focus will be on "occupied" edges, denoting those edges that are affected by the failure under consideration. Together with the nodes incident to them, they build up the so called "occupied" network, as opposed to the "original network" in which no incident has yet occurred. In what follows, we add the superscript "o" (for "original") to quantities corresponding to the network state before a failure. Variables describing the network after failure (the occupied state) have no such superscript.

Working with probability distributions directly is possible, yet it turns out that a different representation greatly simplifies matters here: each discrete probability distribution P(k) of a random variable with realizations [formula] can conveniently be represented by a so called generating function, defined for the distribution P as,

[formula]

These functions are easier to handle then the distributions themselves and are therefore applied in many different fields [\cite=Wilf1994], including the analysis of networks (see e.g. [\cite=Newman2001] for an overview). Generating functions exhibit many nice properties, one of which comes most handy for our analysis here:

If the function G generates the degree distribution of a node, then the power Gm generates the distribution of the total degree of m independent nodes.

In the following, we will denote the generating function of a (ordinary) degree distribution by G and the corresponding generating function of the excess degree distribution by H.

Modeling Non-Uniform Failures

Let a physical network be modeled as a graph G(V,E), where V is a finite set of nodes and E is the set of edges between them. Since we consider error propagations being determined by the different nature of interaction between nodes, we partition the full edge set E into n classes of edges. Hereafter, we say that an edge is "of type i", to distinguish it from other edges with different properties. The index i thus ranges over n classes of edges, rather than the physical edges themselves. Edges of the same type are indistinguishable, while edges of different types have distinctive properties related to the error propagation.

Notice that this partitioning of edges does not need to be extended to nodes as well. To see this, simply consider a problem that reaches node v∈V over an edge e∈E. If v reacts robustly in the sense of blocking the error from further spreading, then this is equal to assume that e already blocked the error. Likewise, if v fails and the error propagates further, then this effect becomes visible by the other edges transporting the problem to their end points, and so on. If only a node fails but the error is not further propagated, then we can model this effect by thinking of the node with an internal edge that can bound the error within the node and prevents its further propagation to outgoing nodes from this edge (this is a standard modeling trick that is, for example, also applied to compute maximal flows in graphs with vertex rather than edge capacities).

When investigating communication networks under random failures, it has been a common assumption that edges fail (in the sense of forwarding an error from node i to its neighbor) independently of each other and with uniform probability p [\cite=Cohen2000] [\cite=Cohen2001] [\cite=Callaway2000] [\cite=Newman2011] [\cite=Newman2013]. Using the formalism introduced in Section [\ref=sec:notation], the network of occupied edges is then described by the degree distribution where Po denotes the original degree distribution before any failure, and jo,ko denote the number of incoming and outgoing edges in that network, respectively. In reality, edges are usually not equally likely to fail. We account for this by our partitioning of E into edges of different types [formula]. Each type i has a specific probability pi to fail, or be "occupied" as we denote it here (see Section [\ref=sec:notation] again), and its breakdown is assumed to be independent of that of any other edge. In this case we have to replace the single binomial distribution by a product of binomial distributions and the degree distribution of the occupied network

[formula]

with vectors [formula] and [formula] computes as

[formula]

where o  ≥   is a shorthand for the component-wise inequalities joi  ≥  ji for all i. Similarly as before, ji and ki denote the number of incoming and outgoing edges of type i and pi is the probability that an edge of type i conveys an error. We assume this probability to be only dependent on the type, hence incoming and outgoing edges of the same type have equal probability to fail.

Starting from a different point of view, a similar model has been proposed by [\cite=Meyers2006] for semi-directed networks. Still, our models are different in at least two ways: by considering an undirected edge as a pair of one incoming and one outgoing edge, we restrict our attention to fully directed networks. Further, we do not limit ourselves to two types of edges but allow for any finite number n of classes.

Knowing the degree distribution after random failure of edges, statements about expected size of an outbreak or the probability of an epidemic can be made with help of generating functions as introduced in Section [\ref=sec:notation]. Let the generating function for the original distribution Po be Go, which is

[formula]

As average in- and out-degrees have to match for all types of edges, we get the constraints

[formula]

for all i. Furthermore we will use generating functions Hoi for the excess degree distributions. These are especially handy when dealing with occupied edges (see Section [\ref=sec:notation]), since they relate to the possible paths (edges) along which an error can further propagate after it has reached a node along an edge of type i. To find the generating function of these excess degree distribution we note that it is more likely to arrive at a random node with higher degree ji of incoming edges. Once an edge has transmitted an error the corresponding degree reduces by one, thus we get (by direct calculation) a relation to the generating function of the original network by

[formula]

On the other hand, the generating function for the degree distribution of occupied edges is defined by

[formula]

where P(,) is given in [\eqref=eq:dist-after-failure]. This function can be expressed in terms of the generating function of the original distribution by straightforward calculation

[formula]

with use of the binomial theorem. Similarly, one finds a relation between the generating functions for excess degrees for all i:

[formula]

as the average degrees of occupied edges of type i are zi = zoipi.

Predictions for Small Scale Outbreaks

Based on these generating functions, we can now predict the influence of an error spreading over the network. Especially, we are interested in the average number of nodes affected by an error starting to spread from a given node as well as the probability that it affects an extensive number of nodes (i.e. it causes an epidemic).

Let Hi denote the generating functions for the size w of an outbreak (measured in the number of nodes affected) arising from failure of an edge of type i. A relation to the degree distributions of occupied edges can be found based on the following decomposition. Assume we arrive at a node with occupied degree [formula], then each of the ki edges of type i may convey the error and the corresponding probability is by Lemma [\ref=lem:generating-function-power] described by the function (Hi(w))ki. Thus we get

[formula]

for all edge types i. Correspondingly, one computes the generating function G for the distribution of outbreak sizes originating from an infected node as

[formula]

With the help of these equations, we can now set out to compute the average size of an outbreak resulting from any possible failure.

If an edge of type i failed we have to solve the linear equation system

[formula]

to find the expected number Si of affected nodes

[formula]

Similarly, the expected size of an outbreak starting from a random node is given by

[formula]

for the case of finite outbreaks (the fraction of nodes affected by an epidemic are determined later).

In both cases, we need to solve a linear system and hence adapt the usual notation Ax = b to describe it. The system [\eqref=eq:system-Hi] is than determined by [formula] and the coefficient matrix with

[formula]

for i  ≠  j and

[formula]

on the diagonal. This system can be solved numerically and the solution can then be plugged into equation [\eqref=eq:finite-size].

If we adapt the well known Erds-Rényi model [\cite=Erdos1959] for all edges with probabilities qi for existence of en edge of type i, we get the generating function for the joint degree distribution before failure

[formula]

which agrees with the generating function Hi for the excess degree distribution since zi = nqi. As before, we denote by pi the probability that an edge of type i fails. Then, the matrix of the system to be solved has entries

[formula]

for pj,qj∈[0,1]. The determinant of this matrix A can be computed for example via induction on n and turns out to be [formula]. Note, however, that neither the pi's nor the qi's do have to sum to one as they do not describe a probability distribution but rather denote different parameters. At the same time, piqi can be thought of as the probability for existence of an edge of type i transporting an error in the network, thus belonging to the 'infected' part of the network after failure.

The resulting equation system is easy to solve for this specific matrix: a direct computation shows that [formula] is an eigenvector with eigenvalue det (A), hence [formula] is the sought solution for [formula]. Thus, the expected size of an outbreak after failure of an edge of type i is

[formula]

Substituting our solution into [\eqref=eq:finite-size] yields the same expected size of an outbreak resulting from failure of a node:

[formula]

for all i. So the critical threshold corresponds to the situation where the terms piqi sum to 1 / n (i.e. the denominator is not zero).

The solution of these systems always contains a factor [formula] from inversion of A and hence the expected size of an outbreak will become extensive if this determinant vanishes. From the identity

[formula]

for all [formula], we get a condition on the probabilities pi that represents the beginning of a possible epidemic. On the other hand we can say that an epidemic is avoided, if the determinant is strictly positive.

Under the assumptions of Example [\ref=exa:ER], one finds that if the criterion

[formula]

is fulfilled, then no epidemic will occur as the expected number of affected nodes is finite.

Predictions for Large Scale Outbreaks

Let us assume that an epidemic is possible, e.g. by a violation of the condition from Example [\ref=exa:ER-condition]. Generally, we are interested in answering two questions: First, what is the probability Pep of an epidemic, i.e. that the fraction f of nodes affected scales with the network size? Second, what fraction of nodes is affected if an epidemic occurs? While formula [\eqref=eq:finite-size] is not longer working due to the increased likelihood of loops, these two quantities can be identified with quantities known from percolation theory [\cite=Meyers2006]. In order to make this relation explicit we need some notation: let GSCC denote the "giant strongly connected component". This is a subset of network components, consisting of all nodes that can be reached by any other node of that component. The sets GIN and GOUT comprise all nodes that lead into GSCC or can be reached from nodes in GSCC. Both are themselves not part of GSCC, respectively (more about these components can for example be found in [\cite=Cohen2010]). With these definitions, one finds that Pep equals the relative size of GSCC and GIN (in relation to the total number of nodes in the network) as from those node a giant fraction of nodes can be reached. Similarly, f equals the relative size of GSCC and GOUT together.

A convenient way to compute these quantities is to consider what we call the dual network consisting of the same nodes as the original one but with all edges pointing in opposite direction. Extending our notation accordingly, we add a superscript "d" to all objects that relate to the dual network. The probability generating function for the degree distribution of this dual network is then given by

[formula]

and as before we compute the generating function Gd for the number w of nodes affected by failure of a random node in the dual network as

[formula]

where again Hdi generate the probability distributions of the number of nodes ultimately affected by failure of an edge of type i.

Then, Gd(1) gives the probability that only finitely many nodes can be reached in the dual network from a specific node which can be viewed as the probability that this node is only reached by finitely many nodes in the original network. Hence (with the calculations above) the probability that it is reached from a giant fraction of nodes is

[formula]

which corresponds to the fraction of nodes affected in case of an epidemic caused by failure of a node. However, we stress an important difference to our calculations in Section [\ref=sec:finite]: if an epidemic is possible, then the functions Hdi are not normalized in the sense that Hd(1) now may be strictly smaller than 1, as this only gives the probability for an outbreak of finite size. Therefore, we first have to solve the (nonlinear) equation system

[formula]

for Hdi(1) for all i. This system most likely does not admit an analytical solution, but numerical approximations can do sufficiently well. As before, these equations can be rephrased in terms of the generating functions corresponding to the original network before failure (as this is the distribution we can measure directly when analyzing the risk of a network).

The probability of an epidemic can be calculated analogously to or directly from the results for the case of finite outbreaks. The only difference to our previous derivations is that we now have to distinguish according to the number of incoming edges instead of outgoing edges (and hence again use Hi to denote the number of nodes affected rather than Hdi that corresponds to the number of nodes from which a node can be reached). It thus follows that

[formula]

where this time Hi(1) are determined by

[formula]

for all i. Again, this system may be solved numerically.

In order to get an impression on how to compute such quantities, let us reconsider Example [\ref=exa:ER].

Assume again an Erds-Rényi model for all kind of edges so that an edge of type i exists with probability qi in the original network before any failure. In Example [\ref=exa:ER] we found

[formula]

which yields

[formula]

and which can again be viewed as an Erds-Rényi model with reduced probability qipi for existence of an occupied edge of type i. Hence, in order to find the fraction f of affected nodes we need to solve the system

[formula]

for Hdi(1) for all i, which is exactly the same system as for the probability Pep for an epidemic to occur due to failure of a node. As the right hand side does not depend on i, we find that all Hdi are equal and we will thus drop the index and simply use H for all Hdi(1) in the following calculation.

Thus, our task is solving the equation

[formula]

for H. This identity always admits the trivial solution H = 1, which corresponds to the case where we have a finite outbreak with probability one and correspondingly the probability of an epidemic is zero. If the condition in Example [\ref=exa:ER-condition] is not fulfilled, i.e. if [formula], there also exists a unique solution H(s) in the open interval (0,1). This solution is given by

[formula]

where W(z) denotes the principal branch of the Lambert W-function [\cite=Corless1996].

Hence, we obtain

[formula]

It must be remarked that the equality of f and Pep is not generally valid in arbitrary directed networks. Figure [\ref=fig:percol_epidemic] shows the increase in probability of epidemics (and correspondingly in fraction of affected nodes) in dependence of the sum s.

An epidemic can as well be caused by failure of an edge of type i. This situation can be reduced to failure of a node with the following standard trick: replace the considered edge [formula] of type i by two edges [formula] and [formula] of the same type. A failure of the original edge can then be viewed as failure of the new node z and the formalism derived above can be applied.

Conclusion

Percolation appears as a quite powerful technique to describe error propagation through a network with an arbitrary topology. We replaced the standard assumption of uniform failure by different probabilities of failure in order to allow for different types of edges. For this scenario we found linear equation systems that yield the expected size of an outbreak as well as the probability of an epidemic. If the network is described by the Erds-Rényi model, we give explicit solutions to these equation systems.

Outlook

While this model captures the diverse nature of components of a real life network, other aspects are still missing. Next steps could for example be introduction of countermeasures to reduce the spreading. Future work will also include construction of algorithms for simulation.

Acknowledgment

This work was supported by the European Commission's Project No. 608090, HyRiM (Hybrid Risk Management for Utility Networks) under the 7th Framework Programme (FP7-SEC-2013-1).