=10000 = 10000

Pinterest Board Recommendation for Twitter Users

Introduction

Socially Curation Service [\cite=Kimura:2013:ICD:2502081.2502149], on which people can share and reshare online content that they found interesting, is becoming more and more popular. For example, Pinterest has successfully attracted more than 40 million monthly active users to create pinboards and share online images. Social curation creates high quality contents for users to discover, search and follow what they are interested in. For example, Pinterest has already delivered better search results than Google for a number of segments, such as food recipes, fashion and DIY . Pinboard, on which people can put together online images for specific topics to share with others, is the key element for Pinterest to engage users. Different from traditional photo albums, such as those on Facebook and Flickr, pinboards are not yet another way for people to organize images, but also encouraging users to carefully select images using their creativity. Also, in order to continuously attract followers, pinboard curators take efforts to keep up most recent contents, so pinboards give users a new way to follow most fresh updates on the topic they are interested in. As with other online systems, efficient information discovery is one of the major hurdles for continuous growth. In this paper, we propose a pinboard recommendation system to help users to discover interesting pinboards on Pinterest.

As a relatively new social media platform, Pinterest is still in its young age. Therefore, how to keep new users is an important topic, but recommendation for new users suffers cold start problem for the lack of activity history. We propose to leverage 3rd party social media platforms, such as Twitter, to solve the cold start problem for new Pinterest users. There are a number of reasons to use Twitter as an intermediate platform to recommend pinboards. First, Twitter is more mature and attracts even more active users, so it represents larger coverage for online users. Second, because most contents on Twitter are text based, it is much easier to find out interesting topics on Twitter than on Pinterest. Third, even though text based platform makes it easier to find interesting topics, image based pinboards, if well aligned with the interests, provide better content for users to digest. For these reasons, recommending pinboards based on Twitter activity history is a perfect match.

We propose following procedure to recommend pinboards to Twitter users.

Using the example in Fig. [\ref=fig:example], we find that twitter user "@xyz" is following a twitter user "@love146". By collecting and classifying timeline of "@love146", we map the user "@love146" to one of the pinboard topics "anti human trafficking", so we assume that the target twitter user "@xyz" is interested in the boards about "anti human trafficking". Therefore, we select a number boards on this topic. We further improve the recommendation quality by a reranking method based on visual diversity analysis.

Since the followees can be extracted trivially from Twitter API, we solve the following two key problems in this paper, as illustrated in Fig. [\ref=fig:overview]

Map user timeline to pinboard topics is an example of cross network analysis [\cite=Yan:2014:MCA:2647868.2654920], and we build the association by mining users who are active on both Pinterest and Twitter. We crawl the timeline and pinboards associated with users that are active on both platforms. The pinboards are then mapped onto a predefined topic ontology using text based matching. After that, the users are associated with a twitter timeline and a distribution of pinboard topics. Then we learn a multi-label classifier to map user timeline to the pinboard topics. Using this multi-label classifier, we can map twitter followees without Pinterest account to pinboard topics.

Pinboard reranking is the process to recommend the best subset from the list of interested pinboards. We adapt a clustering based algorithm to perform this reranking, and the goal is to make sure that the recommended pinboards cover as much aspects as possible for the selected topics.

We make following contributions in this paper,

Related Work

Our work is related to cross network analysis, user modeling and hierarchical multi-label classification. In this section, we highlight the novelty of our work by comparing with recent works on these related fields.

Cross network analysis aims to merge social signals from different network to increase online social media platform engagement. For example, in [\cite=Yan:2014:MCA:2647868.2654920], Yan et al. proposed to identify the best Twitter accounts to promote YouTube videos, by mining the associations between topics learning from user tweets and their favorite YouTube videos.

User modeling is the foundation of personalized services, such as personalized recommendation, search engine reranking and advertisements targeting. One component of our Pinterest board recommendation system is based on Pinterest board ontology mapping, which is inspired from [\cite=Geng:2014:OKU:2647868.2654950]. In this work, Geng et al. proposed a multi-task CNN to map pinterest images to fashion ontology and the classification results were sorted as user profiles for image recommendation. We adapt the idea that user interests can be represented by multiple nodes on ontology and further extend the ontology domain to 20 categories, including "Fashion", "Food" and "Wedding". In addition, instead of single label classification on images and aggregating the classification results to form user profile, we perform hierarchical multi-label classification on aggregated user tweets to figure out the user interests directly.

Hierarchical MultiLabel Classification is the problem of classifying data instances to multiple labels or attributes, in which the labels are structured in a hierarchical taxonomy. [\cite=Ren:2014:HMC:2600428.2609595] proposed a hierarchical multi-label system to classify short texts (e.g., tweets). In this work, Ren et al. proposed to use text expansion, e.g., entity linking, to deal with the shortness and concept drift problem in short text classification. Our twitter user modeling is also based on hierarchical multi-label classification. However, instead of single tweet classification, we deal with the entire timeline of users, so that each user is modeled by a large number of tweets. In this paper, we adapt Randomized Labelsets [\cite=9783540749578] to efficiently model the hierarchical dependency automatically.

Pinboard Visual Diversification

The goal of this stage is to recommend most relevant and diverse boards, given predicted categories and millions of board candidates sampled from Pinterest board pool. To guarantee the relevance, we map each board to the categories onto the topic ontology with the method described in Experiments Section [\ref=sec:exp], and also sort the boards of each category according to their popularity (e.g. followers). We then chose top k boards for each category as its preliminary candidates (we set k = 10 in our experiment).

To enhance diversity, we utilize the visual contents in Pinterest, that is, for each category, we cluster all pin images that belong to its preliminary board candidates, and then chose the boards that can maximize the coverage of these clusters. Specifically, we use deep Convolutional Neural Network (CNN) to learn useful features for the pin images (fc7 layer of the AlexNet [\cite=krizhevsky2012imagenet]). After that, Affinity Propagation algorithm [\cite=frey07affinitypropagation] is applied to cluster 4096D image features. After obtaining the clusters and assignment for each pin image, we can build a cluster distribution for each board. Then the board selection problem can be formalize as follows.

Denote the candidate set by B, its subset by B  ⊂  B, a board in the subset by b∈B and the cluster assignment distribution of the board by Pb∈RC. C is the number of clusters for all images in the pinboard candidates. Then, we define the set level entropy by,

[formula]

in which H(x) is the entropy of a distribution x. Then, we select the best set of pinboards by [formula]. We can prove that this is actually an NP-complete problem, so an approximation algorithm is needed, but in our experiments we just use brutal force to enumerate all possibilities by restricting the number of pinboard candidates |B| and the recommendation set |B|.

Experiments

Data Collection

Pinterest ontology construction and refining

Ontology is a natural way to model the hierarchical structure of the categories in Pinterest, as is also used in [\cite=Geng:2014:OKU:2647868.2654950] to organize items in fashion domain. To construct a full Pinterest ontology, we first build a preliminary ontology based on Wikipedia Categories, where the root nodes of it are 20 manually selected categories according to the 38 original categories given by Pinterest, such as "Fashion", "Food" and "Wedding". After that, we prune the ontology to adapt it to Pinterest user interest distribution. Basically, categories with low term frequency in board and pin information are removed. As board information and pin information share different weights for the ontology, we consider their pruning approaches separately, and the pruned ontology is obtained by uniting the results of two approaches. In addition, popularity metrics like the number of followers, likes, comments and repins are also considered as positive weighted metric while pruning. As a result, we obtain the refined Pinterest ontology and the statistics are shown in Table [\ref=tab:node-stats].

Map pinboards to topic ontology

With the refined Pinterest ontology, we can model a user's Pinterest profile by topic distribution. As users have their own boards, we can obtain this representation by mapping their boards to the categories in the ontology. For each board, this mapping approach takes three steps. First, we match board information to the categories, which can get a few or even no matches (but more accurate), as the board information is always rare. Second, we match all pins information under the board. Third, concatenate the result of previous two steps. After obtaining the categories mapping for each board, we can get the representation for the users through the union of the categories of their own boards.

Twitter timeline features

We extract two kinds of features to represent the tweets information for each user. First is the original text feature extraction, where feature hashing [\cite=Weinberger:2009:FHL:1553374.1553516] and tf-idf term weighting are applied to reduce feature dimension and weight feature appropriately. Second, we also compute 64 LIWC features (e.g., word categories such as "social" and "work") to model the personality of each user [\cite=pennebaker2001linguistic]. These features may potentially reflect the distribution of their interest and user-curated data (e.g., Pinterest boards).

Data Statistics and Thresholds

In data preparation stage, we filter out those accounts that do not have twitter links or twitter activities are not active enough (number of tweets less than 200). Finally we get 2265 accounts from original 50000 sample Pinterest accounts. With these active accounts, we crawl 4.9 million tweets, 25.5 thousand boards and 2 million pins in total.

In ontology pruning stage, we set the threshold of term frequency for pins information to be 200 and the threshold for board information to be 1/100 of it, as the number of boards is nearly 1/100 of that of pins. After that we get 471 nodes in the ontology, as illustrated in Table [\ref=tab:node-stats].

In user modeling stage, for Pinterest data, we build up a multi-label representation for each user. Table [\ref=tab:data-stats] shows certain standard multi-label statistics of these representation, such as the number of labels, the label cardinality and the label density [\cite=9783540749578]. Label cardinality (LC) is the average number of labels per example, and label density is LC divided by the number of labels |L|. For Twitter data, we extract bag of words (BOW) text feature, and then apply feature hashing to get 5000 dimensional features. 64D LIWC feature is also extracted from the tweets via LIWC dictionary.

Preliminary Evaluation

We use macro-F1, a macro-averaged version of F-measure to measure our approaches, which is widely used in multi-label classification tasks[\cite=read2010scalable]. Formally, we represent an association of labels v and its prediction [formula] as two binary vectors {0,1}T. Then F-measure (F1) can be used to measure the accuracy of the prediction, which is the harmonic mean of precision and recall and defined as follows: F1(v,)  =  (2  ×  precision  ×  recall) / (precision + recall), where precision is defined as [formula], and recall is [formula].

For a multi-label classification task with N examples and L labels, we have two different ways to average the F1 scores:

We compare two common multi-label classification methods: Binary Relevance(BR) and Label Powerset(LP)[\cite=read2010scalable]. BR considers the prediction of each label as an independent binary classification task, while LP considers subset of labels as a single label to perform a multi-class classification task. For efficiency consideration, we adopt RAkEL[\cite=9783540749578] method, which is a variant of LP that ensemble different light LP classifiers trained by small random subsets of the set of labels.

In order to evaluate the effect of personality features, i.e., LIWC feature, in this user-interest relevant task, we compare following three cases: Hashing feature only, LIWC feature only and an early fusion of both features.

Experiment results and Conclusion

Figure. [\ref=fig:result-tune] present the comparison between BR and RAkEL while tuning the parameters k and M in RAkEL method.

Table [\ref=tab:results] shows the full experiment results while comparing BR and LP using different kind of features. Through result above, we notice that LP based method can capture label dependencies and get better performance than BR method, especially when the subset size is large enough to contain sufficient labels. LIWC alone cannot get good result, which means that this personality feature cannot reflect one's interest distribution across different platforms.

We show diversification results qualitatively in Figure. [\ref=fig:sort]. The preliminary results qualitatively validate our proposed system, and further research will work on improving each components and perform user study to prove the efficiency and effectiveness of the system, and also on how to model the dynamic nature of the user interests.