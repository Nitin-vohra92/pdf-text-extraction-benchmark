Observation Theorem Corollary Problem Proposition Definition Example Remark Notation

The Largest Subsemilattices of the Semigroup of Transformations on a Finite Set

Introduction

A semilattice is a commutative semigroup consisting entirely of idempotents. That is, a semigroup S is a semilattice if and only if for all a,b∈S, aa = a and ab = ba. A semilattice can also be defined as a partially ordered set (S,  ≤  ) such that the greatest lower bound [formula] exists for all a,b∈S. Indeed, if S is a semilattice, then (S,  ≤  ), where ≤   is a relation on S defined by a  ≤  b if a = ab, is a poset with [formula] for all a,b∈S. Conversely, if (S,  ≤  ) is a poset such that [formula] exists for all a,b∈S, then S with multiplication [formula] is a semilattice. (See [\cite=Bi70] and [\cite=Ho95].)

The class of semilattices forms a variety of algebras. In the lattice of the varieties of bands (idempotent semigroups), which has been described by Birjukov [\cite=Bi70], Fennemore [\cite=Fe71], and Gerhard [\cite=Ge70], the variety of semilattices appears just above the trivial variety (as one of the three atoms) and below the varieties of left and right normal bands (see [\cite=ArKo07]). If S is an inverse semigroup (for every a∈S, there is a unique a- 1∈S such that a = aa- 1a and a- 1 = a- 1aa- 1), then the set E(S) of idempotents of S is a semilattice. Therefore, semilattices play important role in the theory of inverse semigroups (see [\cite=Ho95]). They also appear in structure theorems for other classes of semigroups, for example for completely regular semigroups [\cite=Ho95]. In the theory of partially ordered sets, semilattices provide the most important generalization of lattices [\cite=Bi70].

For a set X, we denote by T(X) the semigroup of full transformations on X (functions from X to X), and by I(X) the symmetric inverse semigroup of partial one-to-one transformations on X (one-to-one functions whose domain and image are included in X). In both cases, the operation is the composition of functions. (In this paper, we will write functions on the right: xf rather than f(x), and compose from left to right: x(fg) = (xf)g rather than (fg)(x) = f(g(x)).) For a semigroup S, denote by E(S) the set of idempotents of S. The set E(I(X)) is a semilattice, consisting of all e∈I(X) such that [formula] and xe = x for all [formula]. The semilattice E(I(X)), viewed as a poset, is isomorphic to the poset (P(X),  ⊆  ) of the power set P(X) under inclusion. On the other hand, the set E(T(X)) is not a semigroup if [formula] (if |X| = 2, then E(T(X)) is a semigroup but not a semilattice). It is therefore of interest to determine the subsets of E(T(X)) that are semilattices.

In 1991, Kunze and Crvenkovi [\cite=KuCr91] gave a criterion for a subsemilattice of T(X) to be maximal, for a finite set X, in terms of transitivity orders on X introduced in [\cite=KuCr87]. Any subsemilattice S of T(X) induces a partial order ≤   on X (transitivity order): x  ≤  y if x = y or x = ye for some e∈S. Kunze and Crvenkovi have proved [\cite=KuCr91] that a subsemilattice S of T(X) is a maximal subsemilattice if and only if the poset (X  ≤  ) satisfies certain conditions.

All these investigations have been prompted by the fact that any finite full transformation semigroup T(X) is covered by its inverse subsemigroups [\cite=schein1] (also see [\cite=higgins]), and by the still open problem, posed in [\cite=schein2], of describing the maximal inverse subsemigroups of T(X). We note that if X is infinite, then T(X) is not covered by its inverse subsemigroups [\cite=higgins].

The purpose of this paper is to determine the largest subsemilattices of T(X), where X is a finite set with n elements. We prove that for every subsemilattice S of T(X), [formula]. Moreover, we exhibit the set of all subsemilattices of T(X) with the maximum cardinality of 2n - 1. This set consists of n semilattices, each induced by one element of X and isomorphic to the semilattice E(I(X')) of idempotents of the symmetric inverse semigroup I(X'), where X' is a set with n - 1 elements.

In Section [\ref=sitx], we describe the idempotents of T(X) and state some results about commuting idempotents. In Section [\ref=set], we define a collection {Et}t∈X of n maximal subsemilattices of T(X) with |Et| = 2n - 1 for every t∈X. In the remainder of the paper, we prove that 2n - 1 is the maximum cardinality that a subsemilattice of T(X) can have, and that the semilattices Et are the only subsemilattices of T(X) that have this maximum cardinality. Our argument is by induction on n. The crucial step is a construction of a semilattice S* (given a subsemilattice S of T(X)) such that |S|  ≤  2|S*| and S* can be embedded in T(X'), where |X'| = n - 1. This construction is presented in Section [\ref=sinc]. Finally, in Section [\ref=smst], we state and prove our main results.

Throughout this paper, we fix a finite set X and reserve n to denote the cardinality of X. To simplify the language, we will say "semilattice in T(X)" to mean "subsemilattice of T(X)."

Idempotents in T(X)

For a∈T(X), we denote by [formula] the image of a and by [formula] the kernel of a. Let e∈T(X) be an idempotent with the image [formula]. For each [formula], let Ai = xie- 1  =  {y∈X:ye = xi} and note that Aie = {xi} and xi∈Ai. The collection [formula] is the partition of X induced by the kernel of e. We will use the following notation for e:

[formula]

The following result has been obtained in [\cite=ArKo03] and [\cite=Ko02].

Let [formula] be an idempotent in T(X) and let a∈T(X). Then a commutes with e if and only if for every [formula], there is [formula] such that xia = xj and Aia  ⊆  Aj.

Let e,f be idempotents in T(X) such that ef = fe. Then, for all x,y∈X, if [formula] and yf∈xe- 1, then xf = x.

Let [formula], where [formula], be pairwise distinct elements of X. Let [formula] be idempotents in T(X) such that xiei = xi + 1 for every i, 1  ≤  i  ≤  k, where we assume that xk + 1 = x1. Then there is [formula] such that e1ej  ≠  eje1.

Suppose to the contrary that e1ej = eje1 for every [formula]. Then [formula] and x2e1 = x2∈x3e- 12, and so x3e1 = x3 by Corollary [\ref=ccen]. Now, [formula] and x3e1 = x3∈x4e- 13, and so x4e1 = x4 again by Corollary [\ref=ccen]. Using the foregoing argument k - 1 times, we obtain that xk + 1e1 = xk + 1, that is, x1e1 = x1. But this is a contradiction since x1e1 = x2. The result follows.

Lemma [\ref=l4] implies the following proposition, which will be crucial for the construction presented in Section [\ref=sinc]. The proposition is of an independent interest since, in part, it states that if S is a semilattice in T(X), then the intersection of all images of the elements of S is not empty.

Let [formula] and let S be a semilattice in T(X). Then there are t,u∈X with u  ≠  t such that for every e∈S, te = t and ue∈{u,t}.

Suppose to the contrary that there is no t∈X such that te = t for every e∈S. Construct a sequence [formula] of elements of X and a sequence [formula] of elements of S as follows. Start with any y1∈X. By our assumption, there is f1∈S such that y1f1  ≠  y1. Set y2 = y1f1. By our assumption again, there is f2∈S such that y2f2  ≠  y2. Set y3 = y2f2, and continue the construction in the same way. Since X is finite, there is [formula] such that yp = yq for some q > p. Select the smallest such p, and then the smallest q such that q > p and yp = yq. Note that q > p + 1 since, by the construction, yp + 1 = ypfp  ≠  yp. By the minimality of p and q, [formula] are pairwise distinct, yifi = yi + 1 for every [formula], and xq - 1fq - 1 = xq = xp. Thus, by Lemma [\ref=l4], there is [formula] such that fpfj  ≠  fjfp, which is a contradiction. Hence a desired t exists.

Suppose to the contrary that there is no u∈X such that u  ≠  t and ue∈{u,t} for every e∈S. Then we obtain a contradiction in the same way as in the first part of the proof. The only difference is that we start with y1  ≠  t (which is possible since [formula]) and for each i, we select fi∈S such that yif∉{yi,t}. Hence a desired u exists, which concludes the proof.

A Collection of Maximal Semilattices in T(X)

In this section, we define a collection {Et}t∈X of n isomorphic maximal semilattices in T(X) such that |Et| = 2n - 1 for every t∈X. In Sections [\ref=sinc] and [\ref=smst], we will prove that 2n - 1 is the maximum cardinality of a semilattice in T(X) and that {Et}t∈X is the collection of all semilattices in T(X) whose cardinality is 2n - 1.

Recall that I(X) denotes the symmetric inverse semigroup of all partial one-to-one transformations on X and that E(I(X)) is the semilattice of idempotents of I(X). Every μ∈E(I(X)) is completely determined by its domain: if [formula], then xμ = x for every x∈A (and xμ is undefined for every x∉A). We will denote the idempotent in I(X) with domain A by μ . Note that for all A,B  ⊆  X, μ μ   =  μ . The idempotent [formula] is the zero in I(X). We agree that [formula].

For every t∈X,

Et is a maximal semilattice in T(X).

Et is isomorphic to E(I(Xt)) and |Et| = 2n - 1.

Let t∈X. For all e ,e ∈Et, e e  = e ∈Et, e e  = e  = e , and e e  = e  = e  = e e . Thus Et is a semilattice. Let f∈T(X) be an idempotent such that f∉Et. By the definition of Et, there are y,z∈X such that z  ≠  y, y  ≠  t, and zf = y. Suppose z = t, so tf = y. Take e ∈Et such that y∉A. Then t(fe ) = ye  = t and t(e f) = tf = y, so [formula]. Suppose z  ≠  t. Take e ∈Et such that y∉A and z∈A. Then z(fe ) = ye  = t and z(e f) = zf = y, so [formula]. It follows that Et is a maximal semilattice in T(X). We have proved (1).

Define φ:Et  →  E(I(Xt)) by e φ  =  μ . Then clearly φ is a bijection and for all e ,e ∈Et,

[formula]

Thus φ is an isomorphism. Finally, it is clear that the mapping e   →  A is a bijection from Et onto P(Xt), and so |Et| = |P(Xt)| = 2|Xt| = 2n - 1. We have proved (2).

Nichols [\cite=Ni76] has proved that for every t∈X, the set

[formula]

is a maximal inverse subsemigroup of T(X). We note that Et is the semilattice of idempotents of the inverse semigroup It.

An Inductive Construction

Throughout this section, we assume that [formula] and we fix a semilattice S in T(X) and t,u∈X with u  ≠  t such that for all e∈S, te = t and ue∈{u,t}. (Such t and u exist by Proposition [\ref=p5].) Our goal is to construct a semilattice S* in T(X) such that [formula] and S* can be embedded in T(Xu). (Recall that Xu = X - {u}, so |Xu| = n - 1.)

S* is a semilattice in T(X).

Define φ:S  →  T(X) by gφ = g*. We claim that φ is a homomorphism. Let g,h∈S and let x∈X. Suppose x(gh) = u. Then x(gh)* = t and (xg)h* = t. If xg  ≠  u then xg* = xg, and so x(g*h*) = (xg)h* = t. If xg = u then xg* = t, and so x(g*h*) = th* = th = t. Hence x(gh)* = x(g*h*).

Suppose x(gh)  ≠  u. Then x(gh)* = x(gh) and (xg)h* = (xg)h. If xg  ≠  u then xg* = xg, and so x(g*h*) = (xg)h* = (xg)h. If xg = u then (xg)h = t (since (xg)h = uh∈{u,t} and (xg)h  ≠  u), and so x(g*h*) = th* = th = t = (xg)h. Hence x(gh)* = x(g*h*).

We have proved that (gh)* = g*h* for all g,h∈S, and the claim follows. It is clear that [formula]. Hence S* is a semilattice in T(X) since any homomorphic image of a semilattice is a semilattice.

Let g,h∈S be such that xg = u and yh = u for some x,y∈X. Suppose g  ≠  h. Then [formula].

Since g  ≠  h, there is z∈X such that zg  ≠  zh. If zg  ≠  u and zh  ≠  u, then zg* = zg  ≠  zh = zh*.

Suppose zg = u or zh = u. We may assume that zg = u. Then zg* = t. Since zh  ≠  zg = u, we have zh* = zh. Since gh = hg,

[formula]

which implies that zh  ≠  t (since tg = t  ≠  u). Thus zg* = t  ≠  zh = zh*.

Hence zg*  ≠  zh* in all cases, and so [formula].

|S|  ≤  2|S*|.

Let A = {g∈S:}. Then, by the definition of S*, we have [formula], where A*  =  {g*:g∈A}. Thus [formula], and so [formula]. By Lemma [\ref=l8], |A*| = |A|, and so

[formula]

which concludes the proof.

We will now show that the semilattice S* can be embedded in T(Xu). For a function f:A  →  B and A0  ⊆  A, we denote by f|A0 the restriction of f to A0.

S*u is a semilattice in T(Xu) isomorphic to S*.

Define φ:S*  →  T(Xu) by g*φ = g*|Xu. Then φ is a homomorphism since for all g*,h*∈S*,

[formula]

Clearly [formula]. Suppose g*|Xu = h*|Xu. Then xg* = xh* for every x∈Xu. Thus g* = h* since ug* = t = uh*. Hence φ is one-to-one, and the result follows.

The Maximum Cardinality Results

In this section, we prove our main results about the maximum cardinalities of semilattices in T(X).

Let [formula], S be a semilattice in T(X), and t,u∈X be such that u  ≠  t and for every e∈S, te = t and ue∈{u,t}. Suppose that [formula] for all e∈S and all x∈X - {u,t}, and that [formula] for some f∈S. Then |S| < 2n - 1.

Define λ:S  →  Et by

[formula]

where e∈S and x∈X. Note that, indeed, eλ∈Et since [formula] if x∉{t,u}, so [formula] if x  ≠  t. We claim that λ is one-to-one but not onto.

Let g,h∈S be such that gλ = hλ and let x∈X. If x = u, then xg = x(gλ) = x(hλ) = xλ. If x  ≠  u, xg  ≠  u, and xh  ≠  u, then again xg = x(gλ) = x(hλ) = xλ.

Let x  ≠  u. Suppose xg = u or xh = u. We may assume that xg = u. Then x(gλ) = t, and so x(hλ) = x(gλ) = t. The latter implies that either xh = t or xh = u. We claim that xh = t is impossible. Indeed, suppose to the contrary that xh = t. Then, since gh = hg,

[formula]

which is a contradiction since t  ≠  u. Thus xh  ≠  t, and so xh = u. But then xg = xh.

Hence xg = xh for every x∈X, and so λ is one-to-one. We know that there exists f∈S such that [formula]. Thus there is z∈X such that z  ≠  u and zf = u. Consider any e ∈Et such that z∈A and u∉A. Note that ze  = z and ue  = t. We claim that [formula]. Suppose to the contrary that e  = gλ for some g∈S. Then there is no x∈X such that xg = u. (Indeed, if such an x existed, then we would have ug = (xg)g = x(gg) = xg = u, and so t = ue  = u(gλ) = ug = u, which would contradict u  ≠  t.) It then follows from the definition of λ that gλ = g. Hence e  = gλ = g∈S, and so e f = fe . But z(fe ) = ue  = t and z(e f) = zf = u, and we have obtained a contradiction since u  ≠  t. The claim has been proved, and so λ is not onto.

Since λ:S  →  Et is one-to-one but not onto, we have |S| < |Et| = 2n - 1.

We can now prove our main results.

Let S be a semilattice in T(X), where X is a finite set with n elements. Suppose that S  ≠  Es for every s∈X. Then |S| < 2n - 1.

We proceed by induction on n. The result is vacuously true for n = 1. Let [formula] and suppose the result is true for every semilattice in T(Z) with |Z| = n - 1. By Proposition [\ref=p5], there are t,u∈X such that u  ≠  t and for every e∈S, te = t and ue∈{u,t}. We consider two cases. Case 1. [formula] for all e∈S and all x∈X - {u,t}. Then, since S  ≠  Et, there is f∈S such that [formula], and so |S| < 2n - 1 by Lemma [\ref=l13]. Case 2. [formula] for some g∈S and some y∈X - {u,t}. Then there is z∈X such that z  ≠  y and zg = y. Note that z  ≠  u (since ug∈{u,t} and y  ≠  u,t). Consider the semilattice S*u in T(Xu) from Definition [\ref=d10]. For any s∈Xu, we now have the semilattice Es in T(X) and the semilattice Es in T(Xu). To avoid ambiguity, we will denote the latter by E's.

Consider e = g*|Xu∈S*u. By the definition of g* (see Definition [\ref=d6]), ze = zg* = zg = y, and so e∉E't (since y  ≠  t and z  ≠  y). Thus S*u  ≠  E't, and so S*u  ≠  E's for every s∈Xu (since te = t for every e∈S*u). Hence, by the inductive hypothesis, |S*u| < 2n - 2. But |S*u| = |S*| (by Lemma [\ref=l11]) and [formula] (by Lemma [\ref=l9]). Hence [formula].

The following corollary follows immediately from Theorem [\ref=tmain] and Proposition [\ref=p2].

Let X be a finite set with n elements. Then:

The maximum cardinality of a semilattice in T(X) is 2n - 1.

There are exactly n semilattices in T(X) of cardinality 2n - 1, namely the semilattices Et (t∈X) from Definition [\ref=det].

Each semilattice Et is isomorphic to the semilattice of idempotents of the symmetric inverse semigroup I(X'), where |X'| = n - 1.

By Corollary [\ref=cmain], if S is a semilattice in T(X) with m = |S|, then 1  ≤  m  ≤  2n - 1. It is easy to see that the converse is also true: if 1  ≤  m  ≤  2n - 1, then m = |S| for some semilattice S in T(X). Indeed, fix t∈X. If m = 2n - 1, then m = |Et|. Let 1 < m  ≤  2n - 1 and suppose m = |S| for some subsemilattice S of Et. Let A  ⊆  Xt be such that e ∈S and |A|  ≥  |B| for every B  ⊆  Xt. Then S1 = S - {e } is a subsemilattice of Et with |S1| = m - 1. The converse follows.

Of course, the subsemilattices of Et, with the exception of Et itself, are not maximal. We conclude the paper with the following problem. Problem. Let X be a finite set with n elements. Which numbers m, 1  ≤  m  ≤  2n - 1, can serve as the cardinalities of maximal semilattices in T(X)?