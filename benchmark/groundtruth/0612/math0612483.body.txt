Proposition Proposition Theorem Theorem Corollary Lemma

Problem Problem Definition

Towards Commutator theory for relations. IV.

See Parts I-III [\cite=ctfr] for unexplained notation.

We now find more conditions equivalent to the existence of a term Mal'cev modulo F and G throughout a variety, thus complementing Theorem 3 in Part III.

Suppose that V is a variety, F, G are global operators on V for admissible and reflexive relations, F, G are monotone and satisfy the homomorphism property. Then the following are equivalent:

(i) V has a term which is Mal'cev modulo [formula] and [formula] for every algebra [formula] in V.

(ii) In every algebra [formula] and for all relations [formula], the following holds:

[formula]

(iii) In the free algebra [formula] in V generated by 2 elements the following holds:

[formula]

for all relations [formula].

(iv) In every algebra [formula] and for all relations [formula], the following holds:

[formula]

(v) In the free algebra [formula] in V generated by 2 elements the following holds:

[formula]

for all relations [formula].

(vi) In the free algebra [formula] in V generated by the 3 elements x,y,z the following holds:

[formula]

where S is the smallest reflexive and admissible relation on [formula] containing (x,y), and T is the smallest reflexive and admissible relation on [formula] containing (y,z).

(vii) In the free algebra [formula] in V generated by the 3 elements x,y,z the following holds:

[formula]

where S is the smallest reflexive and admissible relation on [formula] containing (x,y) and (y,z), and Θ is the tolerance generated by S.

(i) ⇒   (ii). If [formula] then [formula] and there exists b∈A such that [formula]. Thus, [formula]. Actually, (i) ⇒   (ii) is a particular case of Theorem 1(i) in Part III.

(ii) ⇒   (iii) and (iv) ⇒   (v) are trivial.

Both (ii) ⇒   (iv) and (iii) ⇒   (v) are obtained by taking R = 0.

(v) ⇒   (i). Let x,y be the generators of [formula]. By taking, in (v), T = S to be the smallest admissible and reflexive relation of [formula] containing (x,y) we get Condition (x) in Part III, Theorem 3, which implies (i) by the same theorem.

(i) ⇒   (vi) and (i) ⇒   (vii) are immediate from Part III, Theorem 1 (iii).

(vi) ⇒   (i). Since [formula], we have [formula], hence [formula] by assumption.

This means that there are terms t1(x,y,z), t(x,y,z) and t2(x,y,z) such that [formula], (t1(x,y,z),t(x,y,z))∈Cg(T), (t(x,y,z),t2(x,y,z))∈Cg(S) and [formula].

Since [formula], we get t1(x,y,y) = t(x,y,y), and similarly t(y,y,z) = t2(y,y,z).

Now the proof goes exactly as in the final part of the proof of Part III, Theorem 3 (vii) ⇒   (i).

(vii) ⇒   (i). Let [formula] be as in (vii). Since [formula], we have [formula], hence [formula].

This means that V has terms t1(x,y,z) and t2(x,y,z) such that (x,[formula], (t1(x,y,z),t2(x,y,z))∈Θ and [formula].

Notice that [formula]. Indeed, the right-hand relation is reflexive, symmetric, admissible, and contains (x,y) and (y,z); moreover, every other reflexive, symmetric admissible relation containing (x,y) and (y,z) contains all pairs of the form (u(x,y,z,x,y,y,z),u(x,y,z,y,x,z,y)).

Hence, (t1(x,y,z),t2(x,y,z))∈Θ means that there is a 7-ary term t' such that t1(x,y,z) = t'(x,y,z,x,y,y,z) and t'(x,y,z,y,x,z,y) = t2(x,y,z).

We claim that the ternary term t(x,y,z) = t'(x,y,z,x,y,z,y) is Mal'cev modulo F and G throughout V. First, notice that t1(x,y,y) = t(x,y,y), and t(y,y,z) = t2(y,y,z). Now the last part of the proof of Part III, Theorem 3 (vii) ⇒   (i) shows that [formula] holds for every algebra [formula] and [formula], and a similar relation holds for G, thus t is Mal'cev modulo F and G.

We say that F is regular on V if and only if F is a global operator on V from admissible and reflexive relations to congruences (that is, [formula] is always supposed to be a congruence of [formula]), F is monotone, satisfies the homomorphism property, and satisfies also the following quotient property: "for every [formula] and every [formula], it happens that [formula], where [formula] is [formula]". Here, [formula] denotes π(R), where π denotes the canonical epimorphism [formula].

In the particular case when F = G, we simply say that a term t is Mal'cev modulo F in order to mean that t is Mal'cev modulo F and F.

Suppose that V is a variety and F is a global operator which is regular on V and satisfies F(R) = F(R-), for every admissible relation R. Then the following are equivalent:

(i) V has a term which is Mal'cev modulo [formula] for every algebra [formula] in V.

(ii) For every [formula] and [formula], if [formula] then R is a congruence of [formula].

(iii) For every [formula] and [formula], if [formula] then R is a tolerance of [formula].

(iv) For every [formula] and [formula], if [formula] then R is a transitive relation of [formula].

(v) Let [formula] be the free algebra in V generated by {x,y} and S be the smallest reflexive and admissible relation on [formula] containing (x,y). If [formula], then [formula] is (a) a congruence (equivalently, (b) a tolerance) of [formula].

(vi) Let [formula] be the free algebra in V generated by {x,y,z} and S be the smallest reflexive and admissible relation on [formula] containing (x,y) and (y,z). If [formula], then [formula] is a transitive relation of [formula].

(i) ⇒   (ii) is immediate from Part III, Theorem 1(xi).

(ii) ⇒   (iii) and (ii) ⇒   (iv) are trivial.

Let [formula] be as in (v) (respectively, as in (vi)). By the quotient property, [formula], thus (ii), (iii), (iv) imply, respectively, (v)(a), (v)(b), (vi).

If T is a congruence then T is a tolerance, thus (v)(a) implies (v)(b).

Suppose that (v)(b) holds. Since [formula] is a tolerance, and π is surjective, then [formula] is a tolerance, hence [formula].

Thus [formula], which is Condition (x) in Part III, Theorem 3, which implies (i).

Suppose that (vi) holds, that is, T is transitive. Then π- 1(T) is transitive, hence [formula].

This is Condition (vii) in Part III, Theorem 3, which implies (i).

The next theorem provides a version of our results for what might be called neutral varieties, that is, varieties satisfying R  ⊆  F(R) (notice that we are not necessarily assuming F(R)  ⊆  R).

Suppose that V is a variety, F is a global operator on V for admissible and reflexive relations, and F is monotone and satisfies the homomorphism property. Then the following are equivalent:

(i) [formula] holds for every algebra [formula] in V and for every relation [formula].

(ii) [formula] holds for every admissible and reflexive relation R in the free algebra [formula] in V generated by 2 elements.

(iii) [formula] holds in the free algebra [formula] in V generated by the two elements x, y, where S is the smallest admissible and reflexive relation of [formula] containing (x,y).

(iii)' In the free algebra [formula] in V generated by the two elements x, y, if S is the smallest admissible and reflexive relation of [formula] containing (x,y) then [formula].

In case F is regular, the preceding conditions are also equivalent to the following ones:

(iv) For every algebra [formula] in V and for every relation [formula], if [formula] then [formula].

(v) Let [formula] be the free algebra in V generated by the two elements x, y, and let S be the smallest admissible and reflexive relation of [formula] containing (x,y). Then [formula] in [formula].

(i) ⇒   (ii) ⇒   (iii) ⇒   (iii)' are trivial.

(iii)' ⇒   (i). Suppose that [formula], a,b∈A, [formula], and [formula].

Since [formula] is the free algebra in V generated by {x,y}, there is a homomorphism [formula] such that φ(x) = a and φ(y) = b.

Since, by (iii)', [formula], we have that [formula], hence, by the homomorphism property, [formula].

Since S is the admissible and reflexive relation generated by (x,y), and φ is a homomorphism, then φ(S) is the admissible and reflexive relation generated by (φ(x),φ(y)) = (a,b), and, since [formula], we have that φ(S)  ⊆  R; thus, by the monotonicity of [formula], we get [formula] and, eventually, [formula].

(i) ⇒   (iv) is trivial.

(iv) ⇒   (v). By the quotient property, [formula], thus [formula] by (iv).

(v) ⇒   (iii). [formula] in [formula] means [formula] in [formula].

We now show that the commutators defined in [\cite=lpumi] and in Part I satisfy the homomorphism property. Actually, we shall deal with n-ary global operators on V, that is, operators depending on n-variables (as above, each variable is intended to be an admissible and reflexive relation). In this general situation, the homomorphism property reads [formula], for every [formula], homomorphism [formula], and [formula]. Moreover, F is monotone if and only if R1  ⊆  S1, , Rn  ⊆  Sn imply [formula].

If [formula] is any algebra, and R,S are compatible and reflexive relations, M(R,S) is defined to be the set of all matrices of the form

[formula]

where ā,ā'∈Ah, ,'∈Ak, for some h,k  ≥  0, t is an h + k-ary term operation of [formula], and [formula], [formula]. Here, [formula] means [formula], [formula], .

For R,S,T,U compatible and reflexive relations, let

[formula]

K(R,S;1;T) is denoted by K(R,S;T) in Part I, and various commutators for relations are constructed there from K(R,S;T).

For every variety V, K(R,S;U;T) and K(R,S;T) are monotone global operators on V satisfying the homomorphism property.

We shall give the proof for K(R,S;U;T). The proof for K(R,S;T) is similar and simpler (and, anyway, is the particular case U = 1 constantly). The operators are trivially monotone.

We now prove that K(R,S;U;T) satisfies the homomorphism property. Suppose that [formula], [formula], [formula], [formula], and (x',w')∈φ(K(R,S;U;T)). We have to show that (x',w')∈K(φ(R),φ(S);φ(U);φ(T)).

That (x',w')∈φ(K(R,S;U;T)) means that [formula] has couples [formula](xm,wm)∈K(R,S;U;T) such that, in [formula], (x',w') belongs to the admissible and reflexive relation generated by [formula]. This means that [formula] has an m-ary polynomial p such that [formula], and [formula].

Since (xi,wi)∈K(R,S;U;T) for every [formula], then, by the definition of K(R,S;U;T), there are matrices

[formula]

such that [formula], [formula], [formula], [formula], and xi = ti(āi',i), wi = ti(āi',i').

For sake of brevity, let us write ti(φāi,φi) in place of [formula][formula]. The matrix

[formula]

belongs to M(φ(R),φ(S)); moreover, since φ is a homomorphism, the above matrix equals

[formula]

Since [formula], and since T is admissible, the elements in the upper row of the matrix are φ(T)-related; similarly, the elements in the left-hand column are φ(U)-related. Since xi = ti(āi',i), and wi = ti(āi',i'), then the second row of the matrix consists of the elements [formula], and [formula]. This means that the matrix witnesses that (x',w')∈K(φ(R),φ(S);φ(U);φ(T)).

If V is a variety, [formula] are n-ary global operators on V for admissible and reflexive relations, and [formula] satisfy the homomorphism property, then so do the following operators:

(i) [formula];

(ii) [formula];

(iii) [formula];

(iv) G4() = F1()  +  F2();

(v) [formula];

(vi) [formula].

(vii) [formula].

If, in addition, [formula] are monotone, then so are [formula].

The proof is similar to the proof of Proposition [\ref=hom], in many cases simpler.

Since, trivially, the constant operators F() = 0 and F() = 1, the operator F(R) = R-, as well as the projections, are monotone and satisfy the homomorphism property, we get from Proposition [\ref=hom1](vii)(v) that, for example, F(R,S) = K(R,S;0)* is monotone and satisfies the homomorphism property. Similarly, Proposition [\ref=hom1] can be iterated in order to show that all the commutators introduced in Part I are monotone and satisfy the homomorphism property. Notice also that condition (vi) in Proposition [\ref=hom1] is more general than Proposition [\ref=hom]: just take n = 4, and let each Fi be the projection onto the i-th coordinate.