Multislice Modularity Optimization in Community Detection and Image Segmentation

Methods

Many networks can be partitioned into communities, such that they consist of cohesive (and often dense) groups of vertices with sparse connections between distinct groups [\cite=comnotices]. Perhaps the most popular way of detecting communities algorithmically is by optimizing the quality function known as modularity [\cite=newman]:

[formula]

which measures how well a network can be partitioned into disjoint groups of nodes. In ([\ref=mod]), Aij are the elements of the graph's adjacency matrix [formula], the sum of all of the edge weights in the network is m, ki is the strength (i.e., weighted degree) of node i, and the resolution parameter γ [\cite=resolution] enables us to uncover community structure at different scales. The modularity of a network partition measures the fraction of total edge weight within communities minus that expected if edges were placed randomly according to the null model Pij  =  kikj / (2m), which preserves a network's expected strength distribution. Finding a network partition that attempts to maximize Q allows one to probe a network's community structure. In contrast to traditional forms of spectral clustering, modularity optimization requires no knowledge of the number or sizes of communities, and it also allows one to segment a network into communities of disparate sizes (even for a fixed value of γ) [\cite=comnotices] [\cite=newman].

Optimization of modularity was recently generalized to "multislice" networks [\cite=mason], which are represented using adjacency tensors and consist of layers of ordinary networks. The framework of multislice networks can thereby be used to represent time-dependent or multiplex networks. In Fig. [\ref=schematic](a), we show a schematic of a multislice network. Using this framework, we define a generalized modularity function [\cite=mason]

[formula]

where gjr indicates that community assignment of node j from slice r, the intraslice edge strength of node j in slice s is [formula], the corresponding interslice edge strength is [formula], and [formula]. In ([\ref=multimod]), one can use a different resolution parameter γs in each slice. For a given slice s, the quantity Aijs gives the edge weight between nodes i and j. For a given node j, the quantity Cjsr gives the interslice coupling between the rth and sth slices.

Optimization of the ordinary modularity function ([\ref=mod]) has been used to study community structure in myriad networks [\cite=comnotices], and it has also been used in the analysis of hyperspectral images [\cite=hyperspectral] recently. In our work, we optimize multislice modularity ([\ref=multimod]) to examine community structure in social networks and segmentation of images. In each case, we start with a static graph, and each layer of the multislice network uses the same adjacency matrix but associates it with a different resolution-parameter value γs. We include interslice edges between each node j in adjacent slices only, so Cjsr  =  0 unless |r  -  s|  =  1. We set all nonzero interslice edges to a constant value ω. This setup, which was illustrated using the infamous Zachary Karate Club network in [\cite=mason], allows one to detect communities using a range of resolution parameter values while enforcing some consistency in clustering identical nodes similarly across slices. The strength of this enforcement becomes larger as one increases ω. To optimize multislice modularity ([\ref=multimod]), we use a Louvain-like locally-greedy algorithm [\cite=louvain] [\cite=genlouvain].

Data and Results

LAPD Field Interview Data

In [\cite=ICDM], we used data with both geographic and social information about stops involving street gang members in the Los Angeles Police Department (LAPD) Division of Hollenbeck [\cite=reu]. We optimized multislice modularity ([\ref=multimod]) as a means of unsupervised clustering of individual gang members without prior knowledge of the number of gangs or affiliation of the members. We subsequently examined network diagnostics over slices to attempt to estimate the number of gangs that is stable across multiple resolution-parameter values and that also corresponds roughly to the number expected by the LAPD.

Cow Image

We segment the cow image in Fig. [\ref=schematic](b) (which contains about 3  ×  104 pixels) without specifying the number of image components. We build a graph of this image in which each node corresponds to a pixel and each edge indicates the similarity between a pair of pixels. We associate a 3  ×  3 pixel-neighbor patch with each pixel i in the image. Let pD(i,j) denote the L2 norm of the difference of patches corresponding to nodes i and j. The adjacency matrix [formula] that we use in each layer of the multislice network has elements

[formula]

where τ(i) is the 30th smallest pD between pixel i and other pixels [\cite=localscaling]. We construct a multislice network that consists of six copies of [formula]. We associate the resolution parameter value γs  =  0.04s  -  0.03 with slice [formula]. We then optimize multislice modularity and obtain the image segmentations shown in Fig. [\ref=cow]. (Color indicates group assignments.) With this procedure, we are able to identify all four components of the image. As indicated in panel (a), we obtain smaller-scale communities (i.e., groups of pixels) as we increase the value of the resolution parameter. Importantly (see the discussion in Section [\ref=methods]), the coupling between slices enforces some consistency in clustering identical nodes similarly across slices. In panels (b) and (c), we observe a good segmentation of the two cows, the sky, and the background grass. As indicated in panel (d), the three groups corresponding to the two cows and the sky stay relatively stable, but the group corresponding to the grass breaks down by the sixth slice.

This application on image segmentation is computationally expensive due to the large number of pixels. It takes a lot of computational memory and time to run the optimization using more slices, which we would like to do in order to investigate how the segmentation evolves over a larger range of resolution values. Computational improvements will be necessary to conduct more detailed analysis.

Future Directions

As mentioned above, optimization of multislice modularity can be computationally expensive. As the size of network data has increased tremendously, it is crucial to develop efficient algorithms to cluster network nodes to obtain insights on applications like social networks and images. To do this, one needs to take advantage of data sparsity to help speed up optimization processes. Aside from the computational cost, how to characterize and analyze the performance of modularity optimization is of importance as well.

Acknowledgments

We are grateful to the LAPD Division of Hollenbeck, and Megan Halvorson, Shannon Reid, Matt Valasik, James Wo, and George E. Tita, at the Department of Criminology, Law, and Society of UCI, for the collection, digitization, and cleaning, of the LAPD Field Interview data. We also thank P. Jeffrey Brantingham for educating us about the anthropology of gangs. This work is supported by ONR grant N000141210838, ONR grant N000141210040, AFOSR MURI grant FA9550-10-1-0569, NSF grant DMS-0968309 and ONR grant N000141010221. MAP acknowledges a research award (#220020177) from the James S. McDonnell Foundation, and he thanks Andrea L. Bertozzi for hosting his visit to UCLA.