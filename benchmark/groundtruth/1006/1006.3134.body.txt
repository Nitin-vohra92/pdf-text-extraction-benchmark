Classical and Intuitionistic Subexponential Logicsare Equally Expressive

Introduction

In [\cite=miller10bcs-my], Miller writes:

"While there is some recognition that logic is a unifying and universal discipline underlying computer science, it is far more accurate to say that its universal character has been badly fractured one wonders if there is any sense to insisting that there is a core notion of 'logic'."

Possibly the oldest such split is along the classical/intuitionistic seam, and each side can be seen as more universal than the other. Classical logics, the domain of traditional mathematics, generally have an elegant symmetry in the connectives that can often be exploited to create sophisticated proof search and model checking algorithms. On the other hand, intuitionistic logics, which introduce an asymmetry between multiple hypotheses and single conclusions, can express the computational notion of function directly, making it the preferred choice for programming languages and logical frameworks. Can the rift between these two sides be bridged?

Miller proposes one approach: to use structural proof theory, particularly the proof theory of focused sequent calculi, as a unifying language for logical formalisms. There is an important proof theoretic difference between a given classical logic and its intuitionistic restriction (see ): the classical formulas can be encoded using the intuitionistic connectives in such a way that classical provability is preserved, , a formula is classically provable if and only if its encoding is intuitionistically provable. In the other direction, however, there are no such general encodings. The classical logic will either have to be extended (for example, with terms and quantifiers) or refined with substructural or modal operators. For this reason, intuitionistic logics are sometimes considered to be more expressive than their classical counterparts.

In this paper, we compare logical calculi for "universality" using the specific technical apparatus of adequate propositional encodings. That is, given a formula in a source logic O, we must be able to encode it in a target logic M that must preserve the atomic predicates and must reuse the reasoning principles of M, particularly its notion of provability. An example of such an encoding would be ordinary classical logic encoded in ordinary intuitionistic logic where each classical formula A is encoded as the intuitionistic formula [formula]. We can go further and also reuse the proofs of the target calculus; in fact, there are at least the following levels of adequacy:

An encoding of formulas (equiv. of sequents) from a source to a target calculus is

globally adequate if a formula is true (equiv. a sequent is derivable) in the source calculus iff its encoding is true (equiv. the encoding of the sequent is derivable) in the target calculus;

adequate if the proofs of a formula (equiv. a sequent) in the source calculus are in bijection with the proofs of the encoding of the formula (equiv. the sequent) in the target calculus; and

locally adequate if open derivations (, partial proofs with possibly unproved premises) of a formula (equiv. a sequent) in the source calculus are in bijection with the open derivations of the formula (equiv. the sequent) in the target calculus.

Local adequacy is an ideal for encodings because it is a strong justification for seeing the target calculus as more universal: (partial) proofs in the source calculus can be recovered at any level of detail. However, it is unachievable except in trivial situations. Indeed, even adequacy is often difficult; for instance, the linear formula [formula] has three sequent proofs, differing in the order in which the second [formula] and the two [formula]s are introduced, but there is only a single sequent proof of [formula].

It is nevertheless possible to define a kind of local adequacy that is more flexible: adequacy up to permutations of inference rules entirely inside one of the phases of focusing. A focused proof [\cite=andreoli92jlc] is a proof that makes large synthetic rules that are maximal chains of positive or negative inference rules. An inference rule is positive, sometimes called synchronous, if it involves an essential choice, while it is negative or asynchronous if the choices it presents (if any) are inessential. The term "focus" describes the way positive inferences are chained to form synthetic steps: each inference is applied (read from conclusion to premises) to a single formula under focus, and the operands of this connective remain under focus in the premises.

An encoding of sequents from a source to a target focused calculus is focally adequate if they have the same synthetic inference rules.

Since focusing abstracts away the inessential permutations of inference rules, a focally adequate encoding can be used to compare logics for "essential universality". Surprisingly, there are very few known focal adequacy results (see [\cite=chaudhuri06phd] [\cite=liang09tcs] for practically all such known results). This paper fills in many of the gaps for existing (substructural) logics by proving a pair of general encodings (see theorems [\ref=thm:csl-isl] and [\ref=thm:isl-csl]) about subexponential logics [\cite=danos93kgc-my] [\cite=nigam09ppdp-my]. It is well known that the exponentials of linear logic are non-canonical. If a pre-order is imposed upon them with suitable conditions, then the resulting logic is well-behaved, satisfying identity, admitting cuts, and allowing focusing. Moreover, classical, intuitionistic, and linear logics can be seen as instances of subexponential logic for particular collections of subexponentials. Our encodings are generic, parametric on the subexponential signature of the source and target logics. As particular instances, we obtain focal adequacy results for: classical logic (CL) in intuitionistic logic (IL), IL in classical linear logic (CLL), CLL in intuitionistic linear logic (ILL), and an indefinite bidirectional chain between classical and intuitionistic subexponential logics, all of which are novel. Moreover, our encodings show that any analysis (such as cut-elimination) or algorithm (such as proof search) that is generic on the subexponential signature cannot (and need not) distinguish between classical and intuitionistic logics.

The rest of this paper is organized as follows: in classical subexponential logic is introduced, together with its focused sequent calculus and well known instances; in its intuitionistic restriction is presented; then in the bidirectional encoding between classical and intuitionistic subexponential logic is constructed. Details omitted here for space reasons can be found in the accompanying technical report [\cite=chaudhuri10tr].

Classical subexponential logic

Subexponential logic borrows most of its syntax from linear logic [\cite=girard87tcs]. As we are comparing focused systems, we adopt a polarised syntax from the beginning. Polarised formulas will have exactly one of two polarities: positive ([formula]) constructed out of the positive atoms and connectives, and negative ([formula]) constructed out of the negative atoms and connectives. These two classes of formulas are mutually recursive, mediated by the indexed subexponential operators [formula] and [formula].

Because we will eventually consider its intuitionistic restriction, we retain implication [formula] as a primitive even though it is classically definable. However, we exclude the non-linear implication ([formula]) because the unrestricted zones are non-canonical; , there are many such implications, each defined using a suitable subexponential (or compositions thereof). The subscript z in exponential connectives denotes zones drawn from a subexponential signature (using the terminology of [\cite=nigam09ppdp-my]).

A subexponential signature Σ is a structure [formula] where:

〈Z,  ≤  〉 is a non-empty pre-ordered set (the "zones");

[formula] is a "working" zone;

U  ⊆  Z is a set of unrestricted zones that is ≤  -closed, , for every z1,z2∈Z, if z1  ≤  z2, then z1∈U implies z2∈U. [formula] will be called the restricted zones.

We use u,v,w to denote unrestricted zones and r,s,t to denote restricted zones.

Unrestricted zones admit both weakening and contraction, while restricted zones are linear. The logic is parametric on the signature. (Particular mentions of the signature will be omitted unless necessary to disambiguate, in which case they will be written in a subscript.) We use use a two-sided sequent calculus formulation of the logic in order to avoid appeals to De Morgan duality. This will not only simplify the definition of the intuitionistic restriction (), but will also be crucial to the main adequacy result. Formulas in contexts are annotated with their subexponential zones as follows: [formula] will stand for A occurring in zone denoted by z, and [formula] for [formula]. Sequents are of the following kinds:

The contexts in these sequents have the following restrictions:

All elements of the left passive context [formula] are of the form [formula].

All elements of the right passive context [formula] are of the form [formula].

All elements of the left active context [formula] are of the form [formula].

All elements of the right active context [formula] are of the form [formula].

The rules of the calculus are presented in . Focused sequent calculi presented in this style, which is a stylistic variant of Andreoli's original formulation [\cite=andreoli92jlc], have an intensional reading in terms of phases. At the boundaries of phases are sequents of the form [formula], which are known as neutral sequents. Proofs of neutral sequents proceed (reading from conclusion to premises) as follows:

Decision: a focus is selected from a neutral sequent, either from the left or the right context. This focused formula is moved to its corresponding focused zone using one of the rules , , and (/ = "unrestricted"/"restricted", = "decision", and / = "right"/"left"). These decision rules copy the focused formula iff it occurs in an unrestricted zone.

Focused phase: for a left or a right focused sequent, left or right focus rules are applied to the formula under focus. These focused rules are all non-invertible in the (unfocused) sequent calculus and therefore depend on essential choices made in the proof. In all cases except and the focus persists to the subformulas (if any) of the focused formula. For binary rules, the restricted portions of the contexts are separated and distributed to the two premises. This much should be familiar from focusing for linear logic [\cite=andreoli92jlc] [\cite=chaudhuri08jar].

The two unusual rules for subexponential logic are and , which are generalizations of rules for the single exponential in ordinary linear logic. These rules have a side condition that no formulas in a strictly ≤  -smaller zone may be present in the conclusion. If the working zone [formula] is ≤  -minimal (which is not necessarily the case), then this side condition is trivial and the rules amount to a pure change of polarities, similar to the [formula] and [formula] connectives of polarised linear logic [\cite=laurent02phd]. For the other zones, this rule tests for the emptiness of some of the zones. It is this selective emptiness test that gives subexponential logic its expressive power [\cite=nigam09ppdp-my] [\cite=nigam09phd].

Active phase: once the exponential rules and are applied, the sequents become active and left and right active rules are applied. The order of the active rules is immaterial as all orderings will produce the same list of neutral sequent premises. In Andreoli's system the irrelevant non-determinism in the order of these rules was removed by treating the active contexts [formula] and [formula] as ordered contexts; however, we do not fix any particular ordering.

In the traditional model of focusing, the above three steps repeat, in that order, in the entire proof. The focused system can therefore be seen as a system of synthetic inference rules (sometimes known as bipoles) for neutral sequents. It is possible to give a very general presentation of such synthetic inference systems, for which we can prove completeness and cut-elimination in a very general fashion [\cite=chaudhuri08lpar-my]. It is also possible, with some non-trivial effort, to show completeness of the focused calculus without appealing to synthetic rules [\cite=chaudhuri08jar] [\cite=liang09tcs]. We do not delve into such proofs in this paper because this ground is well trodden. Indeed, a focused completeness theorem for a very similar (but more general) formulation of subexponential logic can be found in [\cite=nigam09phd]. The synthetic soundness and completeness theorems are as follows, proof omitted:

Despite its somewhat esoteric formulation, it is easy to see how subexponential logic generalizes classical substructural logics.

In addition to such instances produced by instantiating the subexponential signature, it is also possible to get the unpolarised versions of these logics by applying [formula] and [formula] to immediate negative (resp. positive) subformulas of positive (resp. negative) formulas.

Intuitionistic subexponential logic

One direct way of defining intuitionistic fragments of classical logics is as follows:

Given a two-sided sequent calculus, its intuitionistic restriction is that fragment where all inference rules are constrained to have exactly a single formula on the right hand sides of sequents.

The practical import of this restriction is that the connectives [formula] and [formula] disappear, because their right rules require two and zero conclusions, respectively. As a result, [formula] becomes a primitive because its classical definition requires [formula] (and De Morgan duals, which are also missing with the intuitioistic restriction). In a slight break from tradition [\cite=girard87tcs] [\cite=schellinx91jlc] [\cite=barber96tr], we retain [formula] in the intuitionistic syntax. The intuitionistic restriction produces the following kinds of sequents:

We shall use [formula] to stand for the right hand forms--either [formula] or [formula]--for active sequents above. The full collection of rules is given in . As before, we use [formula] (resp. [formula]) to refer to a positive formula or negative atom (resp. negative formula or positive atom).

The nature of subexponential signatures does not change in moving from classical to intuitionistic logic. The decision rule obviously cannot copy the right formula in the intuitionistic case. Thus, both the right decision rules collapse; [formula] takes on an additional modal aspect and is no longer the perfect dual of [formula]. The standard explanation of this loss of symmetry in the exponentials is the creation of a new possibility judgement that is weaker than linear truth; see [\cite=chaudhuri03tr] for such a reconstruction of the intuitionistic [formula].

The proof of completeness for focused intuitionistic subexponential logic has never been published. However, any similar proof for intuitionistic linear logic, such as [\cite=chaudhuri08jar] [\cite=liang09tcs], can be adapted. Again, we simply state the synthetic version of the theorems here without proof.

The intuitionstic restrictions of the familiar instances from simply use the same subexponential signatures.

Focally adequate encodings

This section contains the main technical contribution of this paper: focally adequate encodings () that are generic on subexponential signatures. At the level of focal adequacy, therefore, the asymmetry in the expressive power of classical and intuitionistic logics disappears.

Classical in intuitionistic

To introduce the mechanisms of encoding, we first look at the unsurprising direction: a classical logic in its own intuitionistic restriction. The well known double negation translation, if performed clumsily, can break even full adequacy. For example, if [formula] is translated as [formula] where [formula] where k is some fixed negative atom that is not used in classical logic. In the rule under this encoding, there are instances of [formula] that have no counterpart in the classical side. Indeed, there is no derived rule in the classical focused calculus that allows one to conclude [formula] from [formula], which is what would result if the active phase could be suspended arbitrarily and the subformula property were discarded. Such a rule is certainly admissible, but admissibile rules do not preserve bijections between proofs, and are only definable for full proofs in any case.

How does one encode classical logic in its intuitionistic restriction such that polarities are respected? The above example suggests an obvious answer: when translating [formula] as if it were right-active, do not also translate the subformulas M and N as if they were right-active, for they will be sent to the left. Instead, translate them as if they were left-active.

The encoding from classical positive (resp. negative) formulas to intuitionistic positive (resp. negative) formulas is as follows:

The encoding from classical negative (resp. positive) formulas to intuitionstic positive (resp. negative) formulas is as follows: where for every negative atom n, there is a positive atom [formula] in the encoding.

Contexts are translated element-wise.

The encoding [formula] of classical sequents as intuitionistic sequents is as follows:

In other words, focused sequents are translated to right-focused sequents, and active sequents to left-active sequents. The right contexts are dualised and sent to the left where the intuitionistic restriction does not apply, while the left focus on negative formulas is turned into a right focus because of the lack of a multiplicative left-focused rule (except [formula] which would cause an inadvertent polarity switch).

The encoding of is focally adequate ().

We will inventory the classical rules in , and in each case compute the intuitionistic synthetic derivations of the encoding of the conclusion of the classical rules. Here are the interesting cases, with the double inference lines denoting (un)folding of defns. [\ref=defn:trans-csl-isl] and [\ref=defn:csl-isl], and the rule names written with the prefix or to distinguish between classical and intuitionistic respectively.

cases of and : All the logical rules used are invertible. The boxed instance of requires some explanation: obviously a left active rule on can be applied before this rule. However, since they are both active rules, the choice of which to perform first is immaterial as they will produce the same neutral premises. If we want local--not focal--adequacy, we will have to impose a right-to-left ordering on the active rules. The case of and is similar.

case of : The cases of , and are similar.

case of : Note that the right premise is forced to terminate in the same phase. This would not be possible if, instead of k, we were to use some other negative formula such as [formula]. In the presence of some unrestricted subexponential u, we might have used [formula] instead (note that, classically, [formula]).

There is a focally adequate encoding of classical MALL in intuitionistic MALL.

There is a focally adequate encoding of CLL in ILL.

There is a focally adequate encoding of CL in IL.

Instantiate on the subexponential signatures from .

These instances are all apparently novel, partly because focal adequacy of classical logics in their own intuitionistic restrictions has not been deeply investigated. In the work on LJF [\cite=liang09tcs] there is a focally adequate encoding of classical logic in intuitionistic linear logic, which can be seen as a combination of the second and third of the above instances.

Intuitionistic in classical

The previous subsection showed that the intuitionistic restriction of a classical logic can adequately encode the classical logic itself. This is not the case in the other direction without further modifications to the subexponential signature. It is easy to see this: consider just the MALL fragment and the problem of encoding the rule. If [formula] is encoded as itself, then in the classical side we have the following derived rule (all the zones are [formula], and elided): This rule has no intuitionistic counterpart. Therefore, the encoding of [formula] must prevent the right formula [formula] from being sent to the left branch, , to test that the rest of the right context in a right focus is empty. MALL itself cannot perform this test because it lacks any truly modal operators. Exactly the same problem exists for the encoding of IL in CL, which also lacks any true modal operators.

Quite obviously, the encoding of [formula] requires some means of testing the emptiness of contexts. CLL () has an additional zone [formula] that is greater than [formula], and therefore [formula] can test for the absence of any [formula]-formulas. It turns out that this is enough to get a focally adequate encoding of IL as follows: the sole zone [formula] of IL is split into two, [formula] (restricted) and [formula] (unrestricted), and the right hand side of IL sequents is encoded with [formula]. Then, whenever P is of the form [formula], the translation of it on the right is of the form [formula]. In the rest of this subsection, we will systematically extend this observation to an arbitrary subexponential signature.

Let a subexponential signature [formula] be given. Write:

Ẑ for the zone set [formula], where [formula] and [formula] are distinct labels for the left and the right of the sequents, respectively, and ×   is the Cartesian product. [formula] will be called the left form of Ẑ, and [formula] will be called its right form.

Û for the unrestricted zone set [formula].

[formula] for the working zone [formula].

[formula] for the smallest relation on Ẑ  ×  Ẑ for which:

[formula] if x  ≤  y;

[formula] if x  ≤  y; and

[formula] and [formula].

The subexponential signature [formula] will be called the split form of Σ.

We intend to treat the right form specially. The zones in the right form are restricted, which encodes the linearity of the right hand side inherent in the intuitionistic restriction (). Our encoding will guarantee that the right hand sides of sequents in the encoding contain no zones in the left form. Thus, when [formula] is under right focus, the side condition on the [formula] rule will ensure that there are no other formulas on the right hand side, because the right forms are made pointwise smaller than their left forms. Dually, on the left we shall use [formula] to encode [formula]; since the right form zones are pointwise smaller than the left form zones, but retain the pre-split ordering inside their own zone, the side conditions enforce the same occurrences as in the source calculus.

The left-passive context [formula] is encoded pointwise using the translation [formula]:

A left-focused formula N is encoded using the translation [formula]:

A right-focused formula P is encoded using the translation [formula]:

A left-active context [formula] is encoded pointwise using the translation [formula]:

A right-active formula [formula] is encoded using the translation [formula]:

A right-passive zoned formula [formula] is encoded using the translation [formula]:

The cases for [formula] and [formula] will be crucial for the proof of . Most of the remaining cases can be seen as an abstract interpretation of the focused rules () on the various contexts. The definition of the encoding of intuitionistic sequents is now completely systematic.

The encoding [formula] of intuitionistic sequents as classical sequents is as follows:

Observe that the right hand sides of the encoding have the intuitionistic restriction (). This restriction will be enforced at every transtion from a focused to an active phase, which is enough because the active rules cannot increase the size of the right contexts.

The encoding of is focally adequate ().

As before for , we shall prove this by inventorying the intuitionistic rules of , encode the conclusions of each of these rules, and observe whether the neutral premises of the derived inference rules are in bijection with those of the . All but the following important cases are omitted here for space reasons.

cases of and : The boxed instance of is valid because all the zoned formulas in [formula] are in the left form zones, as is the zone of the [formula] itself, so the comparison [formula] is the same as ≤   on the intuitionistic zones ().

case of : The boxed instance of [formula] contains the only split of the right context that can succeed in the same focused phase, , reach an initial sequent or a phase transition, becaue that [formula] eventually produces either a positive atom (which must finish the proof with [formula] and since right form zones are restricted [formula] cannot be present) or a [formula] which guarantees that the rest of the right context is empty.

cases of and : The boxed instance of is justified because the subscript zone [formula] is of the right form (in order to compare with [formula]) which is [formula]-smaller than its corresponding left-form zone (). Note that it is crucial for soundness to have [formula] not be smaller than all left form zones. Since right form zones are restricted, there is no copying in the boxed instance of . The other decision cases are similar.

We note one important direct corollary of .

There is a focally adequate encoding of intuitiontistic logic in classical linear logic.

It is well known [\cite=girard87tcs] that (classical) linear logic can encode the intuitionistic implication [formula] as follows: [formula]. However, this encoding is only globally adequate [\cite=schellinx91jlc]. It is possible to refine this encoding to obtain a fully adequate encoding [\cite=liang09lics-my] in an enriched classical linear logic which is not apparently an instance of classical subexponential logic. Corollary [\ref=thm:il-cll] further improves our undertanding of encodings of intuitionistic implicication by permuting [formula] into the antecedent of the implication until there is a phase change, which removes the bureaucratic polarity switch inherent in this implication.

The split of the signature l () is isomorphic to the signature ll, so apply .

Conclusions

Section [\ref=sec:encodings] shows that any given classical (resp. intuitionistic) subexponential logic can be encoded in a related intuitionistic (resp. classical) subexponential logic such that partial synthetic derivations are preserved. This is a technical result, with at least one of the directions of encoding being novel. It strongly suggests that one of the fractures in logic identified by Miller in [\cite=miller10bcs-my]--the classical/intuitionistic divide--might be healed by analyses and algorithms that are generic on subexponential signatures. One might still favour "classical" or "intuitionistic" dialects for proofs, but neither format is more fundamental.

The results of this paper have two caveats. First, we only consider the "restricted" or the "unrestricted" flavours of subexponentials; in [\cite=danos93kgc-my] there were also subexponentials of the "strict" and "affine" flavours for which our results here do not extend directly. Second, we do not consider encodings involving non-propositional kinds, such as terms or frames. Subexponentials are still useful for such stronger encodings, but representational adequacy may not be as straightforward.