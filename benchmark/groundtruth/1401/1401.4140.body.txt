Statistics of co-occurring keywords on Twitter

Introduction

Human activity is often intermittent with periods of low activity punctuated by bursts of high activity [\citep=B05] [\citep=VOD06]. Events in society often animate people on larger scales reflecting a tendency for alignment (i.e. correlation) between individuals. These correlations can be observed in different social organizations and directly measured in online social media such as Twitter or in stock market data. It is well known that breaking news can make stock traders collectively rush in or out of certain stocks. Similarly, events in society can generate a surge of new user posts on Twitter. In both cases, the activity levels have recently been shown to share common statistical properties [\citep=MAAJ13]. Intermittent human dynamics have been observed in individuals browsing internet sites[\citep=GR08], in the online blogosphere [\citep=LKG07] and during crowd panic [\citep=HFV00] [\citep=HJM06] [\citep=DJS06]. Correlation in behaviors has also been shown to be a consequence of time resource management[\citep=HJM12].

Twitter is a microblogging service where registered users can post short text messages up to 140 characters in length. These text messages are known as "tweets". The frequency by which users on a global scale post information on social media allows for a high-resolution real-time analysis of user behavior. The Twitter user base is predominately located in the USA [\citep=KKN12] and might not be a perfect representation of the general public [\citep=MLA11].

Here we shall consider the statistics of keyword occurrence and co-occurrence on Twitter. From this statistics it might be possible to infer basic properties of human behavior in online communities. Observations on collective human behavior has been used in predictions of future developments in society [\cite=CV12] and and the public sentiment, as extracted from tweets, has been used in prediction of movements on the stock market [\citep=B11]. Specifically, the variations in the score of public happiness and calmness were shown to be predictive for movements of the Dow Jones Industrial Average index. A more basic correlation was found between the occurrence frequency of certain words on Twitter and the up and down turns of stock prices [\citep=ZFG11]. The sheer number of tweets mentioning specific movies has also been shown to be predictive for box office sales [\citep=AH10].

One way to analyze the user activity on Twitter is to measure the frequency by which certain words are mentioned. Examples of words with a global appeal could be international brands names like Apple, IBM, Starbucks, etc. For each of these brand names, the occurrence rate in tweets is characterised by days of steady levels, which are interrupted by spikes of high activity. When a company launches a new product, a number of people will immediately be tweeting about it, and thereby encourage others to share their experience with the product, which quickly creates a global awareness. In fact, an analysis of activity levels shows that this awareness, quantified by increased activity levels on Twitter, has a typical persistence of about 24 h after which it slowly fades away. This persistence or memory effect is observed both on social media and in financial markets [\citep=MAAJ13].

Results

Dynamics of tweet rates

The occurrence rate of new tweets containing a specific word is estimated as follows. A tweet, Ti, returned from a query to Twitter contains a list of information [formula] including the tweet text string si, the time ti when the tweet was posted, a user id of the user and further information that is not used in the present work.

A time-signal, ηa(t), is then formed from Tweets mentioning a specific word a by the following sum

[formula]

From the signal, we can then compute an averaged tweet rate from an unnormalized kernel density smoother,

[formula]

In the following, we shall use a rectangular integration kernel K(x) of unit height and width such that the rate simply is equal to the number of tweets in a time window τ, na(t)  /  τ. Similarly we might define a rate for tweets containing multiple words of interest, say how frequently do a and b co-occur in a tweet,

[formula]

The data used in the current analysis has in part been used in Ref. [\citep=MAAJ13].

In Fig. [\ref=starbucks] we show the variation in the rate of tweets mentioning "Starbucks" over a three week period. The time signal has a clear 24 hour cycle as well as a weekly variation. On top of these variations, short bursts of larger activities can be seen. The statistics of the magnitude of these bursts follows a broad distribution as we shall discuss below.

The Twitter time signals provide basic insight on human habits. In fig. [\ref=sleep] we show the co-occurrence rate of tweets mentioning simultaneously "Starbucks" and "sleep" (including related words like asleep, sleeping, sleepy ...). Relative to the signal of tweets mentioning only "Starbucks" we see a pronounced peak both in the morning and in the night. While tweets in the morning often mention the need or joy of coffee the peak in the evening is in part due to people tweeting about problems falling asleep after drinking coffee. In general sleep seems to be less a problem in the weekends where the frequency of tweets mentioning sleep drops while the overall time signal for "Starbucks" remains unchanged. We also see in Fig. [\ref=sleeptime] that the time at night where sleep is mentioned most frequently slightly increases throughout the week.

Moreover we may perform a sentiment analysis of the user posts. From a basic text analysis of all tweets mentioning a specific brand, we count the number of words with a negative n- and positive n+ sentiment according to a pre-compiled list of words. The difference, s = n+ - n- between the number of positive and negative words is then used to form a sentiment score s of the individual tweets. We show in Fig. [\ref=sentiment] the normalized tweet rate γ  /   of tweets (where [formula] is the average tweet rate) with a positive and negative sentiment score, respectively. There is a relatively higher density of tweets with a negative sentiment in weekdays whereas the mood changes in the weekend and the positive sentiment has a higher density.

The Twitter user base is to a large extent located in the USA and the activity pertaining to brands like Starbucks correlate strongest with American time zones. However, certain brands have larger markets outside the USA and do therefore follow more closely day and night cycles of other time zones. In Fig. [\ref=beers] we show a normalized tweet rate for four different beer brands, Budweiser, Carlsberg, Corona and Heineken. We see that there is clear shift in the time of maximum tweet rate for the brands reflecting a difference in primary markets of the brands. We see that Carlsberg is shifted more towards European and Asian time zones relative to e.g. Corona which correlate strongly with American time zones.

Network of brands

Based on the co-occurrence rate of how often two different brands occur in the same tweet, we now analyse further how individual brands are linked to each other. With this information one can construct a network of important international brands. Eq. ([\ref=dualrate]) can be used to define a normalized symmetric measure of similarity (the Jaccard index) by dividing the co-occurrence rate with the combined rate of seeing at least one of the brands in a tweet,

[formula]

In Fig. [\ref=network] we present the network of the international brands where the link strength is given by the measure Eq. ([\ref=measure]). A threshold is introduced on the link strength in order to visualize primary structures, i.e. links between brand with a similarity ωAB < 0.004 are omitted. We observe that the network is strongly modular with groups of brands representing similar products or services. As an example one can observe distinct groups of European car brands, Asian car brands, consulting and IT companies, and fashion brands. The modules in the network are coloured according to the community detection algorithm introduced in [\cite=rosvall]. Most of the connections inside the modules are rather obvious, whereas a few links connecting the modules represent less obvious relations between brands.

We now consider the distribution, p(ωab), of the link strengths which are shown in Fig. [\ref=ls] on double logarithmic axes and appears to follow a power law,

[formula]

with a scaling exponent α = 1.7. In general, the tweet rate of pairs γab does not follow trivially from the rate of the individual brands [\citep=MYJ12]. In fact, the modular structure where a few brands are strongly connected is contributing strongly to the broad tail of the distribution. A power-law distribution has also been observed in related semantic network [\citep=ST05] and for the co-occurrence of tags in social annotation systems [\cite=CB09] where users annotate online resources such as web pages by lists of words. However, the scaling exponent in the latter case (α > 2) is larger than the one reported here.

Statistics of the activity levels

The user activity levels on Twitter have been suggested to be driven predominantly by external events rather than direct user interactions [\citep=MAAJ13]. In other words, we may in a simple model of activity levels neglect the network formed between the Twitter users. We shall model the tweet dynamics by a stochastic point process, Eq. ([\ref=pp]), where tweets occur at random times separated by random time intervals. If the time interval between successive tweets fluctuates around a constant mean value, then the point process corresponds to a Poisson process and the time interval would be exponentially decaying away from the mean. However, non-trivial dynamics and power-law statistics can be obtained when the average waiting time, τ, is itself a stochastic variable. In that way, the statistics of all quantities of interest depends entirely on the underlying stochastic dynamics of the average waiting time.

Without correlations between user activities, the tweet rate γ(t) = 1 / τ is determined by a balance between users becoming inactive and new users activated by external events. We shall assume that the correlations enter in the shape of a multiplicative noise with an amplitude given by [formula],

[formula]

where f(τ) is an external drive that keeps users active and thereby the waiting time low, c is the rate at which users become inactive, and ξ(t) is a fluctuating noise with zero mean and unit variance

[formula]

Eq. ([\ref=eq:ABBM]) is here interpreted in the Ito sense. Below we shall assume a simple form for the driving force f(τ) = kτ, where k is a constant. The Fokker-Plank equation associated with Eq. ([\ref=eq:ABBM]) then reads

[formula]

with the steady state probability distribution function (PDF)

[formula]

We notice that for c = 0, the PDF has a non-integrable singularity at τ = 0. Therefore P(τ) is not normalizable and the only stationary solution is P(τ)  =  δ(τ). For c > 0, Eq. ([\ref=eq:ABBM]) has a repelling wall at τ = 0 and the PDF attains a stationary solution that can be normalized.

In general, the average waiting time τ between tweets is assumed to increase with time ∂tτ = 1 when there is no external driving force. We then achieve the average waiting τ time between tweets by setting c = 1, i.e.

[formula]

thus there is a small probability both for very short and very long waiting times with a maximum likelihood at a finite, intermediate value 〈τ〉  =  1 / k. Notice that the average waiting time diverges as k  →  0. The important thing is that the PDF is linearly proportional to small τ's. This implies that the tweet rates which is γ  ~  1 / τ is described by a PDF

[formula]

Hence, the PDF P(τ)  ~  τ at small τ's corresponds to Pγ(γ)  ~  γ- 3 at large γ's.

Interestingly, these two signals have very different power spectrum densities: Sτ(f)  ~  f- 2, while Sγ(f)  ~  f- 1. In Fig. [\ref=1f] the distributions of the occurrence rates of tweets mentioning the major brand names (see [\citep=MAAJ13] for the complete list of brands used). We observe that the occurrence rates follows the same power law in the tail with an exponent close to the one predicted from our model in Eq. ([\ref=scaling]). Similarly do the corresponding power spectra reveal a characteristic 1 / f scaling.

Numerical scheme

These predictions can also be checked by a direct numerical integration of Eq. ([\ref=eq:ABBM]). In a regular time discretization, the noise term would introduce negative values, which are forbidden in the continuum. An efficient and accurate numerical method is based on a split-operator scheme where the square Bessel-process is separated from the rest of the dynamics. The square-Bessel process models the Brownian motion in d-dimensional space and has the [formula]-multiplicative noise. The transition probability for this process is exactly known and given by the non-central χ2-distribution (the central χ2 distribution is a special case of the Γ distribution).

Concluding remarks

In this paper we have used data from the social media Twitter in order to analyse the occurrence and co-occurrence rate of keywords. The analysis provides information about basic behavior of Twitter users and to some extent brand-users. Furthermore, our analysis might be of commercial interest, in the sense that repeated brand advertisement campaigns probably would have a larger impact at the time of week when there is a maximum awareness in the public about the brand. As we observed, the user awareness varies throughout the day and week. The co-occurrence rates of brands might also provide important information about competitors in the market. Finally, we have considered the fluctuations in the combined activity levels of the social media users and we believe that these fluctuations tell something basic about human behavior. Without question social media provides an excellent source for further studies along these lines.

Acknowledgments

Sune Lehmann is gratefully acknowledged for useful comments and suggestions. This study was supported by the Danish National Research Foundation through the Center for Models of Life and by the UCPH 2016 (University of Copenhagen) funds through the Social Fabric grant.