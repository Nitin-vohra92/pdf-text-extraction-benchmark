Fact Example Claim Conjecture Lemma Proposition Corollary Proposition Remark Observation

Definition

Unsound Inferences Make Proofs Shorter[formula]

Introduction

ConsiderPartially supported by FWF grants P-26976-N25, I-1897-N25, I-2671-N35, and W1255-N23. the following argument:

That Kurt Gödel is Austrian entails that Kurt Gödel is Austrian.

Hence, that Kurt Gödel is Austrian entails that everyone is Austrian.

That is, it is a fact that if Kurt Gödel is Austrian, then all people are Austrian.

Therefore, there exists a person such that, if that person is Austrian, then all people are Austrian.

The argument is an instance of the following proof schema:

[formula]

The study of proofs is motivated by our desire for deductive reasoning to be correct, i.e., we wish that it be such that the procedures involved derive only true conclusions. The traditional way of ensuring this involves restricting proofs to those satisfying the two following properties:

Inferences are sound, i.e., only true conclusions result from true premises.

Derivations are hereditary, i.e., initial segments of proofs are proofs themselves.

We challenge this practice. We give examples of correct logical calculi augmented with unsound rules. In our calculi, inferences such as [\eqref=ProofIntro] will be allowed.

In our current treatment, the correctness of proofs can only be gauged by considering them in their entirety, as forfeiting soundness while maintaining correctness necessarily violates hereditariness. This is not unlike other aspects of reasoning that are traditionally not reflected in formal derivations. For example, hereditariness is not compatible with proofs by contradiction--one would not take as correct an initial segment of a proof obtained by interrupting it after an assumption directed towards a contradiction had been made, but before the contradiction is reached.

To illustrate this, we note that the following subproof of the opening example should not be allowed as a proof in the system:

That Kurt Gödel is Austrian entails that Kurt Gödel is Austrian.

Hence, that Kurt Gödel is Austrian entails that everyone is Austrian.

A key factor in ensuring that our proof of [\ref=Int4]. above is correct is that in reality it says nothing about Kurt Gödel. His name might well have been replaced with any other with no effect on the derivation; we call this condition substitutability.

Traditional proofs are can be taken without loss of generality to be regular, i.e., any variable which is the characteristic variable of a quantifier inference can be assumed to appear only before then. Forfeiting this condition makes it possible for us to accept the following proof:

[formula]

Note that in this example, however, a is only the characteristic variable of one quantifier inference. We call this weak regularity. Our main result is that a sequent calculus augmented with unsound quantifier inferences satisfying substitutability, weak regularity (or even a further weakening thereof), and a technical side-variable condition is correct and yields non-elementarily-shorter cut-free proofs than the standard proof systems.

Quantifier Inferences

We consider derivations in sequent calculi. Sequents are expressions of the form [formula], where Γ and Δ represent collections of formulae. The sequent [formula] is usually interpreted as 'if all of Γ hold, then at least one of the formulae in Δ holds.' Inferences are expressions of the form which are to be interpreted as 'the sequent [formula] follows from the sequent [formula].' Derivations are trees whose leaves are axioms and whose non-leaf nodes are inferences; they are to be interpreted as proofs of the root sequent.

A formula is critical in an inference if it appears in the conclusion but not in the premise. An inference is a quantifier inference if the (only) critical formula has a quantifier as its outermost logical symbol. Normally, quantifier inferences consist of substituting a formula Qx  A(x) for an instance thereof in a sequent, e.g., as in The polarity of a quantifier is defined as follows: a quantifier is positive in a formula rewritten without implication symbols if it is on the right-hand side (resp. left-hand side) of a sequent and under the scope of an even (resp. odd) number of negation symbols, and negative otherwise. A quantifier is strong if it is positive and on the right-hand side of a sequent or weak and on the left-hand side of a sequent; it is weak otherwise.

If an inference yields a strongly-quantified formula Qx  A(x) from A(a), where a is a free variable, we say that a is the characteristic variable of the inference. We will denote free variables by letters a,b,c,... (in contrast, we denote bound variables by x,y,z,...). We denote closed terms by t,s,r,... and variants thereof.

Let π be any derivation. We say b is a side variable of a in π (written a  <  πb, or simply a  <  b) if π contains a strong-quantifier inference of the form: or of the form:

We will work with various sequent calculi extending Propositional [formula], the sequent calculus whose only axiom is [formula]--with A atomic--and whose rules are:

[formula]

[formula]

The names of the structural rules stand, respectively, for 'weakening,' 'contraction,' and 'exchange.' First-order [formula] is the extension of Propositional LK obtained by adding quantifier inferences:

[formula]

with the only restriction that in the inferences [formula] and [formula], the variable a is not allowed to appear in the conclusion. In particular, note that every quantifier inference is suitable for every [formula]-proof. Gentzen's famous Cut-Elimination Theorem states that the cut-rule is redundant in both propositional and first-order [formula].

A further weakening of the characteristic variable condition gives rise to the notion of weak suitability:

It is easy to find examples of sequents that are more easily provable in [formula] than in [formula]:

Recall that a function on the natural numbers is exponential if it can be defined by a quantifier-free formula from +  , ·  , and the function x  ↦  2x. A function on the natural numbers is elementary if it can be defined by a quantifier-free formula from +  , ·  , x  ↦  2x, and the function

[formula]

By independent results of R. Statman [\cite=statman79] (which were formalized in [\cite=baazleitsch94]) and of V. P. Orevkov [\cite=orevkov82], the sizes of the smallest cut-free [formula]-proofs of sequents of length n are not bounded by any elementary function on n. Our main theorem is that cut-free [formula]-proofs are non-elementarily shorter than cut-free [formula]-proofs:

There is no elementary function bounding the length of the shortest cut-free [formula]-proof of a formula in terms of its shortest cut-free [formula]-proof.

An immediate consequence is the following:

There is no elementary function bounding the length of the shortest cut-free [formula]-proof of a formula in terms of its shortest cut-free [formula]-proof.

We postpone the proof of Theorem [\ref=main] until Section [\ref=SectSpeedup]. First, we consider the question of the correctness of [formula].

Correctness

In this section, we prove the following:

If a sequent is derivable in [formula], then it is already derivable in [formula].

As before, the following is an immediate consequence:

If a sequent is derivable in [formula], then it is already derivable in [formula].

A few remarks on terminology are in order. Below, if A is a subformula of B, we say that B is a context of A. We generally write κ[A] to emphasize that A occurs in a context κ[ · ]; they should be thought as syntactical operators A  ↦  κ[A].

The Skolemization of a first-order formula is defined by replacing every strongly quantified variable y with a new function symbol [formula], where [formula] are the weakly quantified variables such that Qy appears in the scope of their quantifiers. We write sk(A) for the Skolemization of A. The Skolemization of a sequent

[formula]

is defined as:

[formula]

Skolemization preserves validity, whence by completeness, a sequent is derivable if and only if its Skolemization is. Herbrand's theorem states that a sequent containing only weak quantifiers:

[formula]

is [formula]-provable if and only if for each subformula Qx  B(x) of Aj such that Aj is of the form:

[formula]

there are finitely many instances Bij  =  B(tij) of B(x) such that

[formula]

is a propositional tautology, where A*j is the result of iteratively replacing each formula [\eqref=eqherbrand1.5] with its Herbrand disjunction: if j  ≤  m, or if m  <  j. If so, we refer to [\eqref=eqherbrand2] as the Herbrand sequent of [\eqref=eqherbrand1]. In particular, if each Aj is prenex of the form:

[formula]

then there are finitely many instances Aij of A such that: is a propositional tautology.

The term εxA is to be understood as a 'generic' object satisfying property A. The dual term τxA is added for symmetry; it is in fact redundant--one can define [formula]. The standard translation of first-order logic into epsilon calculus is defined by mapping everything to itself, except for quantified formulae: suppose A' is the standard translation of A, then:

[formula]

we write tr(A)  =  A' to mean that A' is the standard translation of a first-order formula A.

In analogy with the first-order terminology, a term εxA(x) is strong in a formula rewritten without implication symbols if it is on the left-hand side and under the scope of an even number of negation symbols, or on the right-hand side and under the scope of an odd number of negation symbols, and weak otherwise. Similarly, a term τxA(x) is strong in a formula rewritten without implication symbols if it is on the right-hand side and under the scope of an even number of negation symbols, or on the left-hand side and under the scope of an odd number of negation symbols, and weak otherwise.

We say an Lε-sequent is in weak form if all occurrences of ε and τ are weak. The analog of Herbrand's theorem for epsilon calculus is called the Extended First Epsilon Theorem (see [\cite=moserzach06]). It states the following: let be an [formula]-provable sequent in weak form and let [formula] be all the terms of the form τxA(x) or εxA(x) in Ai. Then there exist finitely-many tuples of terms [formula] without any occurrence of the symbols τ or ε such that if Aij is the result of substituting the terms [formula] for [formula] in Ai, then the Herbrand sequent is a propositional tautology. If a first-order sequent is prenex and contains only weak quantifiers, then the Herbrand sequent obtained via Herbrand's theorem and the one obtained by applying the Extended First Epsilon Theorem to its standard translation are the same. ε-calculus is correct in the following sense:

A Skolemized sequent is [formula]-derivable whenever its standard translation is [formula]-derivable.

Suppose π is an [formula]-proof of a sequent [formula] that is the standard translation of a Skolemized sequent in first-order logic, say [formula]. This sequent need not be prenex. If not, we extend π to obtain an [formula]-proof of a sequent [formula] that is the standard translation of a Skolemized and prenex sequent in first-order logic: let κ[Qx  A(x)] be the first (i.e., leftmost) formula in the sequent that is not the translation of a prenex formula and Q be the first occurrence of a quantifier witnessing this. Assume, without loss of generality that Q is [formula].

Hence, [formula] is of the form [formula] for some context κ' and some formula A' (which might be different from κ and A if these contain further weak quantifiers), so that the root of π has the form:

[formula]

Letting

[formula]

and

[formula]

the root of π has the form:

[formula]

Extend π with an inference ε applied to B(t):

[formula]

Notice that:

[formula]

Therefore, after one inference, this quantifier is no longer a witness to the fact that the final sequent in the [formula]-proof is not the standard translation of a non-prenex sequent. By repeating this procedure for each witness, we arrive at an extended proof of the desired sequent [formula]. Note that throughout the transformation we do not alter the structure of the first-order sequent except for the position of weak quantifiers.

We apply the Extended First Epsilon Theorem to see that the Herbrand sequent S of [formula] is a propositional tautology. But this is also the sequent obtained by applying Herbrand's theorem to the sequent whose translation is [formula], say [formula].

Recall that the Herbrand sequent results by replacing weak quantifiers with finite disjunctions (on the right-hand side) or conjunctions (on the left-hand side) of instances of the replaced sequent. The key point is that in passing from [formula] to [formula], we do not change the structure of any formula, except for the position of quantifiers (without changing their polarity, as all quantifiers are weak). Hence, all instances in S of each formula in Σ or Ξ are also instances of the corresponding formula in Σ0 or Ξ0, so that S is the Herbrand sequent of [formula]. Therefore, by Herbrand's theorem, [formula] is [formula]-derivable.

If a Skolemized sequent is [formula]-derivable, then its standard translation is [formula]-derivable.

Let π be a [formula]-proof of a sequent. We transform it into an [formula]-proof as follows:

Go downwards through each branch of the proof from left to right. Every time we reach a strong quantifier inference, say,

[formula]

omit the inference and all other inferences

[formula]

and modify the proof by

[formula]

throughout the proof. This is always possible: the side-variable condition ensures that the term [formula] makes sense. Moreover, we can freely replace a since, by very weak regularity, it is the characteristic variable only of inferences with critical formula [formula]. Every time we reach a weak quantifier inference, say,

[formula]

substitute it with an inference

[formula]

Note that this is still possible after any substitutions of the form [\eqref=eqreplacement].

This transformation results in a correct proof: any inference not considered thus far is either a structural rule or a propositional logical rule and remains valid. Finally, note that the resulting formula is in fact the standard translation of the sequent whose proof is π. This follows from the fact that we substitute all inferences [\eqref=eqreplacement2] with inferences [\eqref=eqreplacement3] and the fact that all occurrences of any free variable that was substituted by [\eqref=eqreplacement] do not figure in the end sequent, by substitutability.

If [formula] is [formula]-derivable, then its Skolemization is derivable in quadratically many steps using additional cuts.

Let [formula] be any [formula]-derivable sequent. For each formula A in Δ, [formula] is already [formula]-derivable, it follows that, by using one cut per formula, we can derive [formula] in [formula]. Similarly, [formula] is already [formula]-derivable. Hence, by also using one cut for each formula in Γ, we can derive [formula].

Correctness readily follows: Let [formula] be a [formula]-derivable sequent. By Proposition [\ref=PropSKCuts], its Skolemization [formula] is derivable. By Proposition [\ref=propepsilon2], the standard translation of [formula] is [formula]-derivable, whence, by Proposition [\ref=PropEC], [formula] is already [formula]-derivable. Finally, it follows from [\cite=baazetal12] that the unskolemized form Γ  →  Δ is also [formula]-derivable.

Non-elementary speed-up

Our strategy for proving Theorem [\ref=main] is to show that [formula] simulates a strong calculus that is already non-elementarily faster than [formula]. The main feature of this calculus is the addition of certain rules for quickly shifting quantifiers.

[formula] simulates [formula] exponentially, i.e., every [formula]-provable sequent is [formula]-provable and there is an exponential function that bounds the length of the least cut-free [formula]-proof of a [formula]-provable sequent in terms of its least cut-free [formula]-proof.

Let π be a cut-free [formula]-proof of size n. We transform it into a cut-free [formula]-proof. Assume by induction that there is only one application of a quantifier shift and this is the last inference. We proceed by cases. For simplicity, we assume κ does not change the polarity of the quantifiers. We also assume [formula] is →  ; the other connectives are treated similarly.

Case I. The last inference is:

[formula]

so that the proof has the following structure: where the σi denote subproofs. We modify the proof. Our strategy is as follows: we would like to merge the subproofs σ1 and σ2 by simply postponing the inference ( * ) as follows: The problem that might arise is that some occurrence of [formula] that would be contracted in σ1 with the indicated occurrence is unable to be contracted. Assume for simplicity there is only one such occurrence. To solve this, notice that the problematic occurrence of [formula] must originate from a strong-quantifier inference. Omit that inference and drag the unquantified formula A(b) until after ( *  * ), so that at that point we have a derivation of

[formula]

where Γ'  =  Γ'0,Γ'1. Add to that some exchanges to obtain:

[formula]

and a subproof

[formula]

in order to infer

[formula]

with an application of [formula] and a contraction, we are left again with

[formula]

to which we can apply σ0 as desired. The proof grows by adding a copy of [\eqref=eqqsCaseI]--of size at most n--for each problematic occurrence of [formula] (of which there are at most n). Hence, it grows quadratically.

Case II. The last inference is:

[formula]

The proof has the following structure: We would like to merge the subproofs σ1 and σ2: As before, we face the problem of circumventing a contraction of [formula] in σ1 and solve it the same way. The proof grows quadratically again. We note the following: it might happen that t = a for some free variable a. Hence, this proof does not go through for [formula], as a could be the characteristic variable of a strong-quantifier inference in σ1.

Case III. The last inference is:

[formula]

This is analogous to Case II.

Case IV. The last inference is:

[formula]

This is analogous to Case I.

Case V. The last inference is:

[formula]

The proof has the following form: As before, we would like to postpone the inference ( * ), thus merging σ1 and σ2: However, we might have--similarly to the previous cases--an occurrence of [formula] that would be contracted on the left-hand side as part of σ1. For simplicity, assume there is only one. This occurrence is inferred from a formula A(s). Postpone this occurrence until after ( *  * ) so that at that point we have a derivation of

[formula]

where Γ'  =  Γ'0,Γ'1. Add to that some exchanges to obtain:

[formula]

and a weakening:

[formula]

in order to infer

[formula]

with an application of [formula] and a contraction, we are left again with

[formula]

to which we can apply the rest of σ0 as desired. In this case the proof only grows linearly. As in Case II, this proof would not go through for [formula].

Case VI. The last inference is:

[formula]

The proof has the following form: As before, we would like to postpone the inference ( * ), thus merging σ1 and σ2: We deal with contractions of [formula] on the left-hand side as in the previous case. The proof grows linearly.

Case VII. The last inference is:

[formula]

This is analogous to Case VI.

Case VIII. The last inference is:

[formula]

This is analogous to Case V.

Hence, we have dealt with all the cases. Note that for each quantifier shifted, the proof grows at most quadratically. Since there are at most n quantifier shifts, the size of the resulting proof is bounded by

[formula]

This finishes the proof.

Theorem [\ref=main] is a consequence of Proposition [\ref=PropLKQS] and the following result:

There is no elementary function bounding the length of the shortest cut-free [formula]-proof of a formula in terms of its shortest cut-free [formula]-proof.

We will make use of a very specific family of sequents {Si}i  <  ω described in [\cite=baazleitsch94] and due to Statman [\cite=statman79], and specific [formula]-proofs thereof. The sequents and the proofs themselves are not important for our proof. What is relevant is that they have the following properties:

the size of Si is polynomial in i;

there is no bound on the size of their smallest cut-free [formula]-proofs that is elementary on i;

the size of these proofs (with cuts), however, is polynomially bounded on i;

all cut formulae are closed; we can also assume they are prenex by, e.g., [\cite=baazleitsch99].

Let [formula] be one of the sequents. We modify the proof as follows: first, replace each cut

[formula]

with an application of →  L:

[formula]

We are left with a cut free proof π0 whose end sequent is of the form:

[formula]

Choose any occurrence of a quantifier in A0 that is not in the scope of another quantifier. Since it appears once in the antecedent of A0  →  A0 and once in the consequent, it appears once with each polarity. Because A0 is assumed to be prenex, we can apply two quantifier shifts, so that we are left with a proof π0' of the sequent:

[formula]

Continue choosing any occurrence of a quantifier in A0' that is not in the scope of another quantifier (within A0') and applying quantifier shifts in pairs until we obtain a proof π1 of the sequent:

[formula]

where Â0 is quantifier-free and the prefix of Â0  →  Â0 consists of alternating quantifiers. Repeat this procedure for each of the Ai to obtain a proof πm where each formula Ai  →  Ai is replaced by an expression of the form:

[formula]

where Âi is quantifier free and the quantifier prefix is alternating. Let [formula] be the sequent:

[formula]

Note that, since the size of the initial proof was polynomial in i, there were polynomially many quantifiers in the proof; hence, we added only polynomially many quantifier shifts, and so the size of the resulting proof πm of [\eqref=eqSpeedup2] is bounded polynomially in i. Moreover, it is cut-free. Consequently, it suffices to show:

There is no elementary function bounding the size of the smallest cut-free [formula]-proofs of [\eqref=eqSpeedup2].

Let {σi}i  <  ω be a sequence of such proofs. First, we transform it into a sequence of proofs of the Skolemizations of the sequents [\eqref=eqSpeedup2], so that for each sequent, each of the implications Âi  →  Âi remains only universally quantified. Then, by Herbrand's theorem, there are propositional proofs {θi}i  <  ω of the Herbrand sequents of [\eqref=eqSpeedup2], each of which is of the form:

[formula]

Moreover, the lengths of the Herbrand sequents are bounded exponentially by the lengths of {σi}i  <  ω (see [\cite=baazleitsch94]). Each conjunct Bpk is a quantifier-free implication of the form:

[formula]

for some terms [formula]. The key point is that, in the process of Skolemizing the sequents [\eqref=eqSpeedup2], exactly one term in each pair (tj,sj) was weakly quantified and the other (which was under the scope of the strong quantifier) was replaced by a Skolem function. Hence, either tj is of the form [formula] or sj is of the form [formula].

Transform the sequent [\eqref=eqSpeedup3] as follows: pick a pair (tj,sj) of some disjunct Bpk such that the element thereof that was replaced by a Skolem term--say, [formula]--does not have any other of [formula] as an argument. Such a term of course exists--it is the first term whose quantifier was shifted in [\eqref=eqSpeedup1.5]. Substitute sj for tj throughout the sequent.

By repeating this process sufficiently-many times, each formula [\eqref=eqSpeedup4] is transformed into a propositional tautology of the form [formula]. This means that the sequent

[formula]

is also a propositional tautology, whereby so too is

[formula]

from which follows that it is [formula]-provable. By [\cite=baazetal12], there is an [formula]-proof of the unskolemized sequent of length exponential in that of [formula]. But this is impossible, since--by assumption--there exist no short proofs of the unskolemized sequent. This establishes Theorem [\ref=mainqs] and, hence, Theorem [\ref=main].

Consequences of the Speed-up Theorem

We describe some consequences of Theorem [\ref=main]:

There is no elementary bound on the size of the smallest cut-free [formula]-proof of the Skolemization of a sequent in terms of its smallest cut-free [formula]-proof (resp. [formula]-proof).

There is no elementary bound on the length of the Herbrand sequent of a sequent in terms of its smallest cut-free [formula]-proof (resp. [formula]-proof).

The first item implies the second, as a cut-free [formula]-proof of the Skolemization of a sequent contains no strong quantifier and is hence already an [formula]-proof, whence we can apply Herbrand's theorem.

To see that the first item holds, notice that if we had such a bound, we could argue as for Claim [\ref=ClaimSU] to obtain a contradiction.

An important consequence of cut elimination is the subformula property--every derivable sequent S has a cut-free derivation wherein all formulae are subformulae of S. Consider [formula], the analog of the extended calculus [formula] for intuitionistic logic, namely, the calculus obtained by restricting ourselves to sequents with exactly one formula on the right-hand side. This calculus is not sound for intuitionistic logic, as shown by any of the examples in the introduction. A consequence of this is the following:

[formula] and [formula] admit no Gentzen-style cut elimination.

Consider example [\eqref=example2]. Since only one formula appears on the right-hand side of each sequent, this is an [formula]-proof. If there were a Gentzen-style cut elimination for [formula], we could apply it to the example [\eqref=example2] to obtain a cut-free proof of

[formula]

However, by the subformula property, this derivation would consist entirely of subformulae of [\eqref=eqcutelimination]. In particular, it would contain no strong quantifier inferences. Therefore, it would already be an [formula]-proof. But this is impossible, as [\eqref=eqcutelimination] is not intuitionistically valid.

Concluding Remarks

Many related questions remain open. The most important question consists of fully investigating the role that inferences play in proofs, both from a philosophical and from a technical standpoint. We believe that it is not straightforward, as the present work provides evidence for challenging the traditional view of inferences simply as one-step subproofs of proofs, or--conversely--of proofs simply as arbitrary concatenations of inferences.

Another problem is to explore the addition of different unsound rules to proof systems. Here, we gave two examples, but many more are possible. It is also not clear exactly how faster the calculus [formula] really is--the weakening of the usual characteristic-variable condition into substitutability, weak regularity, and the side-variable condition can perhaps be exploited further.

It is not clear whether [formula] is any (or significantly) slower than [formula]. It is also not clear in what precise relation they both stand to [formula] and [formula]. All these questions seem to promise fruitful lines of future research.