Theorem Definition

A Combinatorial Proof of the Dense Hindman Theorem

Introduction

Hindman's Theorem states that, in any finite coloring of the integers, some color contains an infinite set and all its finite sums. Hindman's original proof [\cite=hindman74] is quite complicated; fortunately, there are both simpler combinatorial arguments [\cite=baumgartner74] [\cite=towsner09:hindman_simple] and an elegant proof based on the topology of ultrafilters (see, for instance, [\cite=comfort77]).

Strikingly, the ultrafilter argument gives, sometimes with little additional work, various strengthenings of the theorem for which combinatorial proofs are iether much harder, or not known to exist. ([\cite=hindman98] gives a thorough exploration of many uses of ultrafilters in this context.) One such strengthening promises, not a single monochromatic infinite set and its finite sums, but a tree of such sets in which there are "many" possible first elements, for each such first element "many" possible second elements, and so on.

In this paper we give the first combinatorial proof of this theorem, modeled on Baumgartner's proof of the ordinary Hindman's Theorem. The key idea is the use of approximate ultrafilters, as introduced by Hirst [\cite=hirst04]--countable collections of sets of integers which nonetheless contain enough information to complete the proof. The proof here is modeled on our related proof of the ordinary Hindman's Theorem [\cite=towsner09:hindman_unwind].

The reverse mathematical strength of even the ordinary Hindman's Theorem is open; bounds are given in [\cite=blass87], and the gap between the lower and upper bounds on reverse mathematical strength there have not been improved. The proof given here is entirely within the bounds of second order arithmetic, but well above their upper bounds; no lower bound for the Dense Hindman's Theorem is known besides the obvious one, that any lower bound for the ordinary Hindman's Theorem must also bound the Dense Hindman's Theorem.

We thank Mathias Beiglböck for bringing this question to our attention, and for many discussions about the mathematics around Hindman's Theorem.

General Definitions

Throughout this paper, variables denoted by lowercase letters will typically be natural numbers, except for b, which will always belong to { - 1,1}. Variables denoted by upppercase letters will be sets of natural numbers, and variables denoted by caligraphic letters (U, F, etc.) will be sets of sets of natural numbers. In fact, it would cause no harm to assume that all sets of sets of natural numbers appearing in this paper are countable, and therefore to code them using sets of natural numbers. The one exception is the property [formula], which represents the set of sets of natural numbers satisfying some shift-invariant divisible" property, such as the infinite sets, the piecewise syndetic sets, or the sets of positive upper Banach density. (The notion of divisibility is introduced in [\cite=glasner80].) We adopt the notation that if X is a set of integers, 1  ·  X = X and [formula]. We write X - n for {m|m + n∈X}.

Let [formula] be a collection of sets of integers such that:

[formula]

[formula]

If X  ⊆  Y and [formula] then [formula]

If [formula] and [formula] then either [formula] or [formula]

For any X and any n, [formula] iff [formula]

We say a collection U of sets of integers has the [formula]-finite intersection property ([formula]-fip) if for every finite collection F  ⊆  U,

[formula]

Natural examples of such properties [formula] include:

[formula] is the collection of infinite sets

[formula] is the collection of sets with positive upper Banach density

[formula] is the collection of piecewise syndetic sets

[formula] is the collection of sets X such that [formula]

Properties satisfying all but the final condition, that [formula] iff [formula], are called divisible [\cite=glasner80].

Let U be a countable collection of sets of integers. We write XU if there is a finite F  ⊆  U such that [formula].

We say U is a [formula]-semigroup if U satisfies [formula]-fip, U is closed under finite intersections, and whenever X∈U, there is a YU such that X - nU for each n∈Y.

There are two useful ways to view [formula]-semigroups. The first is to observe that every [formula]-semigroup represents a closed semigroup in the space of ultrafilters on the integers (namely, the collection of ultrafilters extending U).

The second is to recall that an IP set is a set S such that there is an infinite T  ⊆  S all of whose finite sums also belong to S. Then the collection {S - n|n∈FS(T)} (where FS(T) is the finite sums from T) is a canonical example of a [formula]-semigroup where [formula] is the collection of infinite sets. The notion of a [formula]-semigroup generalizes an IP set in two directions: first, it allows for arbitrary [formula]. (Note that the appropriate requirement is not that [formula]; rather, the requirement is that there are many possible choices for the infinite set T--indeed, the an infinite tree of such sets, with the number of possible branches at each level belonging to [formula]. This discussion will be made precise when we state the main theorem below.) Second, if we have an infinite descending sequence of IP sets [formula], their intersection may well be 0. However the union of the corresponding [formula]-semigroups is still a [formula]-semigroup. So [formula]-semigroups also generalize IP sets by accomodating the result of infinitely many successive refinements of an IP set.

The argument here is very similar to a proof using ultrafilters, but we emphasize that the [formula]-semigroups appearing in the proof are much simpler objects: they are countable collections, built with no use of the axiom of choice.

The following lemma is our essential building block:

Let U satisfy [formula]-fip, and let A be a set of integers. Then either [formula] or [formula] satisfies [formula]-fip.

Suppose neither collection satisfies [formula]-fip. Then choose finite sets F,F'  ⊆  U such that [formula] and [formula]. Then

[formula]

But this is impossible, since [formula] must hold.

Dense Hindman's Theorem

If U is a [formula]-semigroup, A is a set, S is a set with the property that

[formula]

satisfies [formula]-fip, and [formula] does not satisfy [formula]-fip, then there is a finite F  ⊆  S and a YU such that 0∈Y and [formula] satisfies [formula]-fip.

Since [formula] does not satisfy [formula]-fip, let XU and F  ⊆  S be such that [formula]. Let Y be the set of n such that X - nU; clearly 0∈Y since XU.

We claim that [formula] satisfies [formula]-fip. Let ZU and G  ⊆  Y be finite. Let Z'U be such that Z - nU for each n∈Z'; then [formula]. If we choose any k in this set, we have [formula], and therefore [formula].

In particular, observe that if

[formula]

satisfies [formula]-fip but whenever [formula],

[formula]

does not satisfy [formula]-fip then S satisfies the condition of this lemma.

We say A is large relative to a [formula]-semigroup U if whenever V is a [formula]-semigroup extending U, [formula] satisfies [formula]-fip.

If [formula] and C is large relative to U, there is a V extending U and an i such that Ci is large for V.

Applying induction, it suffices to consider the case n = 2. If C1 is large relative to U then 1 and U suffice. Otherwise there is a V extending U such that [formula] fails to satisfy [formula]-fip, and therefore C2 is large relative to V.

Let U be a [formula]-semigroup and A a set. If A is large for U then there is a V extending U such that the set of n∈A for which [formula] is large for V belongs to [formula].

Given U, expand to some [formula]-semigroup V such that for every finite set F, either [formula] is large for V or [formula].

Let S be a maximal set of n so that 0∈S, F  ⊆  S implies [formula] is large for V, and [formula] implies that there is an F  ⊆  S so that [formula] is not large for V.

Then if F  ⊆   - 1  ·  S is finite, we may choose a G  ⊆  S so that [formula] is not large for V for any m∈F. Then [formula] for each m∈F, and since [formula] satisfies [formula]-fip, it follows that [formula] satisfies [formula]-fip. This holds for every finite F  ⊆   - 1  ·  S, so [formula] satisfies [formula]-fip.

Therefore, by Lemma [\ref=3.1], if [formula] does not satisfy [formula]-fip then there is a finite set F  ⊆  S and a W extending V such that [formula]. But this would contradict the fact that [formula] is large for V. So [formula] satisfies [formula]-fip, and is therefore a [formula]-semigroup.

Since A is large for V, also [formula] satisfies [formula]-fip, so in particular, [formula]. Since for each n∈S, [formula] is large for V, the claim is proven.

For any set of integers S, let FS(S) be the collection of finite sums from S:

[formula]

Let [formula]. There is some i  ≤  r and a tree T of finite sets of integers such that:

[formula]

If F∈T, [formula] belongs to [formula]

If F∈T then [formula]

Since [formula] is large for the trivial [formula]-semigroup [formula], we may choose a [formula]-semigroup U and an i so that Ai is large for U. By the preceeding theorem, we obtain a [formula]-semigroup U1 extending U so that [formula] belongs to [formula]. We place {n} in T if [formula] is large for U'.

Suppose we have F  ⊆  T and have a V so that [formula] is large for V. Again by the preceeding theorem, we may find a V' such that [formula] belongs to [formula]; then we place [formula] in T for each such m, thereby maintaining the inductive assumption.