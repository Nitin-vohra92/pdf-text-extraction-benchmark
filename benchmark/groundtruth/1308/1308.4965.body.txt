at 12pt

A proposal for a Chinese keyboard for cellphones, smartphones, ipads and tablets to to to

Keywords: hyperbolic plane, tessellations, keyboards, Chinese language

Introduction

In a previous paper, [\cite=acri], the first author presented a proposal for a Japanese keyboard for cellphones. He presented his ideas first at AUTOMATA'2005 in Gdansk, Poland. A few Japanese colleagues were there present. They highly appreciated the project and decided to join it. Later on, we call the project described in [\cite=acri] as the Japanese project.

Here, the paper deals with Chinese language, and we shall later reference the project as the Chinese project. It is important to indicate at this point that we illustrate our example using the simplified Chinese characters. It is not difficult to adapt the same method with traditional characters.

There is a deep difference between both projects. In the Japanese project, the question of kanji's was simply evoked not even partially implemented. The writing of the texts was based on hiragana's and katakana's, Japanese syllabic alphabets which allow anyone to phonetically write down texts of the Japanese language. In the Chinese project, we address the question of writing texts in Chinese characters, and the experimental aspect, although at a very tiny toy example, actually yields a text in Chinese characters.

In Section [\ref=main], we describe the main features of the Chinese project. project. As in the Japanese project, the Chinese one makes use of tessellations in the hyperbolic plane. In the Japanese project, we used one tessellation, the pentagrid, see Subsection [\ref=hyptilings] while in the Chinese project, we use two of them, the pentagrid and the heptagrid, see Subsection [\ref=hyptilings] and Figure [\ref=tilings]. In Section [\ref=implement], we describe our implementation and how we proceeded to perform the toy example illustrating the paper.

Main ideas

The main ideas consists in merging a part of the today technique used in typing Chinese texts on a computer with the technique used in the Japanese project.

As an example of the today technique used for typing Chinese texts on a computer, we can take the algorithm used by Google. Once you selected the Chinese keyboard, you are given the possibility to use a font of simplified characters or a font of traditional characters. Then you type the pin-yin of each character. In a more or less predictive way, the system opens a window where you are given the choice for the character you wish. If you type the pin-yin of a single character, the system gives you a numbered list of five characters you can select with the mouse and then clicking on the expected character. In fact there are usually more than five characters for a given syllab. This is indicated by an arrow. If the wished character is not in the list, clicking on the arrow displays a new list and this can be repeated until you find the character or all characters corresponding to that pin-yin have been displayed.

Also note that the just described system does not allow you to mention the tone of the syllab.

In our Chinese project, we also use first a pin-yin approach. Now, this time we allow the user to type an optional information on the tone: 1, 2 3 or 4 depending on the number of the considered tone. It is known that the tones of the standard mandarin Chinese are ordered from 1 to 4. The lack of tone is denoted by 0. Now, we introduce a difference. As on a cell phone there is no room for an alphabetic typing, we use a tiling of the hyperbolic plane to diplay the letters needed by the user. We split the process into two parts as, according to the phonetic properties of syllabs in the Chinese language, we may separate a syllab into first, a consonent, and then a vowel. We use another tiling of the hyperbolic plane in order to display the characters associated to the syllab selected by the user. In Section [\ref=implement], we precisely describe the method which is also illustrated on an example.

Pentagrid and heptagrid

In this section, we sketchily remind what should be known about hyperbolic geometry in Subsection [\ref=hypgeom]. Then, in Subsection [\ref=hyptilings] we focus on tilings of the hyperbolic plane, especially on the two ones we shall use in our proposal: the pentagrid and the heptagrid.

Hyperbolic geometry

Hyperbolic geometry was found after a two-thousand year research about an axiom of Euclid's Elements. The axiom says that in the plane, through a point P out of a straight line [formula] there is exactly one straight line p which passes through P and which is parallel to [formula], meaning that it does not cut [formula]. For a reason we cannot explain here, people were convinced that this property could be proved from the other axioms of the Elements. It took around two thousand years to realize that Euclid was right: his axiom cannot be proved from the others. But the answer was a source of deep astonishment. It was not a simple answer: it was at the same time, the discovery of a new world, as coherent as the one to which people were used. Less than a hundred year after the discovery, it turned out that hyperbolic geometry was used in the foundations of an important theory of physics,the theory of relativity.

Let us just mentioned here that a model of this geometry was discovered around 1870 and that the most presently used modelis of this geometry, so called Poincaré's models were found in 1882. In this paper, we make use of Poincaré's disc model, illustrated by Figure [\ref=poincare].

In the Figure, we can see a circle C which we call the set of points at infinity. The points which lie inside C constitute the points of the hyperbolic plane. Note that the points at infinity do not belong to the hyperbolic plane. A line of the hyperbolic plane is represented by the trace, inside C, of either a diameter of C or of a circle which is orthoogonal to C. Figure [\ref=poincare] represents several lines of the hyperbolic plane. We can see that, in the figure, [formula] does not pass through A which is a point of the hyperbolic plane. Now, the line s, which passes through A, cuts [formula] in the hyperbolic plane. The figure shows that there are two lines, p and q, passing through A which have a common point with [formula] which is a point at infinity: and so the lines p and q are called parallel to [formula]. Now, there is another kind of line, represented by m in Figure [\ref=poincare], which passes through A but does not meet [formula] neither inside C, nor on C and nor outside C. Such a line is called non-secant with [formula].

We have no room here to go further about the properties of hyperbolic geometry where triangles have new properties and were new objects also have many fascinating properties. The interested reader is referred to [\cite=mmbook1] [\cite=mmbook2] [\cite=mmbook3]. In [\cite=mmbook2], an account of the Japanese project can be found. In [\cite=mmbook3], there is a short historical account of the discovery of hyperbolic geometry. In [\cite=mmbook1] [\cite=mmbook3] there is an introduction to hyperbolic geometry.

Tessellations in the hyperbolic plane

In 1882, Henri Poincaré proved a very important property of the hyperbolic plane, namely the existence of infinitely many tilings generated by the following process: we start with a convex regular polygon, called the basis and we replicate it by reflection in its sides and, recursively we replicate the images in reflection in their sides. These images together with the basis itself are called copies of the basis. When the copies cover the plane in such a way that pairwise copies never intersect their interiors, we say that we have a tiling. A tiling obtained by the just described process is calle a tessellation.

If we denote by p the number of sides of the basis and by q the number of copies we can put, sharing a common vertex V, not overlapping and covering a neighbourhoodof V, Poincaré's theorem that we have a tessellation as long as [formula].

We can see that when q = 4, which corresponds to a right angle for two consecutive edges of the basis, the smallest number of sides is 5: this is the pentagrid, illustrated by the left-hand side picture of Figure [\ref=poincare]. When q = 3, which corresponds to an angle of [formula] between two consecutive edges of the basis, the smallest number of sides is 7: this is the heptagrid, illustrated by the right-hand side picture of Figure [\ref=poincare].

Note that in the Euclidean plane, the condition for a basis characterized by p and q to give rise to a tessellation is [formula]. This gives us finitely many solutions only for both p and q. We have here that q = 3, 4 or 6 and that then p = 6, 4 or 3 respectively.

From the geometrical point of view, the Chinese project makes use of simple transformations leaving the tilings glabally invariant: the translations along appropriate lines, see [\cite=mmbook1] [\cite=mmbook2] [\cite=mmbook3]. It also makes use of an appropriate coordinate system also explained in [\cite=mmbook1] [\cite=mmbook2] [\cite=mmbook3].

Implementing the Chinese keyboard

In this section, Subsection [\ref=basic] introduces the main features of our method and how it is implemented in various settings: the case of a cell phone, see Subsection [\ref=mobile], and the case of devices equipped with a tactile screen, see Subsection [\ref=tactile]. We also allow the possiblity to type texts using a predictive system: thi is described in Subsection [\ref=predictive].

Basic features

As illustrated by Figure [\ref=pinyin], we use two disks taken in a tiling, the heptagrid, which is introduced in Section [\ref=pentahepta]. Indeed, the syllabs of the Chinese languages have a simple structure. They start with a consonent, possibly empty, then a vowel possibly ending with n. Note that a few vowels are nasal ones as in the French language. The left-hand side disc of Figure [\ref=pinyin] gives the possible consonants of a syllab. The order of the letters follows the traditional orders of consonants for the pin-yin writing. We can distinguish six groups of letters: b p m f | d t n l | g k h | j q x | zh ch sh r | z c s. Two additional consonents, w and  y are used to write syllabs which start with the vowels i or  ü, introduced by  y, and  u introduced by  w. Together with w and y, in the same sector, we have the three vowels, a, o and e, indicating the way to access vowels for syllabs starting with a, o or e.

In a device doted with a tactile screen, the input is direct: the user puts his/her finger on the appropriate cell to enter the corresponding syllab.

In a device with a passive screen, no more than five cliks are needed to enter a syllab. Note that with a computer keyboard, the longest syllab requires six letters in pin-yin. As we have to compare similar devices, note that on a cell phone, a single letters requires a bit more than two clicks in mean in order to be reached. Now, it is not difficult to see that the number of clicks to enter a syllab in our project is not greater than the number of letters to write it on a computer.

Let us look at the writing of chuang, which requires 6 letters. Two cliks allow us to put ch into the central cell, see Figure [\ref=conson]. Indeed, first, the user presses on 6 which puts zh into the centre. Then, he/she presses on 1 to get ch in the centre. Two cliks also allow us to put uang into the centre, see Figure [\ref=vowel]: first, pressing on 7 puts iang into the centre and then, again pressing on 7 puts uang into the centre. It is not difficult to manage things in such a way that when the consonent is selected, the panel with wowels automatically is presented.

Note that in the case of a tactile screen, the just mentioned method to input a syllab necessitates two gestures only.

In the same way, we can perform the selection of Chinese characters.

Once the pin-yin syllab is selected, a panel is displayed with the characters associated with this pronouciation which fall within this frame. This time we use the pentagrid for readability reasons: the cells in the pentagrid are significantly bigger than in the heptagrid. The counter-part is that we may display at most 60 characters, while it would be possible to display 84 of them in the heptagrid. We shall even display a bit less: we use one sector of the pentagrid per tone. The fith tone can be used for situations when there are characters attached to a pronounciation with the neutral tone. But, in most cases, such a display will be enough. In some cases, when more than 48 characters must be displayed, a click on an approriate key will provide a new plate of characters. Note that compared with the present tools for typing Chinese texts, this method offers much bigger facility.

Figure [\ref=testa] presents two extreme situations for plates of Chinese characters associated to each pin-yin. On the left-hand side picture, we have the characters dsiplayed for the pin-yin men. On the right-hand side, we have those for the pin-yin shi. In fact, for the pin-yin men we need not the two copies of in our example. But this may be the case for other characters which may be associated to the same pin-yin but different tones. This is not the case for most characters, but the number of those for which it is the case is not so few that we may stumble on them from time to time.

Now, in order to look better at how the software should work, let us look at the following example. Suppose that we would like to write

to

We shall separately consider the case of a cell phone and that of a device with a tactile screen.

The example on a cell phone

In Sub-subsection [\ref=protocol], we present the general protocol which seems to us the most accessible to a user. In Sub-subsection [\ref=improve], we introduce two options which can be of help for the user.

The general protocol

Let us illustrate how our project works to enter . First, the consonent panel appears as in Figure [\ref=panwo]. In the figure, we have a reproduction of the outline of the cellphone and how the heptagrid appears in it. The keyboard is displayed on the right-hand side of the window devoted to the dipslay of the grids. There are 14 keys on the keyboard. Seven of them allow the user to put the required cell on the center of the pentagrid. The other keys may have a use, as later indicated.

Then the figure moves as shown by Figure [\ref=panwo1] in order to get the display shown by Figure [\ref=panwo2]. The user presses on  1 as shown by Figure [\ref=panwo1]. The user presses 1 again and then ok. This makes the display of Figure [\ref=panwo2] appear on the screen. This triggers the display of the vowel panel, see Figure [\ref=vowwo1]. Here, the vowel panel gives an immediate access to the appropriate vowel, namely  o, see Figure [\ref=vowwo2]. This makes the panel of characters whose pin-yin is wo appear, see Figure [\ref=thewo1]. There are more characters than those indicated in Figure [\ref=thewo1] but, as done in most softwares, the panel of the figure shows the most used of them.

Now, the access of the expected character is also immediate as it is in a tile which is immediately around the central tile. Note that the panel of characters is now displayed in a copy of the pentagrid: the tiles are bigger corresponding to the size of the Chinese characters, usually bigger than roman letters.

Also, note that the pentagrid make use of four sectors only: this due to the fact that each sector contains the characters which are pronounced in the same tone.

This display should help the user who, in principle, knows under which tone the expected character is pronounced. In order to facilitate the location of the zone to which the character is to be found, the same colours are given to each sector. Accordingly, we decided that the first,second, third and fourth tone is red, orange, green and blue respectively, see Figures [\ref=thewo1], [\ref=thewo2], [\ref=theshi1] and [\ref=theshi2]. Once the character is selected, it appears on the control screen, which appears below the screen of the panels, see the just mentioned figures.

We give again another example for the same sentence with the syllab shi. The selection of this syllab involves several points which have to be seen too.

The selection of  shi raises a first problem with the consonent sh. Phonetically, it is a consonent as w or s are. However, in pin-yin it is written sh, so that the user may have in mind that two letters must be issued and not a single one. We indicate in Sub-subsection [\ref=improve] how to help the user in this case.

The second point is the fact that a lot of characters have the same pin-yin shi. Moreover, the distribution between the tones is not uniform. An overwhelming majority of characters pronouned  shi are said in the fourth tone. This can be seen in the panel associated to  shi. Note that the number of characters presented here is rather small compared to the whole number of characters associated to  shi. Here we offer 40 of them while their number is over 300.

The choice of the character for  you requires an additional screen as the expected character is not an immediate neighbour of the central tile. This is also the case for  men, although the number of characters for this pin-yin is very low.

Additional features

We can now illustrate the other use of the cell phone in case the user does not clearly understand that sh can be accessed without the use of s followed by  h. Figures [\ref=pansshi1], [\ref=pansshi2] and [\ref=pansshi3] show the actions that the user has to perform if he/she proceeds in this way.

Note that this problem also arises for  zh and  ch. A single solution is possible for the user who would not immediately grasp the phonetic aspect of the proposal.

The user wishes to first access to  s. He/she must first select z as shown in Figure [\ref=pansshi1] by pressing key 7. Then, he/she presses the same key again in order to get  s, see Figure [\ref=pansshi2]. At last, he/she presses key 0 in order to transform  s into  sh and also on  ok in order to confirm the choice. Of course, the key  ok can be used in a similar way for  zh and  ch.

We think that after a certain time, the user will understand the logic of the various colours, that the consonents are divided into groups. The user will sooner or later realize that it is shorter to get  sh by selecting first  zh and not using the helping key  0. He/she will discover this feature when noticing that from any letter on the panel, thanks to the numbers in the fixed central part, it is possible to go to any other letter, as well as to go back to an empty central cell.

Starting from this point, the vowel panel is triggered and the user performs the actions already depicted by Figures [\ref=vowshi1], [\ref=vowshi2], [\ref=theshi1] and [\ref=theshi2]. Another way to use the cell phone is accessible to the enough trained user. It consists in numbering the cells used in the panels, mainly for the pin-yin panels. This is illustrated by Figures [\ref=num_cons] and [\ref=num_vows] for the consonents, for the wowels respectively.

The principle of the numbering is simple. The cells to which the user access by pressing a key when starting from an empty cell bear the number indicated on the display. As the device expects a number with two digits, the user dial 0x, where x is the appropriate number, or he/she presses x and then ok. For example, to enter  j, the user forms 05 or 5 and then  ok. Then, if the letter is a bit further, it is numbered in its sector, defined by the colour, the numbering being increasing on each ring around the central cell, starting from the closest to the center and clock-wise turning around the central cell. We can see the application of this rule on both Figures [\ref=num_cons] and [\ref=num_vows].

As an example, sh is numbered 62 in the consonent panel: the user presses  6 and then  2. This convention requires the minimal memory effort for the user. As another example, this time in the vowel panel, uan is numbered  55 and is accessed by clicking 5 and then  5 again. For both panels, the numbering of the central cell reminds the numbers of the sectors and the orientation of the numbering in the other further rings.

However, it should be noted that this numbering is no more possible for the panels of characters, especially when there are many of them. There is a possible numbering of the tiles on which the coordinate system evoked in Subsection [\ref=hyptilings] is based, but this is out of scope for most users. The user will certainly shortly realize that counting the tiles to find out a number is much longer than clicking on two or three keys in order to access the appropriate character.

The example on a tactile screen device

Let us know look at the same examples in the case of a tactile screen device. Figure [\ref=tact_w0] shows the first screen seen by the user: the consonent panel.

Then, the user presses the screen on the spot where the desired consonent is, see Figure [\ref=tact_w1]. Here, the consonent is  w.

Then, the vowel panel appears, as shown by Figure [\ref=tact_o0]. The user can now choose the desired vowel: it is enough to press on the spot of the screen where the corresponding tile is.

The user chosed the appropriate vowel as can be seen on Figure [\ref=tact_o1]. This triggers the panel of characters corresponding to the pin-yin  wo, see Figure [\ref=test_wo0].

The user chooses the needed character as shown in Figure [\ref=test_wo1]. Once chosen, the character appears on the control screen: it is here too placed under the screen for the consonent and vowel panels.

We have exactly the same situation for the choice of  shi. Figures [\ref=pan_shi0] and [\ref=pan_shi1] illustrate the selection of  sh, which requires a single gesture and which does not raise the problem of conflict between the spelling and the phonetics. Then, Figures [\ref=vow_shi0] and [\ref=vow_shi1] illustrate the choice of the vowel  i. This triggers the panel of characters associated with  shi see Figure [\ref=test_shi0]. A single gesture of the user allows to select the needed character, see Figure [\ref=test_shi1].

On tablets, where the screen is bigger, we can afford an interesting improvement in order to raise the efficiency of the method. The selection of the pin-yin can be facilitated by presenting to the user both the panel of consonents and the panel of vowels at the same time, as shown in Figure [\ref=bipy_shi0].

Figure [\ref=bipy_shi1] shows that the user can select both the consonent and the vowel on the same screen, which is somehow faster.

After this selection, the screen displays the panel of the characters for  shi as illustrated by Figure [\ref=test_shi0].

The predictive typing

We turn now to the predictive typing we mentioned in Section [\ref=main]. We indicated there that many systems for typing texts in Chinese language make use of such a facility. We can do the same here. Such a system is based on a large data set where connections between words are registered.

We may imagine that each letter entered in the system raises a set of possible words which are ordered by the system according to some algorithm. The user confirms the first choice or selects one of the proposed choices or goes back to a previous situation if the proposed selections do not fit what he/she has in mind. Accordingly, the behaviour of the system consists in defining paths in trees rooted at the intial entry after the last past session.

We give the user the possibilitly to switch on the predictive typing or to switch it off. By default, the predictive system is switched off.

If the system is switched on, two keys or buttons are at the disposal of the user. The first one makes a selection between two degrees of predictivity: in the lowest degree the system suggests choices a characters for the pin-yin while the user is dealing with the panel of consonents. These choices are displayed on the control screen. Then, the selection is performed by clicking on a number which is the order of the desired character in the list suggested by the system or, on a device with a tactile screen, by pressing on the character. In the highest degree, to the just described facility, the system offers an additional one. Once a character is selected, the system suggests possible characters which may follow what is already recorder on the linear display. As an example, after

is entered, the system may display:

,

,

,

,

,

,

and a lot of other possibilities.

In both degrees, a key or a button allows him/her to go back to a previous step in the currently explored path if needed. If the key or the button is pressed, the consonent and vowel panels are again raised for determining the new pin-yin or, depending on what was the last step in the path, the panel of characters for a given pin-yin is again displayed in order the reader can select a character different from the one suggested by the system. Figure [\ref=panpred] illustrates the situation for a cell phone.

Figure [\ref=tabpred] does the same for a smartphone, an Ipad or a tablet: a button is offered the user in order to go backwards if needed, as long as wished.

Another important point connected to the predictive system is the choice performed by the system. Usually, the system takes into account the statistical frequency of the characters as established by many sources. It may also take into account the personal frequency by the user. As an example, if the user has a close friend whose name has a pin-yin associated with very frequent characters, the friend's name will occur sufficiently enough to change the statistics of this character. Our software will take this into account and it will give priority to the user personal statistics. The software counts each character used by the user and each character receives a weight which is the number of its use by the user. The heighest the score, the closer the place of the character to the central cell in the panel associated to the corresponding pin-yin. The software will keep these statistics from one session to the other and, during a session, it will permanently update it according to what the user did.

Acknowledgment

The second author has completed her sudies at Jianghan University, Wuhan, which helped her so much.