Proposition Corollary Lemma Remark Remarks Definition

Some examples of asymptotic combinatorial behavior, zero-one and convergence results on random hypergraphs

Introduction

This is an extended version of the thesis presented to the Programa de Pós-Gradua cão em Matemática of the Departamento de Matemática, PUC-Rio, in September 2014, incorporating some suggestions from the examining commission. Among such extensions of the original text, there is a discussion of convergence laws for the random hypergraph in the range

[formula]

called the Double Jump.

The original version can be found in the following address:

It has now been more than fifty years since Erd os and Rényi laid the foundations for the study of random graphs on their seminal paper On the evolution of random graphs [\cite=erdos2], where they considered the binomial random graph model G(n,p). This consists of a graph on n vertices where each of the potential [formula] edges is present with probability p, all these events being independent of each other. Many interesting asymptotic questions arise when n tends to ∞   and we let p depend on n.

Among other results, they showed that many properties of graphs exhibit a threshold behavior, meaning that the probability that the property holds on G(n,p) turns from near 0 to near 1 in a narrow range of the edge probability p. More concretely, given a property P of graphs, in many cases there is a threshold function [formula] such that, as n  →    ∞  , the probability that G(n,p̃) satisfies P tends to 0 for all p̃  ≪  p and tends to 1 for all p̃  ≫  p. Erd os and Rényi showed, for example, that the threshold for connectivity is [formula]. They also showed that there is a profound change in the component structure of G(n,p) for p around [formula], where one of its many connected components suddenly becomes dramatically larger than all others, a phenomenon mainly understood today as a phase transition. The range of p where this occur is called the Double Jump and has received enormous attention from researchers since then.

The above threshold behaviors suggest that one could expect to describe some convergence results, where the probabilities of all properties in a certain class converge to known values as n  →    ∞  . Among the first convergence results there are the zero-one laws, where all properties of graphs expressible by a first order formula (called elementary properties) converge to 0 or to 1. This happens, for example, if p is independent of n. Many other instances of zero-one laws for random graphs were obtained by Joel Spencer in the book The Strange Logic of Random Graphs [\cite=spencer]. There he shows that zero-one laws hold if p lies between a number of "critical" functions. More concretely, if p satisfies one of the following conditions

p  ≪  n- 2

[formula] for some [formula]

n- 1 - ε  ≪  p  ≪  n- 1 for all ε > 0

n- 1  ≪  p  ≪  ( log n)n- 1

( log n)n- 1  ≪  p  ≪  n- 1 + ε for all ε > 0

then a zero-one law holds.

Note that clause 2 is, in fact, a scheme of clauses. Note also that 1 can be viewed as a special case of 2. There are functions p  ≪  n- 1 + ε not considered by any of the above conditions. Such "gaps" occur an infinite number of times near the critic functions in the scheme 2 and two more times: one between clauses 3 and 4 and the other between clauses 4 and 5. Spencer shows that, for some functions p conveniently near that "critic" functions in 2 and the critic functions n- 1 and [formula], corresponding to the gaps 3 - 4 and 4 - 5 respectively, the probabilities of all elementary properties converge to constants c∈[0,1] as n  →    ∞  . This situation, more general than that of a zero-one law, is called a convergence law.

One sees immediately that the possibility that an edge probability function oscillates infinitely often between two different values can be an obstruction to getting convergence laws. With this difficulty in mind, we consider the edge probability functions [formula] that belong to Hardy's class of logarithmo-exponential functions. This class is entirely made of eventually monotone functions, avoiding the above mentioned problem, and has the additional convenience of being closed by elementary algebraic operations and compositions that can involve logarithms and exponentials. All thresholds of natural properties of graphs seem to belong in Hardy's class.

Generally speaking, our work implies that, once one restricts the edge probabilities to functions in Hardy's class, there are no further "gaps": all logarithmo-exponential edge probabilities p  ≪  n- 1 + ε are convergence laws. The arguments in Spencer's book are sufficient for getting most of these convergence laws, except for those in the window [formula] , C > 0, where just the value C = 1 is discussed.

One of our main interests lies in the completion of the discussion of the convergence laws in the window [formula] for other values of C and generalizations of the beautiful arguments in Spencer's book to random uniform hypergraphs. We will see that this window hides an infinite collection of zero-one and convergence laws and that those can be presented in a simple organized fashion. We also get simple axiomatizations of the almost sure theories and describe all elementary types of the countable models of these theories.

Convergence laws have a deep connection with some elementary concepts of logic. More precisely, zero-one laws occur when the class Tp of almost sure elementary properties is complete and convergence laws occur when this "almost sure theory" is, in a sense, almost complete. Some everyday results in first-order logic imply that when all countably infinite models of Tp are elementarily equivalent (that is, satisfy the same elementary properties), Tp is complete. This is obviously the case if there is, apart from isomorphism, only one such model: in this case, we say that Tp is [formula]-categorical. We will face situations where the countable models of Tp are, indeed, unique up to isomorphism. In other cases, the almost sure theory is still complete but the countable models are not unique: in the instances of the latter situation, the countable models are not far from being uniquely determined and, in particular, lend themselves to an exhaustive characterization. Finally, there are cases where Tp is not complete but we still have convergence laws: in these cases, the almost sure theories are not far from being complete, and we still manage to classify their countable models.

Along the way, we describe some combinatorial aspects of the component structure of the random hypergraph in the window [formula], including some estimates of the size of the complement of its largest connected component. As a consequence, we get some elementary approximations of non-elementary events that work for probability edge functions in Hardy's class. The phase transition occurring in the Double Jump p  ~  Cn- 1 has recently been seen to hold, in this more general context of random (d + 1)-uniform hypergraphs, in the window p  ~  Cn- d by Schmidt-Pruzan and Shamir in [\cite=pruzan]. We do not discuss convergence laws in this window for d > 1 as Spencer successfully does for d = 1, although this seems an interesting question worthy of clarification in the future.

Preliminaires

The model Gd + 1(n,p)

We consider the binomial model Gd + 1(n,p) of random (d + 1)-uniform hypergraphs on n vertices with probability p∈[0,1], that is to say, the finite probability space on the set of all hypergraphs on n labelled vertices where each edge is a set of cardinality d + 1 and if H is such a hypergraph with k edges then one has

[formula]

Another useful characterization of the same probability space is to insist that each of the potential [formula] edges be present in Gd + 1(n,p) with probability p, each of these events being independent of each other. We will, more often, prefer the latter because it is more convenient in applications.

In the literature, the reader will find that the notations Gd + 1(n,p), Hd + 1(n,p) and even some others also stand for Gd + 1(n,p). Our choice reflects our mere personal taste.

Our interest lies on the asymptotic behavior of Gd + 1(n,p) when n  →    ∞   and p = p(n) is a function of n. More specifically, a property of hypergraphs is a class of hypergraphs closed by hypergraph isomorphism. Each property P gives rise to a sequence

[formula]

and it is the asymptotic behavior of these sequences we shall be interested in: when they converge; if so, what the limits are and so on.

A property P is said to hold asymptoticaly almost surely (or simply almost surely) if [formula]. In this case we say simply that P holds a.a.s.. A property P is said to hold almost never if its negation [formula] holds almost surely. Very often, it is the case that a property P turns from holding almost never to holding almost surely in a narrow range of the edge probability p.

We say [formula] is a threshold function (or simply a threshold) for P if both the following conditions hold:

If p  ≫  p̃ then P holds a.a.s. in Gd + 1(n,p).

If p  ≪  p̃ then [formula] holds a.a.s. in Gd + 1(n,p).

Above and in all that follows, for eventually positive functions [formula], both expressions f  ≪  g and f = o(g) mean [formula].

Note that thresholds, when they exist, are not uniquely defined. For example, if p̃ meets the requirements of being a threshold for P then all functions c  ·  p̃, with [formula], also do. Therefore, strictly speaking, it would be more correct to talk about "representatives" of the threshold. However, as distinctions of this nature usually play no role in what follows, we shall not bother the reader with them.

As far as thresholds are concerned, the following is a generalization of a classical result of Erd os, Rényi and Bollobás, stated and proved by Vantsyan in [\cite=vants].

That is to say, [formula] is a threshold for the appearance of small sub-hypergraphs with maximal density ρ. We will need this later.

Among similar results, we will see that [formula] is a threshold for Gd + 1(n,p) being connected, apart from getting thresholds for other properties.

Logarithmico-Exponential Functions

Generally speaking, our results relate to convergence. That is, showing that for all functions p and properties P in certain specified classes, the limit

[formula]

exists. Moreover, one can usually get a nice description of these limits.

One obvious obstruction to getting such results is the possibility that the function p can oscillate between two different values, so that the corresponding probabilities also do. This would, obviously, rule out convergence.

To overcome this difficulty, one can restrict the possible functions p to a class entirely made of eventually monotone functions. One natural such choice is Hardy's class of logarithmico-exponential functions, or L-functions for short, consisting of the eventually defined real-valued functions defined by a finite combination of the ordinary algebraic symbols and the functional symbols [formula] and [formula] on the variable n. To avoid trivialities such as

[formula]

we require that, in all "stages of construction", the functions take only real values.

By induction on the complexity of L-functions, one can easily show that this class meets our requirement and even more. We state the following and refer the interested reader to Hardy's book Orders of Infinity [\cite=hardy] for a proof.

Thresholds of natural properties of graphs and hypergraphs appear to have representatives that are L-functions. (Stating and deciding a formal counterpart of that claim seems to be an interesting problem) This makes the choice of L-functions in the context of random hypergraphs a rather natural one.

First Order Logic of Hypergraphs

Having narrowed the class of possible edge probability functions, we now turn to a similar procedure on the class of properties of hypergraphs.

The first order logic of (d + 1)-uniform hypergraphs [formula] is the relational logic with language {σ}, where σ is a (d + 1)-ary predicate. The semantics of [formula] is given by quantification over vertices and giving the formula [formula] the interpretation "[formula] is an edge".

We say a property P of (d + 1)-uniform hypergraphs is elementary if it can be represented by a formula in [formula]. In this case, we write P∈ and, when no possibility of confusion arises, make no notational distinction between P and the first order formula defining it.

A first order theory is simply a subclass C  ⊆  , that is, a class of elementary properties.

Fix a first order theory C  ⊆   and a property P∈. We say P is a semantic consequence of C, and write [formula], if P is satisfied in all hypergraphs that satisfy all of C, that is to say, if [formula] implies [formula]. One can define a deductive system in which all derivations are finite sequences of formulae in [formula], giving rise to the concept of P being a syntatic consequence of C, meaning that some [formula]-formula defining P is the last term of a derivation that only uses formulae in C as axioms.

One piece of information in Gödel's Completeness Theorem is the fact that one can pick such a deductive system in a suitable fashion so as to make the concepts of semantic and syntatic consequences identical. As derivations are finite sequences of formulae, the following Compactness Result is obvious.

The "in particular" part comes from substitution of P by any contradictory property. A careful analysis of the argument on the proof of Gödel's Completeness Theorem shows the Downward Löwenhein-Skolem Theorem, that if C is a consistent theory (that is, satisfied by some hypergraph) then there is a hypergraph on a countable number of vertices satisfying C.

In spite of our particular interest in elementary properties, our interest is by no means exclusive. Rather we will, at times, discuss relations among elementary properties and provably non-elementary ones. As a matter of example and also for future reference, we define the events Dl.

In what follows, recall that the incidence graph G(H) of a hypergraph H is a bipartite graph with V(H) on one side and E(H) on the other and such that, for all v∈V(H) and e∈E(H), there is an edge connecting v and e in G(H) if, and only if, v∈e in H. We say a hypergraph is Berge-acyclic is its incidence graph has no cycles. From now on we shall refer to Berge-acyclic hypergraphs simply as acyclic hypergraphs.

A butterfly is a connected acyclic uniform hypergraph. The order of a finite butterfly is its number of edges.

Fix [formula].

Let a hypergraph satisfy Dl if the complement of a connected component of maximal size is a disjoint union of finite butterflies, all of them of order less then l.

So D1 is the event that the hypergraph is a union of a component and some isolated points. For convenience we adopt the convention that D0 is the event of being connected.

In the case d = 1 of graphs, it is a well known result of Erd os and Rényi that the property D0 of being connected, in spite of not being an elementary one, is asymptotically equivalent to the absence of isolated vertices, obviously an elementary property. The events Dl are generalizations of D0 to other values of l and d. As one should naturally expect, these generalizations give rise to concepts that are still non-elementary. We shall see that, in analogy with Erd os and Rényi's result, the events Dl are also asymptotically elementary.

The proof that Dl∉ exemplifies a nice use of Compactness.

Fix l and suppose, for a contradiction, that Dl∈. We use compactness.

Let {A,B} be a cut in a finite hypergraph. The norm of {A,B} is the number min {|A|,|B|}. Call a cut bad if none of the two sides of the cut is a disjoint union of butterflies of order less then l. So Dl is the event that there are no bad cuts.

For each [formula], let Em be the event that all bad cuts have norm at least m. By explicitly enumerating and excluding all bad cuts of order < m, one sees that Em∈.

Consider the theory [formula]. As there are hypergraphs that are a disjoint union of two large butterflies, one sees at once that every finite sub-theory of T is consistent. On the other hand, it is obvious that T is itself inconsistent, in contradiction with compactness.

An analysis of the above argument shows that, although Dl is not elementary, it is the class of hypergraphs satisfying all properties in a first order theory, namely the theory [formula]. We say a property P is axiomatizable if there is a first order theory T such that, for all hypergraphs H, one has [formula] if, and only if [formula] for all σ∈T. Of course, if there is such a finite T, P is elementary. So Dl is axiomatizable but not elementary.

Some properties are beyond even the expressible power of first order theories. Further insight on the proof of the above proposition shows that that is the case of the negations [formula].

For a contradiction, suppose the theory T axiomatizes Dl. Then the theory

[formula]

is inconsistent. But, as we have seen above, every finite subtheory of [formula] is consistent, in contradiction with compactness.

Still, as the reader can easily verify, if P is any property, then the property of being finite and satisfy P is axiomatizable.

Zero-One Laws and Complete Theories

The above observations will be useful in obtaining the following convergence results involving all properties in [formula].

We say a function [formula] is a zero-one law if, for all P∈, one has

[formula]

Above we mean that for every P∈ the limit exists and is either zero or one.

There is a close connection between zero-one laws and the concept of completeness. We say a theory C is complete if, for every P∈, exactly one of [formula] or [formula] holds.

Given [formula], the almost sure theory of p is defined by

[formula]

So Tp is the class of elementary properties of Gd + 1(n,p) that hold almost surely. Note that, as a contradiction never holds, Tp is always consistent. Moreover as, for every [formula], the property of having at least m vertices is elementary and holds almost surely, Tp has no finite models.

The connection between completeness and zero-one laws is given by the following.

Suppose Tp is complete and fix P∈. As Tp is complete, either P or [formula] is a semantic consequence of Tp. If [formula], by compactness, there is a finite set [formula] such that [formula]. Therefore

[formula]

As [formula] we have also [formula]. Similarly, if [formula] one has [formula], so that [formula]. As P was arbitrary, p is a zero-one law.

Conversely, if p is a zero-one law then, for any P∈, we have either P∈Tp or [formula]. One cannot have both, as Tp is consistent. So Tp is complete.

As Tp is consistent and has no finite models, Gödel's Completeness Theorem and Löwenhein-Skolem give that the requirement of Tp being complete is equivalent to asking that all countable models of Tp satisfy exactly the same first-order properties, a situation described in Logic by saying that all countable models are elementarily equivalent. One obvious sufficient condition is that Tp be [formula]-categorical, that is, that Tp has, apart from isomorphism, a unique countable model. We shall see several examples where Tp is [formula]-categorical and other examples where the countable models of Tp are elementarily equivalent but not necessarily isomorphic.

We summarize the above observations in the following corollary, more suitable for our applications.

Uses of the above result require the ability to recognize when any two models H1 and H2 of Tp are elementarily equivalent. This is, usually, a simple matter in case H1 and H2 are isomorphic. It is convenient to have at hand an instrument suitable to detecting when two structures of a first-order theory are elementarily equivalent regardless of being isomorphic.

Next, we briefly discuss the definition and some results on the Ehrenfeucht Game, which is a classic example of such an instrument.

The Ehrenfeucht Game

This game has two players, called Spoiler and Duplicator, and two uniform hypergraphs H1 and H2 conventionally on disjoint sets of vertices. These hypergraphs are known to both players. The game has a certain number k of rounds which is again known to both players.

In each round, Spoiler selects one vertex not previously selected in either hypergraph and then Duplicator selects another vertex not previously selected in the other hypergraph. At the end of the k-th round, the vertices [formula] have been chosen on H1 and [formula] on H2. Duplicator wins if, for all [formula], [formula] is an edge in H1 if and only if the corresponding [formula] is an edge in H2. Spoiler wins if Duplicator does not. We denote the above described game by [formula].

As a technical point, the above description of the game works only if [formula]. If that is not the case, we adopt the convention that Duplicator wins the game if, and only if, H1 and H2 are isomorphic.

The connection of the Ehrenfeucht Game to first order logic is a classic in logic and was given for the first time by R. Fraïssé in his PhD thesis in the more general context of purely relational structures with finite predicate symbols. A proof in the particular case of graphs can be found in Joel Spencer's book The Strange Logic of Random Graphs [\cite=spencer], whose argument applies, mutatis mutandis to uniform hypergraphs.

Now it is easy to see the connection of the game to zero-one laws.

Some winning strategies for Duplicator

Now we describe some situations when there is a winning strategy for Duplicator without H1 and H2 being necessarily isomorphic. All propositions we state below are analogous to propositions in Spencer's book The Strange Logic of Random Graphs. There, all results are stated and proved for graphs but, again, all arguments apply, mutatis mutandis, to the case of uniform hypergraphs.

In what follows, if H is a (d + 1)-uniform hypergraph and x∈H, the a-neighborhood of x is the restriction of H to the set of vertices at distance at most a from x. If [formula], the a-picture of [formula] is the union of the a-neighborhoods of the xi. Let [formula] and [formula]. Their a-pictures are called the same if there is an isomorphism between the a-pictures that sends xi to yi for all [formula]. Also, ρ(x,y) is the distance from x to y.

The Distance k-round Ehrenfeucht Game [formula] on hypergraphs H2 and H2 is the game [formula] with the additional requirement that for Duplicator to win, she must assure that the distances between corresponding marked vertices are preserved.

We say the a-neighborhoods of x and y are k-similar if Duplicator has a winning strategy for the Distance Ehrenfeucht Game in those neighborhoods that begins with x and y marked and has k additional rounds.

Let [formula] and [formula] and call these the marked vertices. The a-picture of [formula] splits into connected components [formula] as does the a-picture of [formula] into [formula]. Suppose that r = r' and that under a suitable renumbering, Ci and Di contain corresponding marked vertices.

We say that the above a-pictures are s-similar if, in addition to the above conditions, for all pairs of components Ci and Di, duplicator has a winning strategy for the Distance Ehrenfeucht Game that begins with the xl∈Ci and yl∈Di marked and has s additional rounds.

Now we can give a powerful extension of the above result.

Convergence Laws

Sometimes a zero-one law is too much to ask, so we consider a related weaker concept.

A function [formula] is a convergence law if for all P∈ the sequence

[formula]

converges to a real number in

[formula]

The convergence laws we will deal with occur when the almost sure theory Tp is not far from being complete, in the following sense.

Let T be a first order theory of (d + 1)-uniform hypergraphs and suppose we have a collection [formula] of first order properties (which is, of course, at most countable). We say C is a complete set of completions (relative to T) if the following conditions hold:

[formula] is complete for all i.

For all i  ≠  j, [formula]

For all i, the limit [formula] exists.

[formula].

In that case, if H is a hypergraph, and [formula], then exactly one of the following possibilities hold:

Then item 4 above means that the property axiomatizable by the theory [formula], although not necessarily contradictory, holds almost never.

In case [formula] is a complete set of completions for T and A is an elementary property, let S(A) denote the set of indexes i such that [formula].

We again refer the reader to Spencer's book [\cite=spencer] for a proof.

The next proposition summarizes the above discussion in a way suitable for proving all the convergence laws we need.

Big-Bang

Counting of Butterfly Components

Now we proceed to investigate zero-one and convergence laws in the early stages of the evolution of Gd + 1(n,p). More precisely, we investigate edge functions before the double jump:

[formula]

For functions p in that range, Gd + 1(n,p) almost surely has no cycles.

Fix a cycle C with v vertices and l edges. Then v  ≤  ld. Consider the expected number [formula] of copies of H in Gd + 1(n,p). Then

[formula]

by the upper bound on p. By the first moment method, a.a.s. there are no copies of C.

In view of the above, as far as all our present discussions are concerned, the hypergraphs we deal with are disjoint unions of butterflies. Getting more precise information on the statistics of the number of connected components that are finite butterflies of a given order is the most important piece of information to getting zero-one and convergence laws for p  ≪  n- d.

To this end, we define the following random variables. Below δ∈Δ, where Δ is the set of all isomorphism classes of butterflies of order l on v = 1 + ld labelled vertices.

Aδ(l) is the number of finite butterflies of order l and isomorphism class δ in Gd + 1(n,p).

A butterfly of order l is, in particular, a hypergraph on v = 1 + ld vertices. Let cδ(l) be the number of butterflies of order l and isomorphism class δ on v = 1 + ld labelled vertices. To each set S of v vertices on Gd + 1(n,p) there corresponds the collection of indicator random variables [formula], each indicating that one of the potential cδ(l) butterflies of order l and isomorphism class δ in S is present and is a component. Therefore one has

[formula]

where S ranges over all v-sets and i ranges over [formula].

Note that a connected component isomorphic to a butterfly of a certain isomorphism class is, in particular, an induced copy of that butterfly. Next we show that the threshold for containment of a butterfly of given order as a connected component is the same for containing butterflies of that order as sub-hypergraphs, not necessarily induced.

In the next proposition, the reader may find the condition

[formula]

in 2 rather strange, since it mentions functions outside the scope p  ≪  n- d of the present chapter. The option to putting this more general proposition here reflects the convenience that it has exactly the same proof and that the full condition will be used in the next chapter.

Let [formula] be the expected value of Aδ(l). One has [formula] choices of a set of v vertices, cδ(l) choices of the butterfly on it, probability pl that the l vertices of the butterfly exist and probability [formula] that no other edge connects the butterfly to other components. Therefore

[formula]

If [formula] then [formula] and, by the first moment method, we have 1.

For 2, suppose [formula] where [formula], so that

[formula]

Let [formula] be the variance of Aδ(l). It suffices to show that

[formula]

Indeed, by the second moment method, the above condition implies that almost surely Aδ(l) is close to its expectation [formula].

As [formula] and [formula] the above condition is equivalent to

[formula]

We have

[formula]

As each XiS indicates the presence of a butterfly as an isolated component, the second term is zero. But the first term is

[formula]

so we are done.

Further insight on Proposition 27 gives the following.

If 0  ≤  p  ≪  n- (d + 1), then almost surely there are no edges. As the absence of edges is an elementary property, a model of the almost sure theory in that case is the empty hypergraph in a countable number of vertices. So Tp is [formula]-categorical and all edge functions in that range are zero-one laws.

For [formula], the countable models of the almost sure theory have infinite isolated vertices and infinite isolated edges. This makes Tp [formula]-categorical so all such p's are zero-one laws.

More generally, for [formula], the countable models of Tp consist of countably many copies of all butterflies of all orders ≤  l and all isomorphism classes and nothing else. That makes Tp [formula]-categorical so these p's are zero-one laws.

Let Tl be the first order theory consisting of a scheme of axioms excluding the existence of cycles and butterflies of order ≥  l + 1 and a scheme that assures the existence of infinite copies of each type of butterflies of order ≤  l. Then Tl is an axiomatization for Tp, where p is as above.

Just Before the Double Jump

Consider now an edge function p such that for all ε > 0, n- (d + ε)  ≪  p  ≪  n- d. Such functions would include, for instance, p(n) = ( log n)- 1n- d. The countable models of the almost sure theories for such p's must be acyclic and have infinite components isomorphic to butterflies of all orders. But in this range a new phenomenon occurs: the existence of components that are butterflies of infinite order is left open. There may or there may not be such components, and therefore the countable models of Tp are not [formula]-categorical.

We proceed to show that these infinite components do not matter from a first-order perspective, as they will be "simulated" by sufficiently large finite components. Because first-order properties are represented by finite formulae, with finitely many quantifications, this will establish that all models of Tp are elementarily equivalent in spite of not being [formula]-categorical.

Rooted Butterflies

The results we state in this section for rooted butterflies are stated and proved in Spencer's book The Strange Logic of Random Graphs for rooted trees, which are particular cases of rooted butterflies when d = 1. The situation is similar to that of the last section: the same arguments in that book apply to the other values of d.

A rooted butterfly is simply a butterfly T (finite or infinite) with one distinguished vertex R∈T, called the root. With rooted butterflies, the concepts of parent, child, ancestor and descendent are clear: their meaning is similar to their natural computer science couterparts for rooted trees. The depth of a vertex is its distance from the root. For each w∈T, Tw denotes the sub-butterfly consisting of w and all its descendants.

For [formula], we define the (r,s)-value of T by induction on r. Roughly speaking, we examine the r-neighborhood of R and consider any cout greater than s, including infinite, indistinguishable from each other and call them "many". Indeed, the possible (1,s)-values for a rooted tree T are [formula] where M stands for "many". The (1,s)-value of T is then the number of edges incident on the root R if this number is ≤  s. Otherwise, the (1,s)-value of T is M.

Now suppose the concept of (r,s)-value has been defined for all rooted butterflies and denote by [formula] the set of all possible such values. Consider an edge [formula] of T incident on the root R. The pattern of E is the function [formula] such that, for all values [formula], there are exactly P(Ω) elements in the set [formula] with (r,s)-value Ω. Note that

[formula]

Let [formula] be the set

[formula]

In other words, [formula] is the set of all patterns.

The (r + 1,s)-value of T is the function

[formula]

such that, for all [formula], the root R has exactly V(Γ) edges incident on it with pattern Γ, with M standing for "many".

Note that for any value [formula] one can easily create a finite rooted butterfly with value Ω: We simply interpret "many" as s + 1. Also, any rooted butterfly can be considered a uniform hypergraph by removing the special designation of the root.

Proposition √∑[\ref=wining_strategy] gives the following, which can be interpreted as the formal counterpart of the claim that sufficiently large finite butterflies simulate the behavior of infinite ones as far as elementary properties are concerned.

It is convenient to emphasize that, above, H1 and H2 may or may not have infinite components.

Consider an edge function p such that n- (d + ε)  ≪  p  ≪  n- d for all ε > 0. We see that all countable models of Tp satisfy the hypotheses of the above proposition. Therefore they are elementarily equivalent and these p's are zero-one laws.

Let T be the first order theory consisting of a scheme of axioms excluding the existence of cycles and a scheme that assures that every finite butterfly of any order appears as a component an infinite number of times. Then T is an axiomatization for Tp.

On the Thresholds

So far, we have seen that if p satisfies one of the following conditions

0  ≤  p  ≤  n- (d + 1)

[formula], for some [formula]

n- (d + ε)  ≪  p  ≪  n- d for all ε > 0

then p is a zero-one law.

An L-function p in the range 0  ≤  p  ≪  n- d that violates all the above three conditions must satisfy, for some [formula] and c∈(0, +   ∞  ), the condition

[formula]

Informally speaking, in that range, an L-function that is not "between" the thresholds is "on" some threshold. In that case, p is not a zero-one law. Our next goal is to show that those p's are still convergence laws

Limiting Probabilities on the Thresholds

Let [formula] and let [formula] denote the collection of all possible (up to isomorphism) butterflies of order l and let I be the set of all u-tuples [formula] of non-negative integers. Finally, let [formula] be the elementary property that there are precisely mi components Ti for [formula].

We show properties 1,2,3 and 4 in the definition of a complete set of completions.

The countable models of [formula] have no cycles, a countably infinite number of components of each butterfly of order ≤  l - 1, no sub-hypergraph isomorphic to a butterfly of order ≥  l + 1 and exactly mi components Ti for each i. So [formula] is [formula]-categorical and, in particular, complete, so we have property 1.

Tautologically no two of the [formula] can hold simultaneously, so we have property 2.

For each [formula], let δi be the isomorphism type of Ti. For notational convenience, set ci: = cδi(l) and Ai: = Aδi(l). The next lemma implies properties 3 and 4 and, therefore, completes the proof.

In the conditions of the above proposition, the random variables [formula] are asymptotically independent Poisson with means [formula]. That is to say,

[formula]

In particular

[formula]

By the method of factorial moments, is suffices to show that, for all [formula] we have

[formula]

As we have seen, each Ai can be written as a sum of indicator random variables [formula], each Xi,jS indicates the event Ei,jS that the j-th of the potential butterflies on the vertex set S is present and is a component. Then

[formula]

The above sum splits into [formula] where [formula] consists of the terms with [formula] pairwise disjoint. As each Xi,jS indicates the presence of a butterfly as a component, we have [formula]. On the other hand, it is easy to see that if [formula] then

[formula], so we are done.

It is worth noting that if ai is the number of automorphisms of the butterfly whose isomorphism type is δi then one has [formula].

The convergence laws we got so far provide a nice description of the component structure in the early history of Gd + 1(n,p): it begins empty, then isolated edges appear, then all butterflies of order two, then all of order three, and so on untill ≪  n- d, immediately before the double jump takes place.

In what follows, [formula] stands for "Big-Bang".

[formula] is the set of all L-functions [formula] satisfying 0  ≤  p  ≪  n- d.

Now it is just a matter of putting pieces together to get the following.

Just note that any L-function on the above range satisfies one of the following conditions:

0  ≤  p  ≤  n- (d + 1)

[formula], for some [formula]

n- (d + ε)  ≪  p  ≪  n- d for all ε > 0

[formula] for some constant c∈(0, +   ∞  )

It is worth noting that the arguments used in getting zero-one laws for the intervals

0  ≤  p  ≤  n- (d + 1)

[formula], for some [formula]

n- (d + ε)  ≪  p  ≪  n- d for all ε > 0

do not require the edge functions to be in Hardy's class, so all functions inside those intervals are zero-one laws, regardless of being L-functions.

On the other hand, taking [formula], where c(n) oscillates infinitely often between two different positive values is sufficient to rule out a convergence law for that edge function.

Also, our discussion implies that, in a certain sense, most of the functions in [formula] are zero-one laws: the only way one of that functions can avoid this condition is being inside one of the countable windows inside a threshold of appearance of butterflies of some order.

In the following sections, similar pieces of reasoning will yield an analogous result for another interval of edge functions.

The Double Jump

In this section, we consider the random hypergraph Gd + 1(n,p), where [formula] for some constant λ > 0. Of course, this is equivalent to having [formula], where λn  →  λ. Our goal is to show that the above p's are convergence laws.

Simple applications of Theorem [\ref=vantsyan] imply that, in this range, the countable models of the almost sure theory have infinitely many connected components isomorphic to each finite butterfly and no bicyclic (or more) components. Also, there possibly are infinite butterflies as components. As we have already seen, these components do not matter from a first order perspective, as they are simulated by sufficiently large finite butterflies. More precisely: the addition of components that are infinite butterflies do not alter the elementary type of a hypergraph that has infinitely many copies of each finite butterfly.

The above considerations suggest that it may be useful to consider the asymptotic distribution of the various types of unicyclic components in Gd + 1(n,p). It follows that the distributions are asymptotic independent Poisson, so that we have a complete set of completions of the almost sure theory. The procedure is a bit more involved then the one in the above section because we will actually need one completion for each fixed maximal quantification depht [formula].

Values and Patterns

Recall from section [\ref=Rooted_Butterflies] the definitions of the (r,s)-value of a rooted butterfly and of the (r,s)-pattern of a rooted edge.

Fix a vertex v in the random hypergraph Gd + 1(n,p) and a value [formula]. Then pnΩ is the probability that the ball of center v and radius r is a butterfly of value Ω, considering v as the root.

Similarly, for an edge [formula] and a pattern [formula], pnΓ is the probability that the pattern of E is Γ, considering v as the root.

Next, we proceed to describe the asymptotic behavior of pnΩ and pnΓ as n  →    ∞  .

Poisson Butterflies

Now we consider a random procedure for constructing a rooted butterfly. In fact, it is a simple modification of the Galton-Watson Branching Process, aiming to fit the case of hypergraphs.

[formula] is the random rooted butterfly constructed as follows:

Let P(μ) be the Poisson distribution with mean μ and start with the root v. The number of edges incident on v is P(μ). Each child of v has, in turn, further P(μ) edges incident on it (there being no further adjacencies among them, so as to [formula] remain a butterfly). Repeat the process until the end of the r-th and then halt. The resulting structure is a random butterfly rooted on v.

One obtains a similar structure (r,μ) beginning with an edge E, rooted on v, and requiring that each non-root vertice has P(μ) further edges and so on, until the r-th generation.

For [formula] be a (r + 1,s)-value, let pΩ be the probability that B(r + 1,s) has value Ω. Similarly, if [formula] is a (r,s)-pattern, let pΓ be the probability that (r,s) has pattern Γ. Note that the method of factorial moments implies that if

[formula]

then the distributions of edges incident on the root v∈B(r + 1,μ) with pattern [formula] are poisson P(pΓi  ·  μ), independently for each [formula].

The most important piece of information to showing that p  ~  λn- d are are convergence laws is that

[formula]

and

[formula]

for every value Ω and every pattern Γ, with [formula].

Size of Neighborhoods

The next lemma shows that the probability that the size of the neighborhood of a given vertice is large is o(1). There, |B(v0,r)| is the number of vertices in the ball of center v0 and radius r.

Fix ε > 0, δ > 0 and [formula]. Then

[formula]

We proceed by induction on r.

If r = 0, there is nothing to prove.

For r = 1, first fix λ̃  >  λ. Then one has, for sufficiently large n,

[formula]

For the induction step, note first that the induction hypothesis implies that, almost surely, every ball of radius r has size at most [formula]. Let B be the event

[formula]

Note that

[formula]

Therefore

[formula]

so we are done.

s-Completions

In the present range [formula], the almost sure theory has one complete set of completions for each fixed quantifier depth s.

Let T be a first-order theory. A family {σf}f∈I of elementary sentences is a complete set of s-completions for T if the following conditions hold:

For all f∈I and any elementary sentence A of quantifier depth at most s, one has either [formula] or [formula].

If f,g∈I are such that f  ≠  g then [formula].

For all f∈I, [formula] exists.

[formula].

For a complete set of s-completions {σf}f∈I of T and an elementary sentence A of quantifier depth at most s, let S(A) be the set of indices f∈I such that [formula].

The proof is similar to that of Proposition [\ref=complete_completions]. Obviously, one has the following:

Main Results

In the following, Ω is a (r,s)-type and, for a hypergraph C, E(C) is the edge set of C.

Fix vertices [formula] and an unicyclic connected configuration C on the vertice set [formula] (necessarily with k edges). Then, given C, the probability that the ball B(v1,r) of center v1 and radius r on [formula] is a butterfly of type Ω is pΩ + o(1).

All probabilities mentioned on this proof are conditional on getting C.

By induction on r, we show that, for all 0  ≤  δ < 1, 0 < ε and [formula], and given C, the ball [formula] is a butterfly of type Ω with probability pΩ + o(1), and, similarly, that given an edge E on v1, the pattern of E in [formula] is Γ with probability pΓ + o(1).

For r = 1, let E be the edge set of

[formula]

Then one has

[formula]

so that E has asymptotic distribution [formula], which agrees to [formula]. A similar argument applies in the case of patterns of edges.

For the induction step, let [formula] be the possible (r,s) patterns of edges. We use the method of factorial moments to show that the distributions of the various (r,s)-patterns are asymptotically Poisson independent with means [formula], for 1  ≤  i  ≤  N, which clearly suffices. First we show that the expected number P of pairs of edges Ei,Ej on v1 with patterns Γi and Γj respectively is asymptotically to

[formula]

The general case is similar, with more cumbersome notation.

Let pn0 be the probability of the event A that the pattern of Ei is Γi and that of Ej of Γ. Define p̃n0 to be the probability of the event B that the pattern of Ei is Γi and the pattern of Ej, not counting the vertices already used in Ei. By Lemma [\ref=size] and the induction hypothesis, one has

[formula]

Note that pn0  ~  n, because any hypergraph on the symetric difference [formula] has at least two cycles, so that [formula]. So we have

[formula]

and we are done.

Arguments similar to the one above show that, defining the (r,s)-pattern of a cyclic configuration C in the obvious manner, the distribution of cycles of the various types are asymptotically Poisson independent. Therefore, if [formula] are the possible (r,s)-patterns of cycles and Pi is the number of cycles of pattern Δi, then

[formula]

is an elementary property and

[formula]

is a complete set of s-completions for the almost sure theory of p. So, in view of Corollary [\ref=s-completions], we obtain the following.

Big-Crunch

The present chapter is devoted to getting a result analogous to the ones above on another interval of edge functions, immediately after the double jump. We call that interval [formula], for Big-Crunch, because, informally, when "time" (the edge functions p) flows forth, the behavior of the complement of the giant component is the same of the behavior Gd + 1(n,p) assumes in the Big-Bang [formula] with time flowing backwards.

More concretely, [formula] is the set of L-functions p satisfying n- d  ≪  p  ≪  n- d + ε for all ε > 0. An important function inside this interval is p = ( log n)n- d which will be seen, in the next chapter, to be the threshold for Gd + 1(n,p) to be connected. In the subintervals n- d  ≪  p  ≪  ( log n)n- d and ( log n)n- d  ≪  p  ≪  n- d + ε, nothing interesting happens in the first order perspective. This will imply that these intervals are entirely made of zero-one laws.

Inside the window p  ~  C  ·  ( log n)n- d (with C some positive constant), very much the opposite is true: here we find an infinite collection of thresholds of elementary properties and also an infinite collection of zero-one and convergence laws.

Just Past the Double Jump

Consider the countable models of the almost sure theory Tp with

[formula]

As we have already seen, in that range we still have components isomorphic to all finite butterflies of all orders and the possibility of infinite butterflies is still open. The threshold for the appearance of small sub-hypergraphs excludes the possibility of bicyclic (or more) components. By the same reason, we have components with cycles of all types. The following shows, in particular, that vertices of small degree do not occur near the cycles.

Let the configuration H have v vertices and l edges. As H is connected and has at least one cycle, we have v  ≤  ld. For convenience, set [formula]. Note that α  →    +    ∞  . Let [formula] be the expected number of configurations H. Then

[formula]

[formula]

The "in particular" part follows from the first moment method.

Now it is easy to see that the edge functions in the present range are zero-one laws.

By proposition [\ref=unicyclic], every vertex in the union of all the unicyclic components has infinite neighbors. This determines these components up to isomorphism and it does not pay for Spoiler to play there. But in the complement of the above set, we have already seen that Duplicator can win all k-round Ehrenfeucht Games. Therefore all countable models of Tp are elementarily equivalent and these p are zero-one laws.

We note that the non-existence of vertices of small degree near cycles is first-order axiomatizable. For each [formula] there is a first order sentence which excludes all of the (finitely many) configurations with cycles of order ≤  l at distance ≤  s from one vertex of degree ≤  k. Similar considerations show that the non-existence of bicyclic (or more) components is also first-order axiomatizable. So one easily gets a simple axiomatization for the almost sure theories of the above edge functions.

Beyond Connectivity

Now we consider countable models of Tp with

[formula]

for all positive ε.

Again, the thresholds for appearance of small sub-hypergraphs imply that, in this range, we have all cycles of all types as sub-hypergraphs, and no bicyclic (or more) components. Now all vertices of small degree are gone.

Fix a natural number k and let [formula] be the expected number of vertices of degree k in Gd + 1(n,p). Then

[formula]

The countable models of Tp have components that contain cycles of all types, no bicyclic (or more) components and may possibly have butterfly components. As no vertex can have small degree, all vertices in that components have infinite neighbors, so these components are unique up to isomorphism. But Tp is not [formula]-categorical since the existence of butterfly components is left open. Proposition √∑[\ref=wining_strategy] gives that these models are elementarily equivalent, so these p are zero-one laws.

The discussion found on the proof of theorem [\ref=beyond_conectivity] also gives simple axiomatizations for the almost sure theories of the above p.

Marked Butterflies

Now we are left to the case of L-functions p comparable to n- d log n. In other words, to complete our discussion, we must get a description of what happens when an edge function p is such that [formula] tends to a finite constant C  ≠  0.

In the last section, the counting of the connected components isomorphic to butterflies was the fundamental piece of information in the arguments that implied all the convergence laws we found there. Copies of butterflies as connected components are, in particular, induced such copies.

It turns out that the combinatorial structure whose counting is fundamental to getting the convergence laws in the window [formula] is still that of butterflies, but now the copies are not necessarily induced. Instead, some vertices receive markings, meaning that those vertices must have no further neighbors than those indicated on the "model" butterfly. On the non-marked vertices no such requirement is imposed: they are free to bear further neighbors. These copies of butterflies are then, in a sense, "partially induced".

Let [formula]. A v*-marked l-butterfly is a finite connected (Berge)-acyclic hypergraph with l edges and with v* distinguished vertices, called the marked vertices.

Note that a v*-marked l-butterfly is a hypergraph on v = 1 + ld vertices.

Let B be a v*-marked l-butterfly and H be a hypergraph. A copy of B in H is a (not necessarily induced) sub-hypergraph of H isomorphic to B where if w is a marked vertex of B and w' is the corresponding vertex of H under the above isomorphism, then w and w' have the same degree.

An edge of a Berge-acyclic hypergraph incident to exactly one other edge is called a leaf.

A v*-marked l-butterfly is called minimal if every leave has at least one marked vertex.

Now, the most important concept to understanding the zero-one and convergence laws on [formula] is the counting of minimal marked butterflies.

Let Γ be the finite set of all isomorphism types of minimal v*-marked l-butterflies on 1 + ld labelled vertices and fix γ∈Γ. Then c(l,v*,γ) is the number of possible v*-marked l-butterflies of isomorphism type γ on 1 + ld labelled vertices.

The random variable A(l,v*,γ) is the number of copies of v*-marked l-butterflies of isomorphism type γ in Gd + 1(n,p).

Counting of Marked Butterflies

Now we use the first and second moment methods to get precise information on the counting of minimal marked butterflies for edge functions on the range

[formula]

Rather informally, when the coefficient of [formula] in p avoids the rational value [formula] then the expected number of v*-marked butterflies is either 0 or ∞  . The first moment method implies that, in the first case, a.a.s. there are no v*-marked butterflies. The second moment method will yield that, in the second case, there are many such minimal marked butterflies.

If [formula], then knowledge of more subtle behavior of the edge function is required: we are led to consider the coefficient ω of [formula] in p. If this coefficient avoids the integer value l then the expected number of v*-marked l-butterflies is either 0 or ∞  . Again, first and second moment arguments imply that, in the first case, the number of such butterflies is a.a.s. zero and, in the second case, the number of such minimal butterflies is very large.

Finally, if ω = l, then knowledge of even more subtle behavior of the edge function is required: we consider the coefficient c of [formula] in p. If this coefficient diverges, then the expected number of v*-marked l-butterflies is either 0 or ∞   and, again, first and second moment methods imply that the actual number of such butterflies is what one expects it to be.

All above cases give rise to zero-one laws. The remaining case is the one when the coefficient c converges. In this case, the fact that the almost sure theories are almost complete will yield convergence laws.

Let p = p(n) be comparable to [formula]. That is, let [formula] converge to a constant C  ≠  0.

Set c = c(l,v*,γ) and v = 1 + ld.

Note that [formula] so [formula]. Therefore one has

[formula]

and the result follows.

The "in particular" part follows from the first moment method.

Now consider [formula] so that [formula] and let

[formula]

Set c: = c(l,v*,γ) and v: = 1 + ld.

Note that

[formula]

so one has

[formula]

and the result follows.

The "in particular" part follows from the first moment method.

Now consider the case [formula] and let

[formula]

Note that [formula], so

[formula]

and 1 and 2 follow.

The "in particular" part follows from the first moment method.

Fix, in Gd + 1(n,p), a vertex set S of size |S| = 1 + ld and γ∈Γ. To each of the c: = c(l,v*,γ) potential copies of v*-marked l-butterflies of type γ in S there corresponds the random variable Xα, the indicator of the event Bα that this potential copy is indeed there in Gd + 1(n,p). Then we clearly have

[formula]

We write |Xα|: = S.

By the first moment analysis, the condition on the hypothesis implies [formula] and [formula] for all ṽ* > v* and any [formula]. We use the second moment method. As

[formula]

it suffices to show that

[formula]

The sets |Xα| and |Xβ| can only intersect according to a finite number of patterns, so it suffices to show that the contribution of all terms with a given pattern is o(1). Set [formula].

Consider an intersection type S such that the model spanned by S contains a cycle. Then the configuration S has a vertex of small degree (marked) near a cycle. The sum of contributions of all terms with that intersection type is ~   the expected number of such configurations. As there is a vertex of small degree near a cycle, this is o(1) by proposition 35.

If the type of S has no cycles, then S is a maked butterfly with ṽ*  ≥  v* marked vertices.

If ṽ* > v* then, by the first moment analysis, the sum of contributions of those terms is o(1).

We claim that there are no terms with ṽ* = v*. Indeed, if that were the case, by minimality, all edges would be in the intersection and so the events indicated by Xα and Xβ would be the same, a contradiction.

Now consider [formula] and, as above, let

[formula]

The proof of 1 is the same as the proof of the above proposition.

The proof of 2 is analogous, noting that condition 2 implies that the expected number of v*-marked butterflies with any fixed number of edges is o(1), so that the intersection pattern must have all the v* - 1 marked vertices.

Now consider the case ω  →  l and, as above, let

[formula]

Finally, the same reasoning used in the proofs of the two above propositions demonstrates the following.

Zero-one laws between the thresholds

Now we consider the countable models of the almost sure theories Tp for p "between" the critical values above.

Consider, first, a function [formula], where

[formula]

We consider the models of the almost sure theory Tv*: = Tp. In that range, we still have no bicyclic (or more) components in the first-order perspective. As there are no vertices of small degree near cycles, the unicyclic components are determined up to isomorphism. Also we still have infinitely many copies of each cycle. So the union of connected components containing cycles are determined up to isomorphism and Duplicator does not have to worry about them: every time Spoiler plays there, he has wasted a move.

So let us consider the butterfly components. By the first and second moment analysis above, we have no components containing (v* + 1)-marked butterflies and have infinite components containing copies of each minimal v*-marked butterfly. Each component containing a v*-marked butterfly is determined up to isomorphism: each non-marked vertex must have infinite neighbors.

Let [formula] such that 1 + ld  ≤  v* < v* + 1  ≤  1 + (l + 1)d. Then there are no butterflies of order l + 1 (or more) as sub-hypergraphs and there are infinitely many components isomorphic to each butterfly of order ≤  l. Therefore, the union of the components isomorphic to finite butterflies is determined up to isomorphism.

Tv* is not [formula]-categorical, though, since in that countable models, there may or may not be components containing ṽ*-marked butterflies with ṽ* < v*. (This includes the degenerate case ṽ* = 0: there may or may not be infinite butterflies where all vertices have infinite neighbors) These components are "simulated" by components containing v*-marked vertices, with v*  -  ṽ* marked vertices suitably far from the neighborhood of the ṽ* marked vertices, this neighborhood being a copy of the ṽ*-marked butterfly one wants to simulate.

More precisely, it is clear that the countable models of Tp satisfy the hypothesis of proposition [\ref=wining_strategy], so they are pairwise elementarily equivalent and, hence, Tv* is complete and the corresponding p are zero-one laws.

Now consider [formula] and, as above, let

[formula]

If ω  →    -    ∞   then the first and second moment analysis above imply that the countable models of Tp are the same as the countable models of Tv* and, as Tv* is complete, p is a zero-one law.

If ω  →    +    ∞   then the first and second moment analysis above imply that the countable models of Tp are the same as the countable models of Tv* - 1. But the latter theory is complete and, hence, the corresponding p are zero-one laws.

If ω  →  C, with l - 1 < C < l, then the countable models of Tlv*: = Tp are the same as the countable models of Tv* but without the components with marked butterflies of order ≤  l - 1. These models are, for the same reasons, still pairwise elementarily equivalent, so we have that the corresponding p are zero-one laws.

Finally, consider the case ω  →  l and, as above, let

[formula]

If c  →    -    ∞  , then the analysis above show that the countable models of Tp are the same as the countable models of Tlv*, so these p are zero-one laws.

If c  →    +    ∞  , then the analysis above show that the countable models of Tp are the same as the countable models of Tl - 1v*, so these p are also zero-one laws.

Axiomatizations

At this point, it is clear that the arguments given in the last section actually give axiomatizations for the almost sure theories presented there.

More formally, let the theory T(v*) consist of a scheme of axioms saying that there are no bicyclic (or more) components, a scheme of axioms saying that there are no copies of ṽ*-marked butterflies for each ṽ* > v* and a scheme of axioms saying that there are infinitely many copies of each minimal v*-marked butterfly.

Similarly, let the theory T(v*,l) consist of a scheme of axioms saying that there are no bicyclic (or more) components, a scheme of axioms excluding the ṽ*-marked butterflies for each ṽ* > v*, a scheme of axioms saying that there are no v*-marked butterflies of order ≤  l - 1 and an scheme saying that there are infinitely many copies of each minimal v*-marked butterfly not excluded by the last scheme.

By the discussion found in the last section, we have the following:

On the thresholds

The only way an L-function can avoid all of the clauses discussed above is the possibility that c(n) converges to a real number c. That is to say, we must consider the possibility that

[formula]

where c(n)  →  c.

We will see, in the present chapter, that these p, although not zero-one laws, are still convergence laws. The situation is analogous to that of the last section: on these thresholds, the almost sure theories Tp are almost complete.

Limiting Probabilities on the Thresholds

Let [formula] and let [formula] denote the collection of all possible (up to isomorphism) v*-marked butterflies of order l and let I be the set of all u-tuples [formula] of non-negative integers. Finally, let [formula] be the elementary property that there are precisely mi components Ti for [formula].

We show properties 1,2,3 and 4 in the definition of a complete set of completions.

We claim the countable models of [formula] are pairwise elementarily equivalent. Indeed, the complement of the union of components containing the v*-marked butterflies of order l is elementarily equivalent to the countable models of the theory Tl + 1v*, defined above. As the latter theory is complete, Tp is also complete, and we have 1.

Tautologically no two of the [formula] can hold simultaneously, so we have property 2.

For each [formula], let δi be the isomorphism type of Ti. For notational convenience, set ci: = c(l,v*,δi) and Ai: = A(l,v*,δi). The next lemma implies properties 3 and 4 and, therefore, completes the proof.

In the conditions of the above proposition, the random variables [formula] are asymptotically independent Poisson with means

[formula]

That is to say,

[formula]

In particular

[formula]

By the method of factorial moments, is suffices to show that, for all [formula] we have

[formula]

As we have seen, each Ai can be written as a sum of indicator random variables [formula], each Xi,jS indicates the event Ei,jS that the j-th of the potential copies of v*-marked l-butterflies on the vertex set S is present. Then

[formula]

The above sum splits into [formula] where [formula] consists of the terms with [formula] pairwise disjoint. It is easy to see that if

[formula]

then [formula].

Arguing as in proposition [\ref=intersectiontype], one sees that the contribution of each of the terms in [formula] with a given pattern of intersection is o(1). Hence [formula] and we are done.

These pieces together prove the following.

Just note that all L-functions on the above range must satisfy, with the familiar definitions of ω(n) and c(n), one of the following conditions:

n- d  ≪  p  ≪  ( log n)n- d

( log n)n- d  ≪  p  ≪  n- d + ε for all positive ε

[formula], where [formula] for some [formula] .

[formula] where ω  →    ±    ∞   or ω  →  C where l - 1 < C < l for some [formula]

[formula] and c(n)  →    ±    ∞   or [formula].

As it was the case in the last section, it is worth noting that the arguments used in getting zero-one laws for the clauses 1, 2 and 3 do not require the edge functions to be in Hardy's class, so all functions inside those intervals are zero-one laws, regardless of being L-functions.

On the other hand, taking ω(n) oscillating infinitely often between two constant values ω1 < l and ω2 > l makes the probability of an elementary event oscillate between zero and one. Similarly, taking c(n) oscillating between any two different positive values makes the probability of an elementary event oscillate between two different values ∉{0,1}. Obviously, these situations rule out convergence laws.

As it was the case with [formula], our present discussion implies that, in a certain sense, most of the functions in [formula] are zero-one laws: the only way one of that functions can avoid this condition is being inside one of the countable windows inside a threshold for the presence of marked butterflies of some order.

Some elementary approximations

In this chapter we describe some combinatorial aspects of the component structure of the random hypergraph for [formula] that will, later, be used to get elementary approximations to the non-elementary events Dl. It all starts by showing that Erd os and Rényi's threshold for connectivity has a nice generalization for random hypergraphs.

Threshold for Connectivity

Now we show that [formula] is a threshold for Gd + 1(n,p) to be connected. The 0-statement we already know: if [formula] with C < d!, then a.a.s. there are many isolated vertices, so Gd + 1(n,p) is almost never connected. The 1-statement is the following.

Let a > 0 be such that [formula]. The expected number of cuts is less then or equal to

[formula]

This sum is less then or equal to

[formula]

so it suffices to show that the two latter sums are o(1).

The first sum is less than or equal to

[formula]

By the choice of a, there is M > 0 such that, for sufficiently large n, the latter sum is less than or equal to

[formula]

But we have

[formula]

The second sum is less than or equal to

[formula]

The log  of the summand is

[formula]

This is the log  of an individual summand. We have at most n terms, so the sum is less then or equal to

[formula]

and this is o(1) as the n log n term overwhelms all others.

Component Structure on [formula]

It is possible to explore the information we have until now and, particularly, the arguments in the last section, to get more precise information on the component structure of Gd + 1(n,p) for [formula].

Let E1 be the event that there is a sub-hypergraph isomorphic to a butterfly with l + 1 edges and E2 the event that there is no connected component isomorphic to a butterfly on l edges.

Then, for [formula], with [formula], the probability of the event [formula] is o(1).

Fix a positive real α such that [formula] and consider two cases:

If p  ≤  n-  α then a.a.s. there is no sub-hypergraph isomorphic to a butterfly with l + 1 vertices.

If p  ≥  n-  α then a.a.s. there is a connected component isomorphic to a butterfly with l vertices.

The random variable μ is the number of vertices outside the largest connected component of Gd + 1(n,p).

The last part of the argument in theorem [\ref=conectivity] gives the following lemma.

Let a > 0 and C > 0. Then for [formula] one has a.a.s. μ < an.

This argument occurs, with virtually no changes, in the last part of the proof of theorem √∑[\ref=conectivity], but we repeat it here for the convenience of the reader.

If μ  ≥  an then Gd + 1(n,p) has a cut with at least an vertices on the smaller side. The expected number of such cuts is less then or equal to

[formula]

which in turn is less than or equal to

[formula]

The log  of the summand is

[formula]

This is the log  of an individual summand. We have at most n terms, so the sum is less then or equal to

[formula]

and this is o(1) as the n log n term overwhelms all others.

Fix positive reals  > C, [formula] and a such that [formula].

Let A be the event that there is a sub-hypergraph isomorphic to a butterfly with l + 1 edges outside the giant component and B the event that there is a connected component isomorphic to a butterfly on l vertices.

For p in this range, we know that [formula]. Therefore, it suffices to show that

[formula]

Let μ be the number of vertices outside the giant component and define m1 = m1(n) to be the natural number m∈[0,nα] that maximizes

[formula]

Similarly, define m2 = m2(n) to be the natural number m∈[nα,an] that maximizes [formula]. One has

[formula]

As [formula] it suffices to show that [formula]. We have that [formula] is at most

[formula]

We show that the three latter terms are o(1).

The third term is o(1) by lemma √∑[\ref=cuts].

For the first one, note that

[formula]

Note that [formula] is the probability that the random hypergraph on m1 vertices and probability p(n) has a sub-hypergraph isomorphic to a butterfly with l + 1 edges, and that this is at most the expected number of butterflies with l + 1 edges. So

[formula]

by the choice of α.

As for the second term, one has

[formula]

Note that [formula] is the probability that the random hypergraph on m2 vertices and probability p(n) has a sub-hypergraph isomorphic to a butterfly on l + 1 vertices and no connected component isomorphic to a butterfly on l vertices.

It is easy to see that the function [formula] is eventually decreasing, so that [formula] for sufficiently large n. Moreover, it is obvious that m2 < an.

Putting all together, one has, for sufficiently large n,

[formula]

so that, by Lemma 52 and the fact that m2  →    ∞  , we have

[formula]

For the reader who feels uneasy about the logic of the above argument, note, for example, that what is actually been done in the last part is the construction of a function

[formula]

beginning with the image of the funtion m2(n) and completing with values of p that do not contradict the already existing inequalities. The only reason for which the sequence

[formula]

fails to be a subsequence of

[formula]

is the fact that it may have repetitions. But, still, it is a sub-net of the latter sequence, because m2(n)  →    ∞  . As the latter converges to zero, this suffices to getting the desired conclusion [formula]. Similar reasonings are needed in the arguments found in the next section but, due to their cumbersome but trivial nature, we will no longer bother the reader with such explicit formulations.

Putting all we already know about the existence of butterflies as components gives the following theorem, which gives a description of the "disappearance" of the butterfly components as time goes forth in the window [formula]. The butterflies of larger order are incorporated to the giant component before the butterflies of smaller order, so, outside the giant component, what we see is the behavior of Gd + 1(n,p) in BB but with time flowing backwards.

In all that follows, let

[formula]

Notice that, if ω  →  l, then cl(n) is the usual c(n).

Some Estimates for μ

The arguments in the proof of the above theorem can be used to get upper and lower bounds for μ that are much better than that of lemma [\ref=cuts].

Let A be the event that there is a sub-hypergraph isomorphic to a butterfly of order l. Then the above condition on p implies [formula]. We have

[formula]

As [formula], it suffices to show that [formula]. To this end, let m1 = m1(n) be the natural number m∈[0,f(n)] that maximizes [formula]. Then

[formula]

Note that [formula] is the probability that the random hypergraph on m1 vertices and edge probability p(n) has a sub-hypergraph isomorphic to a butterfly on l vertices and that this is at most the expected number of such butterflies. Then

[formula]

by the condition on f.

Let A be the event that there is a connected component isomorphic to a butterfly of order l. Then any of the above conditions on p implies that [formula]. Therefore, as above, it suffices to show that

[formula]

To this end, fix a and let m2 be the natural number m∈[f(n),an] that maximizes [formula]. Then

[formula]

Note that [formula] is the probability that the random hypergraph on m2 vertices and edge probability p(n) has no component isomorphic to a butterfly on l vertices. But the conditions on f and a imply, for sufficiently large n,

[formula]

Therefore [formula].

Some Elementary Approximations

The description of the structure outside the giant component given in the above section enables us to get good elementary approximations to the events Dl. Below we define a class of properties that are, in a sense, asymptotically very improbable.

I is the set of all properties P of (d + 1)-uniform hypergraphs such that [formula] for all L-functions [formula].

Note that I is an ideal, in that if P1  ⊆  P2∈I then P1∈I. Also, I is non-trivial, since the tautological event [formula] is not an element of I.

We say two events P1 and P2 are asymptotically equivalent if their symmetric difference [formula] is an element of I. In that case we write

[formula]

Let A be the property that there are no components isomorphic to butterflies of order l and B the property that the largest component is a butterfly of order l and all other components are butterflies of order <  l. Then [formula] is an elementary property and is a good approximation to the event Dl.

Note that Dl  ⊆  D̃l, so that [formula].

First, if [formula], then [formula].

So suppose, from now on, that [formula].

If p satisfies

[formula]

then [formula].

Now suppose [formula] satisfy

[formula]

Then [formula].

There are two remaining cases:

[formula]

[formula], where [formula].

In both of them, the almost sure properties we already know to hold in Gd + 1(n,p) easily imply that [formula].

Note that in the non-trivial cases

[formula]

[formula], [formula]

Lemmas [\ref=poisson1] and [\ref=poisson2] imply, with the notation we find there, that

[formula]

where v = 1 + ld and [formula] in the first case and [formula], in the second, which is a generalization of Erd os beautiful "double exponential" formula

[formula]

for [formula].

The above approximations are global, in the sense that they work for all ranges of L-functions p. There are other situations in which the approximations have a more local character, meaning that they work for some specific ranges of p. Consider, for example, the non-elementary predicate C(x), meaning that x belongs to the largest connected component of Gd + 1(n,p). Then the above discussions imply that if p is appropriately large then C(x) is almost surely equivalent to the predicate l(x), meaning that x does not belong to a component of order ≤  l. Obviously, l(x) is elementary for all [formula]. Formally,

Future Directions

This work has considered zero-one and convergence laws for edge functions p on the ranges p,1 - p  ≫  n-  ε for all ε > 0 and p  ≪  n- d + ε for all ε > 0. There are many edge functions outside those ranges and it would be interesting to study the almost sure theories of some of them so as to get information about possible convergence laws. For example, Shelah and Spencer, in [\cite=shelah], showed that if α∈(0,1) is an irrational number then p = n-  α is a zero-one law for the binomial random graph G(n,p). So zero-one laws remain a frequent appearance outside the considered ranges, at least in the case d = 1 of random graphs. It is natural to ask whether the functions n-  α, for [formula] are zero-one laws for Gd + 1(n,p). The methods introduced by Shelah and Spencer seem to apply, with minor modifications in this case, to give a positive answer to that question.

The fact that all the above irrational powers of n are zero-one laws could make one wonder whether it would be possible to improve the exponent d on

[formula]

while still getting convergence laws. Spencer, in [\cite=spencer], shows that if α is any rational number in (0,1), then n-  α fails to be a convergence law, so the answer is negative at least in the case d = 1 of random graphs. Again, the methods Spencer introduces seem to apply to the other values of d to give a negative answer, and, therefore, the exponent in the right hand of [formula] is probably the best possible. Still, it would be interesting to have a complete description of the intervals of L-functions entirely made of convergence laws.

One could also look for examples of other elementary approximations of non-elementary properties, as it was the case with Dl and D̃l. An interesting more challenging project is to describe the asymptotic expressive power of the first order logic of uniform hypergraphs, that is, the class of all properties P such that [formula] for some elementary property P̃. For example, if one could get a nice description of the elements of the ideal I, then the asymptotic expressive powers of all classes of properties would also be described.