Example Theorem Lemma Corollary Proposition Remark

An ultrafilter approach to Jin's Theorem

The upper Banach density of [formula] is given by [formula] A set [formula] is syndetic if the gaps of S are of uniformly bounded length, i.e. if there exists some k > 0 such that [formula]. A set [formula] is piecewise syndetic if it is syndetic on large pieces, i.e. if there exists some k  ≥  0 such that [formula] contains arbitrarily long intervals of integers.

It was first noted by Fø lner ([\cite=Foln54a] [\cite=Foln54b]) that C - C = {c1 - c2:c1,c2∈C} is syndetic provided that d*(C) > 0. (To see this, pick a subset [formula] which is maximal subject to the condition that [formula] are mutually disjoint. This is possible since disjointness implies [formula], therefore m is at most 1 / d*(C). But then maximality implies that for each [formula] there is some ik, [formula] such that [formula], resp. n∈(C - C) + ik. Thus [formula].)

Simple counterexamples yield that the analogous statement fails when two different sets are considered, but Renling Jin discovered the following interesting result.

Let [formula]. Then A - B is piecewise syndetic.

In Section 1 we reprove Jin's Theorem by reducing it to the C - C case. Subsequently we discuss some modifications of our argument which allow to recover the refinements resp. generalizations of Jin's result found in [\cite=JiKe03] [\cite=BeFW06] [\cite=Jin08] [\cite=BeBF09].

1    Ultrafilter proof of Jin's Theorem

As indicated in the abstract, we aim to show that one can shift a given large set [formula] by an ultrafilter so that it will have large intersection with another, previously specified set. We motivate the definition of this ultrafilter-shift by means of analogy: For [formula] denote by e(n) the principle ultrafilter on [formula] which corresponds to n and notice that

[formula]

Given an ultrafilter p on [formula], we thus define [formula] as the official meaning of "A - p".

Let [formula]. Then there exists an ultrafilter p on [formula] such that

[formula]

The proof of Lemma [\ref=ShiftT] requires some preliminaries.

For a fixed set [formula] we can choose an invariant mean, i.e. a shift invariant finitely additive probability measure μ on [formula]) such that d*(A) = μ(A). This is well known among aficionados (see for instance [\cite=Berg06]) and not difficult to prove. First pick a sequence of finite intervals [formula] such that |In|  →    ∞   and d*(A) =  lim n  →    ∞μn(A) where [formula] for B∈P(B). Then let μ be a cluster point of the set [formula] in the (compact) product topology of [formula].

We consider the Stone- Cech compactification [formula] of the discrete space [formula]. For our purpose it is convenient to view [formula] as the set of all ultrafilters on [formula]. By identifying integers with principal ultrafilters, [formula] is naturally embedded in [formula]. A clopen basis for the topology is given by the sets [formula], where [formula]. A mean μ on [formula] gives rise to a positive linear functional Λ on the space [formula] of bounded functions on [formula]. Making the identification [formula] we find that, by the Riesz representation Theorem, there exists a regular Borel probability measure [formula] on [formula] which corresponds to the mean μ in the sense that [formula] for all [formula]. (This procedure is carried out in detail for instance in [\cite=Pate88].)

Pick a sequence of intervals [formula] such that [formula]. Pick an invariant mean μ such that μ(A) = d*(A). Define [formula] by

[formula]

and set [formula] By Fatou's Lemma

[formula]

thus there exists [formula] such that d*(A)  ·  d*(B)  ≤  f(p).

The above application of Fatou's Lemma is inspired by the proof of [\cite=Berg85].

Assume that d*(A),d*(B) > 0. According to Lemma [\ref=ShiftT], pick an ultrafilter p such that [formula] has positive upper Banach density. Then S: = (A - p) - B  ⊇  C - C is syndetic. Also [formula]. Thus for each finite set [formula], we have [formula]. In particular this intersection is non-empty, hence there exists [formula] such that [formula]. Summing up, we find that A - B is piecewise syndetic since it contains shifted copies of all finite subsets of the syndetic set (A - p) - B.

2   Jin's Theorem in countable amenable (semi-) groups

Following Jin's original work, it was shown in [\cite=JiKe03] that Theorem [\ref=IntegerJin] is valid in a certain class of abelian groups (including in particular [formula]) and in [\cite=Jin08] that it holds in [formula]. Answering a question posed in [\cite=JiKe03] it is proved in [\cite=BeBF09] that Jin's theorem extends to all countable groups in which the notion of upper Banach density can naturally be formulated, that is, to all countable amenable groups.

There is overwhelming evidence (see in particular [\cite=HiSt98]) that whenever ultrafilters can be used to prove a certain combinatorial statement, then this ultrafilter proof will automatically work in a quite abstract setup. In this spirit the approach of Section 1 effortlessly yields the just mentioned strengthenings of Jin's Theorem; in fact it is not even necessary to restrict the setting to groups.

If a semigroup (S,  ·  ) admits left- and right Fø lner sequences, the notions d*L,d*R of left- resp. right upper Banach density are defined analogously to upper Banach density in [formula], but with left- resp. right Fø lner sequences taking the role of intervals [formula]. Arguing precisely as in Section 1 we then get that for all A,B  ⊆  S there is an ultrafilter p on S such that [formula] Consequently we have:

Let (S,  ·  ) be a semigroup which admits left- and right Fø lner sequences and let A,B  ⊆  S, d*R(A),d*L(B) > 0. Then [formula] is (right) piecewise syndetic.

A subset P of a semigroup (S,  ·  ) is (right) piecewise syndetic �if there exists a finite set K  ⊆  S such that for each finite set F  ⊆  S there is some t∈S such that tF  ⊆  PK- 1.

If (S,  ·  ) is an amenable group, Theorem [\ref=SemigroupJin] is equivalent to [\cite=BeBF09] which asserts that in this setup AB is (right) piecewise syndetic provided that d*R(A),d*R(B) > 0.

3   Connections with Bohr sets

So far, our results about the structure of A - B originated from the fact that for d*(C) > 0 the set C - C is syndetic. Fø lner ([\cite=Foln54a] [\cite=Foln54b]) proved a much stronger assertion, namely that C - C is "almost" a Bohr0 set. Bohr0 sets are the neighborhoods of 0 in the Bohr topology. (Equivalently, [formula] is a Bohr0 set iff there exist [formula] and ε > 0 such that [formula].) A Bohr set is a translate of a Bohr0 set. Every Bohr set is syndetic, but the converse fails badly. Fø lner showed that if d*(C) > 0, then there exist a Bohr0 set U and set [formula] with d*(N) = 0 such that [formula]

In analogy to piecewise syndetic sets Bergelson, Furstenberg and Weiss introduced piecewise Bohr sets. A set P is piecewise Bohr if it is Bohr on arbitrarily large intervals, that is, if there exist a Bohr set U and a sequence of intervals [formula] such that [formula]. Fø lner's Theorem, d*(C) > 0 trivially implies that C - C is piecewise Bohr. We reprove the following refinement of Jin's Theorem obtained in [\cite=BeFW06].

Let [formula]. Then A - B is piecewise Bohr.

As in the case of piecewise syndetic sets one readily shows that if a set P contains a translate of every finite subset of a piecewise Bohr set, then P is piecewise Bohr itself. In Section 1 we have seen that if d*(A),d*(B) > 0, then A - B contains shifts of all finite pieces of a set C - C,d*(C) > 0. By Fø lner's Theorem the latter set is piecewise Bohr, hence A - B is piecewise Bohr as well.

In the spirit of Section 2 it is possible to proceed along these lines in an abstract countable amenable group. This then leads to the amenable analog of Theorem [\ref=BohrJin] derived in [\cite=BeBF09].

It is natural to ask whether one can make assertions about the combinatorial richness of the set A - B beyond the fact that is piecewise Bohr. In a certain sense this is not possible. For every piecewise Bohr set [formula], there exist sets [formula] with d*(A),d*(B) > 0 such that A - B  ⊆  P ([\cite=BeBF09]).