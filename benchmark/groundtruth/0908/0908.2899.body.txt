On Generalization of Homotopy of Words and Its Applications

keywords: nanowords, nanophrases, homotopy of words and phrases, curves on surfaces, ornaments.

Mathematics Subject Classification 2000: Primary 57M99; Secondary 68R15

Introduction.

In the papers [\cite=tu1] and [\cite=tu2], V. Turaev introduced the theory of topology of words and phrases. This is a combinatorialy extension of the theory of virtual strings or the virtual knots and links (see [\cite=kad], [\cite=ka], [\cite=sw] and [\cite=tu4] for example).

In this paper, words are finite sequences of letters in a given alphabet, letters are elements of an alphabet and phrases are finite sequences of words. V. Turaev introduced generalized words and phrases in [\cite=tu1] and [\cite=tu2] which are called étale words and étale phrases. Let α be an alphabet endowed with an involution τ:α  →  α. Let A be an alphabet endowed with a mapping |  ·  |:A  →  α which is called a projection. We call this A an α-alphabet. Then we call a pair an α-alphabet A and a word on A an étale word. If all letters in A appear exactly twice, then we call this étale word a nanoword. Similarly we call a pair an α-alphabet A and a phrase on A an étale phrase. Further if each letters in A appear exactly twice, then we call this étale phrase a nanophrase.

Turaev introduced an equivalence relation which is called S-homotopy on the set of nanowords and nanophrases for a fixed subset S of α ×   α ×   α which is called homotopy data. S-homotopy of nanowords and nanophrases is generated by isomorphism, and three homotopy moves. The first homotopy move is deformation that changes xAAy into xy. The second homotopy move is deformation that changes xAByBAz into xyz when |A| is equal to τ(|B|). The third homotopy move is deformation that changes xAByACzBCt into xBAyCAzCBt when a triple (|A|,|B|,|C|) is a element of homotopy data S. This equivalence relation is suggested by the Reidemeister moves in the theory of knots. Moreover in the paper [\cite=tu2], Turaev showed special cases of the theory of topology of phrases corresponds to the theory of stable equivalent classes of ordered, pointed, oriented multi-component curves on surfaces and knot diagrams. Note that the theory of stable equivalence classes of ordered, pointed, oriented multi-component curves on surfaces (respectively link diagrams) is equivalent to the theory of ordered open flat virtual links (respectively ordered open virtual links).

Now in this paper, we generalize the notion of the S-homotopy moves in Turaev's theory of words. For fixed sets Q  ⊂  α and R  ⊂  α  ×  α, we replace the first homotopy move and the second homotopy moves in Turaev's theory of words as follows. The first homotopy move is deformation that changes xAAy into xy when |A| is an element of Q and the second homotopy move is deformation that changes xAByBAz into xyz when a pair |A| and |B| is an element of R. We call an equivalence relation which is generated by isomorphism, and three new homotopy moves (Q,R,S)-homotopy of nanophrases. When Q is equal to α and R is graph of τ, we obtain Turaev's S-homotopy of nanophrases. Moreover we give the geometric meanings of the generalized homotopy theory of words and phrases. We show the generalized homotopy theory of words in common generalization of the theory of the multi-component virtual strings and the theory of the ornament. On the other hand, we construct some (Q,R,S)-homotopy invariants for nanowords from S-homotopy invariants in Turaev's theory of words. In the paper [\cite=gi1], A.Gibson constructed a homotopy invariant for Gauss phrases (in other words, nanophrases over the one-element set) which is called So. Moreover Gibson showed the invariant So is strictly stronger than the invariant T for Gauss phrases which was defined by the author in [\cite=fu1]. In this paper we extend Gibson's So invariant for Gauss phrases to (Δα3)α,k-homotopy invariant for nanowords over αk where Δα3 is the diagonal set of α3 and αk and Sα,k are defined in Section [\ref=gmqrs]. To do this, we extend Gibson's So invariant to (Δα3)-homotopy invariant for nanophrases over any α (This extension problem was mentioned in the paper [\cite=gi1]).

The rest of this paper is organized as follows. In Section [\ref=s2], we review the theory of topology of nanowords and nanophrases. In Section 3 we introduce the generalized homotopy of nanowords and nanophrases. In Section [\ref=gm], we discuss the geometric meanings of S-homotopy of nanophrases and the generalized homotopy of nanowords. In Section [\ref=ext], we construct (Q,R,S)-homotopy invariants from some S-homotopy invariants of nanophrases which was defined in papers [\cite=fu1], [\cite=fu2] and [\cite=gi1]. Moreover we show some of them are S-homotopy invariant for nanowords with some homotopy data S which is grater than the diagonal set of α3.

Review of Turaev's Theory of Words and Phrases

In this section we review Turaev's theory of words and phrases which was introduced by V. Turaev in papers [\cite=tu1] and [\cite=tu2]. We can find a survey of Turaev's theory of words in the paper [\cite=tu3].

Étale words and Nanowords.

First we prepare some terminologies. In this paper an alphabet means a finite set and a letter means an element of an alphabet. For an alphabet A and [formula], a word on A of length n is a map w:n̂  →  A where n̂ is [formula]. We denote a word of length n by [formula]. We regard the map from empty set to empty set as the word of length 0 and denote it by [formula]. A phrase of length k on A is a sequence of words [formula] on A. We denote this sequence by [formula]. We call the number [formula](length of wi) number of letters of the phrase. Especially if each letter in A appear exactly twice in a word w on A, then we call this word w a Gauss word. Similarly for a phrase P on A if each letter in A appear exactly twice in P, then we call P a Gauss phrase (C. F. Gauss studied topology of plane curves using Gauss words. See [\cite=ga] for more details).

In [\cite=tu1] and [\cite=tu2], Turaev introduced generalized words and phrases. Let α be an alphabet endowed with an involution τ:α  →  α. Then an α-alphabet is a pair of an alphabet A and a map |  ·  |:A  →  α. We call this map |  ·  | projection and we denote the image of a letter A∈A under the projection |A|. We call |A| projection of A. Now we define generalized words and Gauss words which is called étale words and nanowords. An étale word over α is a pair (an α-alphabet A, a word w on A). We call length of w length of étale word (A,w). Especially if w is a Gauss word on A, then we call (A,w) a nanoword. Next we define generalized phrases and Gauss phrases which is called étale phrases and nanophrases. An étale phrase over α is a pair (an α-alphabet A, a phrase P on A). We call length of P (respectively numbers of letters) length of étale phrase (respectively numbers of letters) (A,P). Especially if P is a Gauss phrase on A, then we call (A,w) a nanophrase.

S-homotopy of Nanophrases.

In the paper [\cite=tu1] Turaev defined an equivalence relation on nanophrases which is called S-homotopy. This is suggested by the Reidemeister moves in the theory on knots. In this subsection, we introduce S-homotopy theory of words and phrases.

To define S-homotopy of nanophrases we prepare some definitions. First we define isomorphic of nanophrases.

Let [formula] and [formula] be nanophrases of length k over an alphabet α. Then [formula] and [formula] are isomorphic if there exist a bijection φ between A1 and A2 such that |A|  =  |φ(A)| for all A∈A1 and [formula] for each j∈.

Next we define S-homotopy moves of nanophrases.

Let S be a subset of α  ×  α  ×  α. Then we define S-homotopy moves (1) - (3) of nanophrases as follows:

(1) [formula]

for all A∈A and x,y are sequences of letters in [formula], possibly including

the | character.

(2) [formula]

if A,B∈A satisfy |B|  =  τ(|A|). x,y,z are sequences of letters in [formula],

possibly including | character.

(3) (A,(xAByACzBCt))  →  (A,(xBAyCAzCBt))

if A,B,C∈A satisfy (|A|,|B|,|C|)∈S. x,y,z,t are sequences of letters in

A, possibly including | character.

We call this S homotopy data.

Now we define S-homotopy of nanophrases.

Let (A1,P1) and (A2,P2) be nanophrases over α. Then (A1,P1) and (A2,P2) are S-homotopic (denote ≃S) if they are related by a finite sequence of isomorphism, S-homotopy moves (1) - (3) and inverse of (1) - (3).

S-homotopy moves and isomorphism of nanophrases do not change length of nanophrases. Thus for two different integers k1 and k2, a nanophrase of length k1 and a nanophrase of length k2 are not homotopic each other.

Especially if S is the diagonal set of α  ×  α  ×  α, then we call S-homotopy homotopy.

We denote the set {}  /  (S - ) by Pk(α,S) and P1(α,S) by N(α,S). We recall two lemmas from [\cite=tu1] and [\cite=tu2].

Let (α,S) be homotopy data and A be an α-alphabet. Let A,B,C be distinct letters in A and let x,y,z,t be words in [formula] such that xyzt is a Gauss word. Then the following (i)-(iii) hold :

(i) (A,xAByCAzBCt)≃S(A,xBAyACzCBt)

if (|A|,τ(|B|),|C|)∈S,

(ii) (A,xAByCAzCBt)≃S(A,xBAyACzBCt)

if (τ(|A|),τ(|B|),|C|)∈S,

(iii)(A,xAByACzCBt)≃S(A,xBAyCAzBCt)

if (|A|,τ(|B|),τ(|C|))∈S.

Suppose that [formula] for all b∈α. Let (A,xAByABz) be a nanoword over α with |B| = τ(|A|) where x,y,z are words in [formula] such that xyz is a Gauss word. Then

[formula]

In [\cite=tu1], Turaev constructed some homotopy invariants for nanowords and gave the classification of nanowords of length less than or equal to 6 up to homotopy. In [\cite=fu2] the author constructed some homotopy invariants for nanophrases and gave the homotopy classification of nanophrases with less than or equal to four letters without condition on length of phrases.

Generalized Homotopy of Nanophrases.

In this section we generalize the notion of S-homotopy. Geometric meanings of generalized homotopy is discussed in the next section.

First we fix two sets Q  ⊂  α, R  ⊂  α  ×  α and S  ⊂  α  ×  α  ×  α. Then we define (Q,R,S)-homotopy of nanophrases as follows.

We define (Q,R,S)-homotopy moves (1) - (3) of nanophrases as follows:

(1) [formula]

if |A|∈Q and x,y are sequences of letters in [formula], possibly including

the | character.

(2) [formula]

if A,B∈A satisfy (|A|,|B|)∈R. x,y,z are sequences of letters in [formula],

possibly including | character.

(3) (A,(xAByACzBCt))  →  (A,(xBAyCAzCBt))

if A,B,C∈A satisfy (|A|,|B|,|C|)∈S. x,y,z,t are sequences of letters in

A, possibly including | character.

Let (A1,P1) and (A2,P2) be nanophrases over α. Then (A1,P1) and (A2,P2) are (Q,R,S)-homotopic (denote ≃(Q,R,S)) if they are related by a finite sequence of isomorphism, (Q,R,S)-homotopy moves (1) - (3) and inverse of (1) - (3).

We denote the set {α}  /  ((Q,R,S) - ) by Pk(α,Q,R,S) and P1(α,Q,R,S) by N(α,Q,R,S). Note that if we set Q  =  α and R  =  {(a,τ(a))|a∈A}, then (Q,R,S)-homotopy is coincide to S-homotopy.

Turaev considered generalization of the second homotopy move in [\cite=tu1] Section 3.6. We can see Turaev's generalization is equivalent to (α,R,S)-homotopy.

In the remaining part of the paper we assume that R is the graph of τ, that is R  =  {(a,τ(a))}a∈α.

Geometric Meanings of Generalized Homotopy of Nanowords.

In this section we discuss geometric meanings of (Q,R,S)-homotopy of nanowords.

Stable equivalence of curves on surfaces.

In this subsection we introduce stable equivalence of curves on surfaces. First we define some terminologies. Through this paper a curve means the image of a generic immersion of an oriented circle into an oriented surface. The word "generic" means that the curve has only a finite set of self-intersections which are all double and transversal. A k-component curve is defined in the same way as a curve with the difference that they may be formed by k curves. These curves are called components of the k-component curve. A k-component curves are pointed if each component is endowed with a base point (the origin) distinct from the crossing points of the k-component curve. A k-component curve is ordered if its components are numerated. Next we introduce an equivalence relation which is called stably equivalent. Two ordered, pointed curves are stably homeomorphic if there is an orientation preserving homeomorphism of their regular neighborhoods in the ambient surfaces mapping the first multi-component curve onto the second one and preserving the order, the origins, and the orientations of the components.

Now we define stable equivalence of ordered, pointed multi-component curves [\cite=ka]: Two ordered, pointed multi-component curves are stably equivalent if they can be related by a finite sequence of the following transformations: (i) a move replacing an ordered, pointed multi-component curve with a stably homeomorphic one; (ii) the flattened Reidemeister moves away from the origin as in Fig. [\ref=fig1].

We denote the set of stable equivalence classes of ordered, pointed k-component curves by Ck.

The theory of stable equivalence of curves is closely related to the theory of virtual strings. See [\cite=sw] and [\cite=tu4] for more details.

Geometric meanings of S-homotopy of nanophrases.

In the paper [\cite=tu2] Turaev gave geometric meanings of S-homotopy of nanophrases over α with an involution τ for some α, S and τ. More precisely, Turaev proved a following theorem.

There is a canonical bijection between Ck and Pk(α0,S0) where α0  =  {a,b} with an involution τ0(a) =   b and S0  =  {(a,a,a),(b,b,b)}.

Moreover let Lk be the set of stable equivalence classes of k-component pointed ordered oriented link diagrams (definition of the stable equivalence of link diagrams is given in [\cite=tu2] for example). Then Turaev proved following theorem.

There is a canonical bijection between Lk and [formula] where [formula] with an involution [formula] and [formula] (a±,a±,a∓), (a∓,a±,a±), (b±,b±,b±), (b±,b±,b∓), (b∓,b±,b±)}.

Geometric meanings of generalized homotopy of nanophrases.

Now we describe geometric meanings of generalized homotopy of nanophrases. To do this we prepare some notations. For an alphabet α and an involution τ:α  →  α and a set S  ⊂  α  ×  α  ×  α, we set αk  =  {aij|a∈α,i  ≤  j∈}, τk:αk  →  αk such that τk(aij)  =  τ(a)ij for each aij∈αk, Qα,k  =  {aii|a∈α,i∈}, Rα,k  =  {(aij,τ(a)ij)|a∈α,i  ≤  j∈} and Sα,k  =  {(aij,bil,cjl)|(a,b,c)∈S,1  ≤  i  ≤  j  ≤  l  ≤  }. Then we obtain following theorems.

Let α0  =  {a,b} and S0  =  {(a,a,a),(b,b,b)}. There is a canonical injection between Ck and N((α0)k,Qα0,k,Rα0,k,(S0)α0,k).

Let [formula] and [formula] (a±,a±,a∓), (a∓,a±, a±), (b±,b±,b±), (b±,b±,b∓), (b∓,b±,b±)}. There is a canonical injection between Ck and [formula].

To prove these theorems, we prove a more general statement.

There is a canonical injection between Pk(α,S) and N(αk,Qα,k, Rα,k, Sα,k).

The method of a making nanoword φ(P) over α from nanophrase P of length k over α is as follows. Let P be [formula]. Then the nanoword over α φ(P) is defined by φ(P) =   [formula] where the α-alphabet [formula] is equal to A as a set, the projection of [formula] is defined by [formula] for each [formula] which appears in the i-th component and the j-th component in the phrase. The word w is defined by [formula]. In the remaining of this paper we denote [formula] by [formula] and |A|A by |A|. We put this correspondence φ.

Now we show φ induces an injection [formula].

[formula] On well-definedness of [formula].

We show if nanophrases P1 and P2 are S-homotopic, then φ(P1) and φ(P2) are (Qk,Rk,Sk)-homotopic.

It is clear that if P1 and P2 are isomorphic, then φ(P1) and φ(P2) are isomorphic.

Consider the first homotopy move

[formula]

where x and y are words on A, possibly including "|" character.

Then φ(P1) is equal to xAAy and φ(P2) is equal to xy. In this case two A belong to the same component of P. This implies [formula] is equal to |A|ii for some i∈, in other words, [formula]. Thus we obtain

[formula]

Consider the second homotopy move

[formula]

where |A| is equal to τ(|B|), and x, y and z are words on A possibly including "|" character.

Suppose [formula]. Then [formula]. Thus [formula] is equal to |A|ij and [formula] is equal to |B|ij by the definition of [formula]. In other words, [formula] is equal to [formula]. This implies

[formula]

Consider the third homotopy move

[formula]

where (|A|,|B|,|C|)∈S, and x, y, z and t are words on A possibly including "|" character.

Suppose [formula], [formula] and [formula] for 1  ≤  i  ≤  j  ≤  l  ≤  k. Then [formula] is equal to |A|ij, [formula] is equal to |B|il and [formula] is equal to |C|jl by the definition of [formula]. From the assumption (|A|,|B|,|C|)∈S and 1  ≤  i  ≤  j  ≤  l  ≤  k, we obtain [formula]. Thus

[formula]

By the above [formula] is well-defined map between Pk(α,S) and N(αk,Qα,k,Rα,k,Sα,k).

[formula] On injectibity of [formula]

By the definition of φ, if φ(P1) and φ(P2) are isomorphic, then P1 and P2 are isomorphic.

Consider the first homotopy move

[formula]

if [formula] and x and y are words on [formula], Put [formula] where x∈α and i∈. Then by the definition of the subscript of [formula], First A and Second A appear same component of P1. This implies P1 form [formula] where [formula] and [formula] are words on A possibly including "|" character. Thus we obtain

[formula]

Consider the second homotopy move

[formula]

where [formula] is equal to [formula], and x, y and z are words on [formula]. Put [formula] for some i,j∈. Then [formula] is equal to |B|ij. Thus P1 form [formula] where [formula], [formula] and [formula] are words on A possibly including "|" character. Moreover since |A|ij  =  τk(|B|ij) = τ(|B|)ij, we obtain |A| is equal to τ(|B|). Therefore we can apply the second homotopy moves to P1 :

[formula]

Consider the third homotopy move

[formula]

where [formula], and x, y, z and t are words on [formula].

By the definition of Sα,k, we have [formula] is equal to |A|ij, [formula] is equal to |B|il and [formula] is equal to |C|jl for some 1  ≤  i  ≤  ȷ  ≤  l  ≤  k. This implies P1 form [formula] and P2 form [formula] where [formula], [formula], [formula] and [formula] are words on A possibly including "|" character. Note that (|A|,|B|,|C|)∈S by the definition of Sα,k. Thus we can apply the third homotopy move to P1:

[formula]

By the above [formula] is injection.

Now we completed the proof.

We have Theorems [\ref=thm1] and [\ref=thm2] as corollaries of Theorems [\ref=thmt1], [\ref=thmt2] and [\ref=thm3].

On the other hand, for a nanoword over αk, the necessary and sufficient condition for existence of a corresponding nanophrase over α is described as follows.

Let α be an alphabet and [formula] be a nanoword over αk. Then there exists nanophrase of length k over α such that (A,φ(P)) is equal to [formula] if and only if w satisfies conditions (1)-(4): Let iA: =  min {w- 1(A)} and jA: =  max {w- 1(A)} for each [formula], and [formula] and [formula] for some x,y∈α. Consider two letters [formula]. Then (1) If iA  ≤  iB, then mA  ≤  mB, (2) If iA  ≤  jB, then mA  ≤  nB, (3) If jA  ≤  iB, then nA  ≤  mB, (4) If jA  ≤  jB, then nA  ≤  nB.

It is clear that φ(P) satisfies the condition (1) - (4) for all P∈Pk(α) by the definition of φ.

We show if w∈N(αk) satisfies the condition (1) - (4), then there exist P∈Pk(α) such that φ(P) is equal to w.

Suppose w∈N(αk) satisfies the condition (1) - (4). Then we construct a nanophrase of length k over α P as follows.

(Step 1) We read w from w(1) and find a number i which satisfies following conditions: Let [formula] and [formula]. Then min {w- 1(w(i))}  =  i, min {w- 1(w(i + 1))}  =  i + 1 and mi  <  mi + 1 or min {w- 1(w(i))}  =  i, min {w- 1(w(i + 1))}  <  i + 1 and mi  <  ni + 1 or min {w- 1(w(i))}  <  i, min {w- 1(w(i + 1))}  =  i + 1 and ni  <  mi + 1 or min {w- 1(w(i))}  <  i, min {w- 1(w(i + 1))}  <  i + 1 and ni  <  ni + 1. If there is not exists such i, then by the condition (1) - (4), for all i,j,k,l∈ mi, mj, ni and nj are equal. We put this number m and consider the nanophrase of length k over α, [formula]. Then this is the required nanophrase. (Step 2) If there exists such i (denote this i by i1), then we put the character | into between w(i) and w(i + 1). Moreover if (mi + 1 - mi) ((mi + 1 - ni), (ni + 1 - mi) or (ni + 1 - ni)) is grater than or equal to two, then we put l - 1's [formula] into between w(i) and w(i + 1): [formula]. (Step 3) We read w from w(i + 1) and repeat (Step 1) and (Step 2) until the end. (Step 4) If m1 is greater than or equal to two, then we put m1 - 1's [formula] in the left of w(1): [formula]. Moreover if k - nlength(w) is greater than or equal to one, then we put k - nlength(w)'s [formula] in the right of w(length(w)): [formula].

Then the obtained nanophrase is the required nanophrase over α.

Now we obtain following corollaries.

The set {∈N((α0)k,Qα0,kRα0,k,(S0)α0,k)|w } where

[formula]

The set [formula] where

[formula]

In the case α is equal to α0 and S is equal to So, [formula] is the map from Ck to N((α0)k,Qα0,k,Rα0,k, (S0)α0,k) which maps C∈Ck to [formula] as follows. Let us label the double points of C by distinct letters [formula]. Starting at the base point of the first component of C and following along C in the direction of C, we write down the labels of double points which we passes until the return to the base point. Then we obtain a word w1 on the alphabet [formula]. Similarly we obtain words wj on A from the the j-th component for each j∈. Let t1i (respectively, t2i) be the tangent vector to C at the double point labeled Ai appearing at the first (respectively, the second) passage through this point. Set |Ai| = aij, if the pair (t1i,t2i) is positively oriented and Ai is an intersection of the i-th component and the j-th component of C, and |Ai| = bij if the pair (t1i,t2i) is negatively oriented and Ai is an intersection of the i-th component and the j-th component of C. Then we obtain an (α0)k-alphabet A. Finally we obtain the required nanoword [formula].

Similarly as the Remark [\ref=rem1], we can regard an ornament as an element of N ((α0)k, Qα0,k, Rα0,k, Sorn) where Sorn is equal to (S0)α0,k [formula] {(cij,cil,cjl) |c∈α0, i  ≠  j  ≠  l  ≠  i} (definition and explanations on ornaments is given in [\cite=Va] for example). In this point of view, we can say the (Q,R,S)-homotopy theory of nanowords is the common generalization of the stable equivalence theory of curves on surfaces and the theory of stable equivalence of ornaments. Moreover if we consider the case Q, R and S are equal to the empty set, then (Q,R,S)-homotopy classes of nanowords with satisfying the conditions (1) - (4) are one-to-one correspond to the stably homeomorphic classes of ordered, pointed multi-component curves on surfaces.

We can also say that to studying (Qα,k,Rα,k,Sα,k)-homotopy of nanowords over αk is natural since this is a natural generalization of the theory of curves on surfaces.

(Q,R,S)-homotopy Invariants Derived from S-homotopy Invariants.

In this section we construct (Qα,k,Rα,k,Sk)-homotopy invariants for nanowords over αk from some S-homotopy invariants for nanophrases of length k over α via correspondence which described in the proof of Theorem [\ref=thm3]. Moreover we show some of them are Sk-homotopy invariants for nanowords over αk.

In [\cite=tu1] and [\cite=tu2] V.Turaev constructed S-homotopy invariants for a set S  ⊂  α  ×  α  ×  α which is strictly larger than the diagonal set (for example minimum length norm, α-keis and α-quandles for nanophrases, etc). However those invariants are difficult to compute. On the other hand, invariants which defined in this section are calculated easily. Thus this is an available application of generalized homotopy theory of words and phrases.

Some Simple Invariants.

First we extend the linking vector of nanophrases (cf.[\cite=fu2] and [\cite=gi1]).

Let [formula] be a nanoword of length 2n over αk where A is an αk-alphabet [formula] with a projection [formula] is equal to |Ai|mini where |Ai|∈α. Let π(α,τ) be a group which is generated by the all elements of α with relations ab  =  ba and aτ(a) = 1 where 1 is the unit element of π(α,τ). We denote a set [formula] by Aij. Then we define a map [formula] [formula] as follows:

[formula]

where

[formula]

Note that for a nanoword w over αk which is the image of the map φ (in other words, there exist a nanophrase P of length k over α such that w is equal to φ(P)), [formula] is coincides to lk(P). Therefore [formula] is an extension of lk. Then we obtain a following proposition.

The [formula] is a (Qα,k,Rα,k,Sα,k)-homotopy invariant for nanowords over αk.

It is clear that an isomorphism does not change [formula].

Consider the first homotopy move

[formula]

where [formula], x and y are words on A.

In this case A∈Aii does not contribute to [formula] by the definition.

Consider the second homotopy move

[formula]

where [formula] is equal to [formula], and x, y and z are words on A.

Assume [formula] is equal to |A|ij, then [formula] is equal to τ(|B|)ij. It is sufficient to show that [formula] is equal to [formula]. Note that |A| is equal to τ(|B|) by the definition of [formula]. Therefore,

[formula]

Thus [formula] is equal to [formula].

Consider the third homotopy move

[formula]

where [formula], and x, y, z and t are words on A.

Note that the third homotopy move does not change the projections of letters. Thus the third homotopy move does not change the value of [formula].

Now we completed the proof.

Next we extend the component length vector (see [\cite=fu2] and [\cite=gi1]). Let v be a nanoword over αk. Then we define a vector [formula] as follows.

[formula]

where [formula] =   [formula] Card(Ail) +   [formula] Card(Ali) modulo 2 for each l∈. Note that for a nanoword v over αk which is the image of the map φ (in other words, there exist a nanophrase P of length k over α such that w is equal to φ(P)), [formula] is coincides to w(P). Thus [formula] is an extension of w. Then we obtain a following proposition.

The [formula] is a (Qα,k,Rα,k,Sα,k)-homotopy invariant for nanowords over αk.

It is clear that isomorphisms does not change the [formula].

Consider the first homotopy move

[formula]

where [formula], x and y are words on A.

In this case A∈Aii does not contribute to [formula] by the definition. Thus we obtain [formula].

Consider the second homotopy move

[formula]

where [formula] is equal to [formula], and x, y and z are words on A.

Let [formula] and [formula]. We need to consider the case i is not equal to j. In this case, both A and B are elements of Aij. Thus [formula] changes 0 or 2 for each l∈. Therefore [formula] does not change by the second homotopy move.

Consider the third homotopy move

[formula]

where [formula], and x, y, z and t are words on A.

Note that the third homotopy move does not change the projections of letters. Thus the third homotopy move does not change the value of [formula].

Now we completed the proof.

Note that (Qα,k,Rα,k,Sα,k)-homotopy invariants [formula] and [formula] are not Sα,k-homotopy invariants. For example consider nanowords over {a}2, w1 = AA with [formula] and [formula]. Then [formula]. On the other hand [formula]. Similarly [formula] and [formula]. Thus [formula] and [formula] are not Sα,k-homotopy invariants.

The invariant [formula].

In the paper [\cite=gi1], A.Gibson defined a homotopy invariant for Gauss phrases (in other words, a homotopy invariant for nanophrases over the one-element set) which is called So. Moreover Gibson showed that Gibson's So invariant is strictly stronger than the invariant T for Gauss phrases which is defined in [\cite=fu1] (see also [\cite=fu2]). In this section, we extend the So invariant to the (Sα,k,Rα,k,Sα,k)-homotopy invariant for nanowords over αk via correspondence in the proof of Theorem [\ref=thm3]. Moreover we show the obtained invariant is also an Sα,k-homotopy invariant. To do this, first we extend Gibson's So invariant for Gauss phrases to a homotopy invariant for nanophrases over any α.

An extension of Gibson's So invariant.

In this sub-subsection we extend Gibson's So invariant for Gauss phrases to a homotopy invariant for nanophrases over any alphabet.

Let α be an alphabet with an involution τ:α  →  α. Since the set α is a finite set, we obtain following orbit decomposition of the τ : α  /  τ =   {, [formula], [formula] , [formula] }, where : = {aij,τ(aij)} such that Card() = 2 for all [formula] and Card() = 1 for all [formula] (we fix a complete representative system [formula] which satisfy the above condition). We denote a complete representative system which satisfies above condition crs(α  /  τ). Let A be a α-alphabet. For A∈A we define ε(A)∈{  ±  1} by

[formula]

Let [formula] be a nanophrase over α and A and B be letters in A. Let K(i,j) be [formula] if i  ≤  l and j  ≤  l, otherwise [formula]. We denote [formula] by [formula]. Then we define [formula] as follows: If A and B form [formula] in P, the second B appears in the j-th component of P, |A|∈ and |B| = aiq for some [formula], or [formula] in P, the first B appears in the j-th component of P, |A|∈ and |B| = τ(aiq) for some [formula] , then [formula] If [formula] in P, the second B appears in the j-th component of P, |A|∈ and |B| = τ(aiq), or [formula] in P, the first B appears in the j-th component of P, |A|∈ and |B| = aiq, then [formula]. Otherwise [formula], where [formula] =   (0 [formula], [formula] [formula] Moreover we define notations lP,j, lP as follows:

[formula]

[formula]

Furthermore we define a map (BP)j from [formula] [formula] [formula] to [formula] or [formula] as follows. First we define type of elements in [formula]. Let [formula] be an element of [formula] and [formula] be an element in [formula] corresponding to i th. K(r,s) in [formula]. Then [formula] is type (i) if [formula] is not equal to 0 only if r is less than or equal to l for all i, r, s. We say [formula] is type (ii) if [formula] is not equal to 0 only if r is grater than l for all i, r, s. Otherwise we call [formula] type (iii). Then

[formula]

Then we define So as follows:

[formula]

If we consider the case α is equal to the one-element set, then So is coincides to the Gibson's So invariant in [\cite=gi1]. See [\cite=gi1] for more details.

After submitting previous version of this paper to arXiv, Andrew Gibson gave me many useful comments on the invariant So which was defined in the previous version of this paper. According to his advice, the author modified the definition of the extended So invariant. Then the extended So invariant in this version became stronger, and this invariant So became equivalent to the invariant U which is defined independently in [\cite=gi2] by Gibson.

The So is a homotopy invariant for nanophrases over α.

It is sufficient to show homotopy invariance of (BP)j.

It is clear that So does not change under isomorphisms.

Consider the first homotopy move

[formula]

where x and y are words on A, possibly including "|" character.

For each A and j∈, σjP1(A,X) is equal to 0 and σjP1(X,A) is equal to 0 for all X∈A. Thus A does not contribute to lP(X) and lP(A) is equal to 0. By the definition of (BP1)j, A does not contribute to (BP1)j. Therefore (BP)j is an invariant under the first homotopy move.

Consider the second homotopy move

[formula]

where |A| is equal to τ(|B|), and x, y and z are words on A possibly including "|" character.

We show lP1(D) is equal to lP2(D) for all D ∈ A [formula] {A,B}. In fact,

[formula]

If [formula] is a fixed point of τ, then all non-zero entries of σjP1(D,A) and σjP1(D,B) are elements of [formula] and σjP1(D,A) is equal to σjP1(D,B). Thus σjP1(D,A) + σjP1(D,B) = 0.

If [formula] is a not fixed point of τ (in other words, [formula] is a free orbit of τ) and ( = ) is a fixed point of τ, then we obtain σjP1(D,A) + σjP1(D,B) = 0 similarly as the above case.

If [formula] and [formula] are a free orbits of τ, then σjP1(D,A) is equal to -  σjP1(D,B). Thus we obtain σjP1(D,A) + σjP1(D,B) = 0. Therefore

[formula]

If A and B are not in Aj for all j∈, then we completed the proof of the proposition.

Now we assume A∈Aj for some j∈. Then B∈Aj since [formula] is equal to [formula]. Moreover by arrangement of letters A and B, we obtain lP1(A) is equal to lP2(A). Thus

[formula]

If [formula] is a free orbit of τ, then ε(A) is equal to -  ε(B) since |A| is equal to τ(|B|). Thus ε(A)  +  ε(B)  =  0. If [formula] is a fixed point of τ, then lP1(A) is type (ii) and ε(A)  +  ε(B)  =  2  =  0 (mod 2). Thus contributions of A and B to (BP1)j is vanish. It is clear that [formula] is equal to [formula] if [formula] is not equal to lP1(A). Therefore (BP)j is invariant under the second homotopy move.

Consider the third homotopy move

[formula]

where |A| = |B| = |C|, and x, y, z and t are words on A possibly including "|" character.

We call a letter A single component letter if A appears twice in the same component of the phrase. First we consider the case A, B and C are single component letters. We show lP1(X) is equal to lP2(X) for all X∈A. For all D∈A [formula] {A,B}, it is clear that lP1(D) is equal to lP2(D).

On lP1(A) is equal to lP2(A). Note that letters which contribute to lP1(A) (respectively lP2(A)) are B and letters in y (respectively C and letters in y). It is easily checked that σjP1(A,X) is equal to σjP2(A,X) for all letter X in y. Moreover since [formula] A [formula] [formula] [formula] [formula] in P1, [formula] A [formula] [formula] [formula] [formula] in P2, |B| is equal to |C| and B and C that appear second times are belong to the same component, we obtain lP1(A) is equal to lP2(A).

On lP1(B) is equal to lP2(B). Note that letters which contribute to lP1(B) (respectively lP2(B)) are letters in y, A, C and letters in z (respectively letters in y and letters in z). It is clear that σjP1(B,X) is equal to σjP2(B,X) for all letter X in y or z. We show σjP1(B,A)  +  σjP1(B,C) =   0. Consider the case [formula] (=    =  ) is a free orbit of τ. Note that letters A, B and C are contained in the same component of the phrase (we suppose this component is the j-th component). If we assume σjP1(B,A) is equal to [formula], then σjP1(B,C) is equal to [formula] where the double signs are taken in the same order. Thus we obtain σjP1(B,A)  +  σjP1(B,C) =   0. Next consider the case [formula] (=    =  ) is a fixed point of τ. Then σjP1(B,A) is equal to [formula] and σjP1(B,C) is equal to [formula]. Since all the non-zero entries of σjP1(B,A) and σjP1(B,C) are the elements of [formula], we obtain σjP1(B,A)  +  σjP1(B,C) =   0. Therefore

[formula]

for each j∈. Thus we obtain lP1(B) is equal to lP2(B).

On lP1(C) is equal to lP2(C). Note that letters which contribute to lP1(C) (respectively lP2(C)) are letters in z and B (respectively letters in z and A). It is clear that σjP1(C,X) is equal to σjP2(C,X) for all letter X in z. Moreover since [formula] B [formula] [formula] [formula] [formula] in P1, [formula] A [formula] [formula] [formula] [formula] in P2, |A| is equal to |C| and A and C that appear first times are belong to the same component, we obtain lP1(C) is equal to lP2(C).

Therefore if A, B and C are single component letters, (BP)j is the invariant of the third homotopy move.

By using a part of above discussion, we can prove the case A, B and C are not single component letters. Now we have completed the proof of the proposition.

In [\cite=gi1], Gibson showed that Gibson's So invariant is strictly stronger than the invariant T for Gauss phrases. We have a similar statement for extended So invariant for nanophrases over any alphabet.

The invariant So for nanophrases over α is strictly stronger than the invariant T for nanophrases over α.

It is sufficient to show that we can recover TP(wj) from (BP)j (we use the same symbols as [\cite=fu2]). First we define a set Bj(P) as follows.

[formula]

We split Aj into a disjoint sum of sets as follows.

[formula]

[formula]

[formula]

[formula]

Then

[formula]

We sum up all the elements of Bj(P), we obtain

[formula]

Moreover we sum up all the entries of the above vector, we obtain

[formula]

Thus we can recover TP(wj) from Bj(P). Therefore So is strictly stronger than T (the proof of "strictly" is shown in [\cite=gi1] Example 6.4).

In the next sub-subsection we extends the invariant So for nanophrases over α to a (Qα,k,Rα,k,Sα,k)-homotopy invariant [formula] for nanowords over αk. Moreover we show [formula] is an Sα,k-homotopy invariant for nanowords over αk.

The invariant [formula].

In this sub-subsection we extend the So invariant which was defined in the previous sub-subsection to the invariant [formula] for nanophrases over αk. To define [formula], we prepare some notations. For a nanoword w over αk and letters A,B∈A, we define [formula] as follows: If A and B form [formula] in w, |A|∈ and [formula] for some [formula] and i  ≤  j, or [formula] in w , |A|∈ and [formula] for some [formula] and l  ≥  j, then [formula]. If [formula] in w, |A|∈ and [formula], for some [formula] and i  ≤  j, or [formula] in w, |A|∈ and [formula] for some [formula] and j  ≤  l, then [formula]. Otherwise [formula]. Moreover we define notations [formula], [formula] and [formula] as follows:

[formula]

[formula]

Then [formula] is a map from [formula] [formula] [formula] to [formula] or [formula] which is defined by

[formula]

Then we define [formula] as follows:

[formula]

Then we obtain the following proposition.

The [formula] is a (Qα,k,Rα,k,(Δα3)α,k)-homotopy invariant of nanowords over αk.

It is sufficient to show homotopy invariance of [formula].

It is clear that [formula] does not change under isomorphisms.

Consider the first homotopy move

[formula]

where [formula], x and y are words on A.

For each A and j∈, [formula] is equal to 0 and [formula] is equal to 0 for all X∈A. Thus A does not contribute to [formula] and [formula] is equal to 0. By the definition of [formula], A does not contribute to [formula]. Therefore [formula] is an invariant under the first homotopy move.

Consider the second homotopy move

[formula]

where [formula] is equal to [formula] (put [formula] and [formula]), and x, y and z are words on A

We show [formula] is equal to [formula] for all D ∈ A [formula] {A,B}. In fact,

[formula]

If [formula] is a fixed point of τ, then all non-zero entry of [formula] and [formula] are elements of [formula] and [formula] is equal to [formula]. Thus [formula].

If [formula] is a free orbit of τ and ( = ) is a fixed point of τ, then we obtain [formula] similarly as the above case.

If [formula] and [formula] are a free orbits of τ, then [formula] is equal to [formula]. Thus we obtain [formula]. Therefore

[formula]

If A and B are not in Ajj for all j∈, then we completed the proof of the proposition.

Now we assume A∈Ajj for some j∈. Then B∈Ajj since [formula] is equal to [formula] (note that τk does not change the subscript of the projection). Moreover by arrangement of letters A and B, we obtain [formula] is equal to [formula]. Thus

[formula]

If [formula] is a free orbit of τ, then ε(A) is equal to -  ε(B) since |A| is equal to τ(|B|). Thus ε(A)  +  ε(B)  =  0.

If [formula] is a fixed point of τ, then ε(A)  +  ε(B)  =  2 =  0 (mod 2). Thus contributions of A and B to [formula] is vanish. It is clear that [formula] is equal to [formula] if [formula] is not equal to [formula]. Therefore [formula] is invariant under the second homotopy move.

Consider the third homotopy move

[formula]

where [formula], and x, y, z and t are words on A

Now we use same terminologies as in the proof of Proposition [\ref=propSo]. We call a letter A single component letter if A∈Ajj. First we consider the case A, B and C are single component letters. We show [formula] is equal to [formula] for all X∈A. For all D∈A [formula] {A,B}, it is clear that [formula] is equal to [formula].

On [formula] is equal to [formula]. By the definition of [formula],

[formula]

It is easily checked that [formula] and [formula] are equal to 0. Since [formula] A [formula] B [formula] A [formula] B [formula] in w1, [formula] A [formula] C [formula] A [formula] C [formula] in w2 and the second subscript of [formula] and the second subscript of [formula] are equal, we obtain [formula] is equal to [formula]. Thus

[formula]

On [formula] is equal to [formula]. By the definition of [formula],

[formula]

Then we show [formula]. In fact, if |A|∈ (in this case |B|,|C|∈) and [formula] is a fixed point of τ, then [formula] is equal to [formula] and [formula] is equal to [formula] if j is equal to i. Otherwise [formula] is equal to [formula] and [formula] is equal to [formula]. Since K(i,i) is equal to [formula], we obtain [formula] +   [formula] =   [formula] =   0. If |A|∈ and [formula] is a free orbit of τ, then we obtain [formula] is equal to [formula]. Thus [formula] +   [formula] =   0. Therefore we obtain

[formula]

On [formula] is equal to [formula]. By the definition of [formula],

[formula]

It is easily checked that [formula] and [formula] are equal to 0. Since [formula] B [formula] C [formula] B [formula] C [formula] in w1, [formula] A [formula] C [formula] A [formula] C [formula] in w2 and the first subscript of [formula] and the first subscript of [formula] are equal, we obtain [formula] is equal to [formula]. Thus

[formula]

By the above, in this case we prove invariance of [formula] by the third homotopy move.

On the case A∈Aii and [formula], A∈Aii and [formula], and [formula], we can prove invariance of [formula] by using a part of the above case.

Now we completed the proof.

Note that in the proof of invariance of [formula] by the first homotopy move, we did not use the condition [formula]. Thus we obtain a following corollary.

The [formula] is an Sα,k-homotopy invariant for nanowords over αk.

Final Remark

In this section, we extended the invariants lk, w and extended So for nanophrases over α to the (Qα,k,Rα,k,Sα,k)-homotopy invariants for nanowords over αk. As a similarly, we can extend the invariant γ for nanophrase over α with homotopy data Δα3 which is defined in [\cite=fu1](see also [\cite=tu1]) to a (Qα,k,Rα,k, (Δα3)α,k)-homotopy invariant for nanowords. Moreover we can extend the lemmas 5.2 and 5.3 in the paper [\cite=fu2]. A natural question "Can we extend any S-homotopy invariant for nanophrases over α to a (Qα,k,Rα,k,Sα,k)-homotopy invariant for nanowords over αk?" is a future problem.

Department of Mathematics, Hokkaido University

Sapporo 060-0810, Japan

e-mail: fukunaga@math.sci.hokudai.ac.jp