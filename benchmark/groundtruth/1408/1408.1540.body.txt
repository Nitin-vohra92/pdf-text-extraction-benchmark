Corollary

= 10000

Quantum Byzantine Agreement via Hardy correlations and entanglement swapping

Quantum Mechanics (QM) allows to encode and process information in ways inaccessible to classical theories with non-contextual hidden variables. One such strictly quantum resource is entanglement, a phenomenon in which individual parts of a quantum system can be described only in reference the other ones. There are multiple consequences of entanglement. The fundamental one is the exclusion of theories with local hidden variables (LHVTs, where non-contextuality is justified by spatial separation). The practical ones are advantages in various communication tasks, as compared to classical protocols. Examples of such advantage include security of cryptographic key distribution or secret sharing, or communication complexity reduction in a distributed computing system.

A procedure, in which quantum correlations can also be useful, deal with faults of components of a vast computing network. A reliable distributed computing system must be able to cope with a failure of some of its components. A failing component can behave arbitrarily and may send conflicting information to different parts of the computing system.

The abstract formulation of the problem is put in a form of generals of the Byzantine Army communicating with each other. The commanding general C (say, Clausevitz) first sends a message (mC) to A (for Alexander) and B (for Buonaparte) whether to attack or retreat. Next, A and B exchange the messages to confirm what they received. The generals must reach a consensus among themselves based on the messages exchanged [\cite=PSL80] [\cite=LSP82]. The problem is complicated by the fact that one (and only one) of the players can be traitor. He may try to convince the loyal general(s) for malevolent action by sending corrupt message. The solution to the problem must allow (i) all the loyal generals to agree upon a common plan of action. Also, (ii) if the commanding general is loyal then all the loyal generals must obey the order he sends. In more mundane terms Byzantine Agreement (BA) is about information transmission. An electronic device C should send two identical bits to devices A and B, but there might be a bit-flipping error (which causes the messages to be different). A gets a confirmation bit from B which is to inform what was the value received by B from C. However also in this transfer there may be a bit flipping error in the transmission form A to B. Similarly B gets from A a bit which is supposed to be the one received by A form C, but there might be an error in the transmission. How can A know that the possible discrepancy of the messages from B and C, which A received, is due to an error by B or by C? The same applies to B, which device sent a bit-flipped message C or A (that is, which device is faulty)? However, C is the controlling unit, therefore A must act according to C's message, if its message was identical to A and B (a correct operation of C). The same applies to B. The assumption of just one error is motivated by the fact that double errors are rare.

The BA problem is about faulty transmission, not failure of transmission. Therefore, any attempt of jamming/cutting the communication link for any players leads to a different problem other than BA. In other words, prevention against jamming/cutting does not lie in the scope of this problem. One should also notice that the BA problem is not a cryptographic problem and in the standard case at most one traitor is assumed.

It was shown that an unconditionally secure scheme for the BA problem is probably unsolvable by means of classical resources only [\cite=PSL80] [\cite=LSP82] [\cite=FLM86] [\cite=FGMO01]. However, a partial quantum solution was suggested in Ref. [\cite=FGM01] [\cite=Cab02] [\cite=Cab03a] [\cite=Cab03] [\cite=IG04] [\cite=GBKCW08] [\cite=BCZ10] in which the condition (ii) had to be compromised to (ii'): all loyal generals either follow the same plan, or abort any action. This modification of the original problem is known as detectable Byzantine agreement (DBA) or detectable broadcast [\cite=FGM01] [\cite=GBKCW08]. Here, we present a secure protocol for the original BA problem. Our protocol is based on Hardy's paradox [\cite=Har92], which disproves the possibility of having a LHVTs description of quantum correlations like Bell [\cite=Bel64], but without inequalities.

Let us begin with recalling the original Hardy 'paradox' [\cite=Har92]. Consider a bipartite system and a choice of two local observables Ux and Dx, where (x = 1,2) denotes the systems, with outcomes ±  1. Let P(y1,y2|Y1,Y2) denote the joint probability that the measurements (Y1,Y2) gave the results (y1,y2). Hardy noticed that the following four conditions can be satisfied, for some q and some quantum states:

[formula]

However, this set of conditions cannot be satisfied in LHVTs, and therefore by any separable state. In these theories, the last condition of ([\ref=hardy0]) says that each of the subsystems can yield result "+ 1" under measurement U. In such a case, the second and the third condition of ([\ref=hardy0]) tell us that the subsystems will yield "- 1" under D, which is in contradiction with the first condition. However, these conditions can be met by entangled states [\cite=Har92].

Let us find state ρ, for which the conditions for Hardy-type argument given in ([\ref=hardy0]) are satisfied for given two pairs of observables (Uk,Dk), k  =  1,2. Denote by |  x〉 and [formula] eigenstates of a Pauli-type observable X with eigenvalues + 1 and - 1, respectively. Using such notation, any state, which satisfies conditions ([\ref=hardy0]), has to be orthogonal to the following three product states [formula], |  φ1〉  =  |  u1〉|  d2〉 and |  φ2〉  =  |  d1〉|  u2〉 associated with the three zero probabilities of ([\ref=hardy0]) and is non-orthogonal to |  φ3〉  =  |  u1〉|  u2〉 associated with the non-zero probability of ([\ref=hardy0]).

|  φ0〉,|  φ1〉 and |  φ2〉 span a three-dimensional subspace S. Therefore, to satisfy the conditions ([\ref=hardy0]), a state has to be confined to an one dimensional subspace [formula] of [formula], which is orthogonal to S. Therefore, ρ must be a unique, pure and entangled [\cite=Kar97]. We shall denote it as |  ψH〉. The four product states {|  φi〉}3i = 0 are linearly independent, hence by Gram-Schmidt orthogonalization procedure one can find a basis {|  φ'i〉}3i = 0, in which the Hardy state |  ψH〉  =  |  φ'3〉 is its last member:

[formula]

As Dj  ≠  Uj, one must have

[formula]

with |αj|2 + |βj|2 = 1 and 0 < |αj| < 1, for j = 1,2. Thus, the probability q in the conditions ([\ref=hardy0]) reads Its maximum possible value is [formula] for [formula] [\cite=Jor94].

Let us define the unique Hardy state by |  ψ*〉 for which q achieves its maximum value. A recent result by Rabelo et.al. [\cite=RZS12], tells us that, for [formula] the state of of any systems is equivalent to [formula] where |  η〉1'2' is an arbitrary bipartite junk state for some other systems. State |  ψ*〉12 is unique, and any expansion of the Hilbert spaces of local systems leads to a factorisable extension.

Therefore, Hardy conditions with qmax constitute a device independent test uniquely pinpointing |  ψ*〉12 as responsible for the correlations. Note that the value of q is determined by the choice of local observables used to define the Hardy conditions, and so is the state.

Protocol for Byzantine Agreement: Let the commanding general C send a one bit message mC to two generals, A and B. Let us denote mCA and mCB the bits received by A and B, respectively (they will be the BA protocol bits, all other information exchange to transmit these is treated as auxiliary). After receiving the message bit (mCG), the general G, where G = A,B, sends bit mGR (G  ≠  R = A,B) to the other general R to inform about the message (mCG) he received from C. In a three-party BA problem at most one player can be traitor. So, if mAB = mBA, then all three players are loyal and there is no problem in Byzantine agreement. But if, mAB  ≠  mBA, then one of the general (from generals A,B and C) must be a traitor. The main goal of this problem is to find out the traitor. In order to accomplish this, we propose a quantum scheme which based on some novel features of Hardy paradox. One should note that there is an asymmetry in the problem. C is the commanding general, he just sends the messages and not receives any (protocol) messages from A and B. Whereas, the roles of A and B are symmetric. They receive as well as send messages. Also, both A and B (at least the loyal one) are interested to know who is the traitor in contrast, C is not. Cheating by C is sending two different messages to A and B. Whereas, cheating by A is sending to B a message which is opposite to the one he received from C. Like A, we have a symmetric definition of cheating by B. All classical 'protocol messages' are only sent by C, while A and B exchange confirming messages between themselves only. There is some non protocol, auxiliary, information which may be sent to C, to test and operate the quantum links only. What is important we assume that C sends the classical messages to A and B on his decision retreat/attacks using only quantum communication methods. As we shall see, this does not need to be the case for the message exchange between A and B.

Our quantum scheme for BA problem consists with two symmetric sub-protocols one for A and another for B. Both A and B prepare as well as distribute the necessary resources for their part of the protocol. Due to the symmetry, here we describe only A's part of the protocol in detail.

Let us begin with the part of the protocol which is done on qubits distributed by A. The goals of A's protocol are:

to allow C to send the message mCB to B,

to allow A to check what was the message C sent to B.

where, [formula], [formula], and [formula], with α1  =  α2  =  α and β1  =  β2  =  β.

where

and After this, A measures each ancilla in basis {|  〉〈  |,|  〉〈  |} and discards the runs (say R1) with measurement outcome [formula]. If the outcome is |  u〉 (which can happen with probability [formula]), the corresponding maximally entangled state shared between A and B, or C, collapses to a shared Hardy state |  ψH〉.

The runs [formula] are discarded. and they are totally useless for rest of the protocol. This list is distributed among the generals. Each of the party receives approximately 2N (2N≈, for short-hand) qubits and consequently each pair of parties shared N≈ copies of |  ψH〉 between them. Neither B nor C can know which of his qubits (from their own 2N≈-qubits) were entangled with A's qubits and which of them were entangled with the other one of the pair, while A has full knowledge about the correlation links of all 3N≈ pairs of qubits i.e., all 3N≈ copies of |  ψH〉.

The actual actions on qubits distributed by A: As said earlier A makes measurements in random U and D bases (test settings) on all of her 2N≈-qubits form shared Hardy states (with B and C), so does B. Whereas C, if he wants the protocol to run is to make, say, 75% of their randomly chosen measurements in the message basis (in a prearranged manner), and the rest in random bases (test settings). C chooses basis U for the message 'm = 0 /  Yes' or D for 'm = 1 /  No'. They announce their results (not settings) of all runs, immediately after each measurement. Let L and L1 be the lists of runs where C have chosen the measurements in message basis and random bases accordingly. Before going to next step C sends the list L / L1 to both A and B.

An important requirement of the protocol is that generals B and C make their protocol measurements immediately after they receive qubits. This can be forced by requesting A,B and C to announce the results, not settings, immediately, for each run in a random sequence, so the each partner has probability 1 / 3 to be first to announce. General A does his protocol measurements after his preparation measurements (swappings, projections), in a sequential manner. In the case of entanglement swapping run A does not have to make measurements of his leftover qubits, but should nevertheless announce some ' phony' results, say random. All this is to preclude delayed choice operation of any of the partners, and to hide, at results revealing stage, who was connected with whom. Additionally, there is no need to " store" the qubits. This makes the protocol more feasible.

Convey classical message through measurement settings: After receiving the list L / L1 and measurement results from C, A can easily find out the message basis of C. Hence, he can read the messages mCB. A checks for what choice of uniform measurement setting (U / D) on C's side the measurement data of all the correlated qubit pairs between him and C from L has no contradiction with Hardy's conditions ([\ref=hardy0]). If C sends consistent data there must be one uniform setting for L and that setting represents the message mCB.

Next A reveals to B and C which runs were connecting whom i.e., the correlation links for all Hardy states. A cannot cheat in this because this would lead to no transmission of mCB. However, C does not know before making measurements with whom he was connected. So, he has no option other than choosing the same message settings all the time, if he wants to send a consistent (readable) message to B. Otherwise communication of the BA protocol bit mCB fails. Recall, that A reveals the links, only after measurement results are announced by all parties.

Upon knowing the correlation links with C's qubits, B can easily read the message mCB by verifying Hardy's conditions for the correlated qubits pairs he shared with C from list L. Like A, B also checks for what choice of uniform setting between U and D on C's side the measurement data for all these correlated qubits from L satisfy the Hardy's conditions [\ref=hardy0]. If the links revealed by A are genuine and C are honest then the measurement data will be consistent for one of the choices of a uniform setting (say, V∈{U,D}). Hence, he can read the message mCB = V. B and C can check whether they were indeed sharing Hardy states with A and themselves (also A sent them the correct correlation links) by exchanging their measurement results and settings, as part of the settings are test settings. They can also ask A to send his settings and results to test whether the Hardy's correlations they shared with A are genuine or not. If the shared Hardy states are all genuine then the measurement data for each pair of correlated qubits agree with Hardy's conditions ([\ref=hardy0]).

The actual actions with qubits distributed by B: All is symmetric with respect to the above (only the roles of A and B are exchanged and the BA protocol message in question is now mCA). If transmission goes well, A and B know the message mCA, which was meant only for A.

Betrayal consequences: If C is a traitor, the other partners, who are by definition now loyal, know this immediately, they even do not have to exchange any messages anymore. If A is a traitor, he may try to fool B by sending him a classical message mAB which is opposite to mCA. But this is useless, because B knows mCA from the quantum protocol. It may also happen that the messages (readable) mCB and mCA B received are not same i.e., mCB  ≠  mCA. This is possible only if A filliped C's preparation basis ([formula]) at the time of preparation of the Hardy states between B and C in step S1(a). That is, instead of genuine Hardy states ([\ref=hardystate]) A generates copies of the following correlation between B and C.

[formula]

To this end, A employs the measurement [formula] instead of [formula]. Here, M' = |  〉〈  | with In the measurement, if M' clicks then the corresponding pair of maximally entangled states {|  Φ+〉12,|  Φ+〉34} collapses to a copy of the state |  χ〉 shared between B and C (for detail see step S1(a)): Due to the symmetry of the correlation of |  χ〉 general B reads out a filliped message m'CB of an opposite bit-value with respect to what C wanted to convey him. But the correlations characteristic for |  χ〉 cannot reproduce all the conditions of ([\ref=hardy0]). So, by verifying Hardy's condition with C and m'CB  ≠  mCA partner B can easily find out that A is the traitor. Note that, since C does not have any prior knowledge of the correlation links before his measurements, so he cannot selectively choose different measurements and convey two different messages to A and B.

The same holds in the case if B is a traitor. Thus the traitor has no chance to hide.

A moment of thought allows one to find out that the protocol works even if there is more than one traitor. A nice aspect of the protocol is that if one adds one more round, in which C distributes states for quantum communication from A to B and then from B to A (two rounds), then on similar grounds C may know who of his subordinate generals is a traitor, if there is any. Thus one can have even more than it is required in Byzantine Agreement. Notice further, that the crux of the protocol is that the communication is kind of completely opposite to cryptography. It is totally inescapably insecure. And this is why the protocol works.

Thus, by now we have succeeded in establishing a secure quantum BA protocol for all possible values of q. According to Ref. [\cite=RZS12] for q = qmax the Hardy test ([\ref=hardy0]) is fully device-independent. Hence, our BA protocol is also device-independent for q = qmax.

In summary, we have presented a device-independent quantum protocol for Byzantine Agreement, with any act of cheating leading to no transmission. It relies on an ability to establish a quantum link between three partners and perform pairwise Hardy tests between them. In correspondence to the original concept, the commanding officer C does not receive any information, as his task is only to distribute orders. He only accepts qubits, which carry no information. On the other hand, we put no restrictions on the amount of the exchange of auxiliary information. All the existing quantum protocols are only for detectable BA problem and none of them are for the original problem as they are described, since a quantum solution for such a problem is believed to be impossible. Here we have disproved this belief and presented a device-independent secure quantum scheme for the problem, as once the bits mCA and mCB are transmitted (readable to the receiver) then one must have mCA = mCB. If correlations observed between all pairs of parties satisfy Hardy's conditions ([\ref=hardy0]) then the protocol does not allow mCA  ≠  mCB, because any attempt by C to do something like this results in no transmission, as the message is unreadable.

Acknowledgments: RR and MZ acknowledge support by Foundation for Polish Science TEAM project(TEAM/2011-8/9/styp7) co-financed by EU European Regional Development Fund and ERC grant QOLAPS(291348). MW acknowledges support from the Foundation for Polish Science (project HOMING PLUS/2011-4/14) and project QUASAR.