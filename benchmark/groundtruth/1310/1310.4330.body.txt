40pt 10pt

Remark Lemma Proposition Definition

Anti-Ramsey numbers of small graphs

Yehuda Roditty

Keywords: Anti-Ramsey, Multicoloured, Rainbow.

Introduction

It is easy to see that AR(n,G) is also the minimal integer r such that in any edge-colouring of Kn by exactly r colours there is a multicoloured copy of G.

AR(n,G) was determined for various graphs G. We mention some of the results, which are relevant to our work.

For K1,k, a star of size k  ≥  2, Jiang showed ([\cite=J]) that for any n  ≥  k + 1,

[formula]

For Pk + 1, a path of length k  ≥  2, Simonovits and Sós showed ([\cite=SS]) that for large enough n ([formula] for some universal constant c),

[formula]

For Ck, a cycle of length k, Erd os, Simonovits and Sós noted in [\cite=ESS], where anti-Ramsey numbers were first introduced, that for any n  ≥  3

[formula]

showed that for any n  ≥  k  ≥  3,

[formula]

and conjectured this lower bound to be always tight. This conjecture was confirmed, first for k = 4 by Alon who proved ([\cite=A]) that for any n  ≥  4,

[formula]

and thirty years later for any k, by Montellano-Ballesteros and Neumann-Lara ([\cite=MbNl]).

For tP2, the disjoint union of t paths, each of length 1, i.e., a matching of size t, Schiermeyer first showed ([\cite=S]) that [formula] for any t  ≥  2, n  ≥  3t + 3. Then Fujita, Kaneko, Schiermeyer and Suzuki proved ([\cite=FKSS]) that for any t  ≥  2, n  ≥  2t + 1,

[formula]

Finally, the remaining case n = 2t was settled by Haas and Young ([\cite=HY]) who confirmed the conjecture made in [\cite=FKSS], that

[formula]

The results just mentioned cover many of the graphs with up to four edges. In this paper we complete the computation of AR(n,G) for any n  ≥  |V(G)| for all graphs G having at most four edges. The resulting anti-Ramsey numbers are summarized in Table [\ref=table1] at the next page.

We remark that Proposition [\ref=propos:P_3P_2], Proposition [\ref=prop:P_32P_2], Proposition [\ref=propos:C_3P_2], Proposition [\ref=prop:P_4P_2] and Proposition [\ref=propos:2P_3], respectively, are used in [\cite=GR] to deduce that for any integers t  ≥  1 , k  ≥  2 and large enough n,

[formula]

Notation

The complete graph on a vertex set V will be denoted KV.

For any (not necessarily disjoint) sets A,B  ⊆  V let E(A,B): = {uv|u  ≠  v,u∈A,v∈B}.

Let c be an edge-colouring of a KV.

We denote by c(uv) the colour an edge uv has.

For any v∈V let C(v): = {c(vw)|w∈V - {v}} and dc(v): = |C(v)|.

For any colour a, let Nc(v;a): = {w∈V - {v}|c(vw) = a}.

Small graphs for which the anti-Ramsey number is a constant

[formula]

The graph K4 contains exactly three copies of 2P2, and they are edge-disjoint, so clearly AR(4,2P2) = 4. For n  ≥  5, obviously AR(n,2P2)  ≥  |E(2P2)| = 2. On the other hand, for any edge-colouring c of Kn by at least two colours, take two edges e1, e2 with different colours. If they are disjoint, they form a multicoloured copy of 2P2. Otherwise, since n  ≥  5, there is an edge e3 which is disjoint to both e1 and e2. The colour of e3 is different than either c(e1) or c(e2) (or both), say c(e3)  ≠  c(e2). Then the edges e2, e3 form a multicoloured copy of 2P2.

Clearly AR(4,P4)  ≥  AR(4,2P2), so by Lemma [\ref=lem:2P_2], AR(4,P4)  ≥  4. On the other hand, in any edge-colouring of K4 by at least 4 colours there are, again by Lemma [\ref=lem:2P_2], two disjoint edges e1, e2, coloured by different colours. There are at least two other edges coloured differently than e1 and e2, and each of them completes e1 and e2 to a multicoloured copy of P4.

For n  ≥  5, obviously AR(n,P4)  ≥  |E(P4)| = 3. For the upper bound, let c be any edge-colouring of Kn by exactly (see Remark [\ref=exactly]) 3 colours. Take a vertex v such that dc(v) > 1.

If dc(v) = 2, take an edge xy, such that [formula]. If c(vx) = c(vy), take a vertex u such that c(vu)  ≠  c(vx) and then (uvxy) is a multicoloured copy of P4. If c(vx)  ≠  c(vy), take some vertex w∉{v,x,y}. Since dc(v) = 2, either c(vw) = c(vx) or c(vw) = c(vy), and then either (xyvw) or (yxvw), respectively, is a multicoloured copy of P4.

If dc(v) = 3 then since n  ≥  5 there is a colour a for which |Nc(v;a)|  ≥  2. Take x1,x2,y1,y2 such that c(vx1) = c(vx2) = a and a  ≠  c(vy1)  ≠  c(vy2)  ≠  a. Since c uses only 3 colours, c(x1y1) is either c(vy1), c(vy2) or a and then either (y1x1vy2), (x1y1vx2) or (x1y1vy2), respectively, is a multicoloured copy of P4.

Obviously, [formula]. For the upper bound, observe that in any edge-colouring c of Kn by at least 3 colours, there is, by Lemma [\ref=lem:2P_2], a multicoloured copy of 2P2, i.e., four distinct vertices x1,x2,y1,y2 such that c(x1x2)  ≠  c(y1y2). Take an edge z1z2 with another colour. We divide the rest of the proof to three cases. [formula]. In this case the three edges x1x2,y1y2,z1z2 form a multicoloured copy of [formula]. [formula]. c(x1y1) is different than the colour of at least one of the edges x1x2,y1y2, say x1x2. If c(x1y1)  ≠  c(z1z2) then [formula] is a multicoloured copy of [formula]. Therefore we may assume that c(x1y1) = c(z1z2), and similarly, that c(y1z1) = c(x1x2) and c(x2z2) = c(y1y2), but then [formula] is a multicoloured copy of [formula]. {z1,z2}  ⊂  {x1,x2,y1,y2}. With no loss of generality assume that {z1,z2}  =  {x2,y2}. Take a vertex u∉{x1,x2,y1,y2}. If c(ux1)∉{c(y1y2),c(x2y2)} then [formula] is a multicoloured copy of [formula], and if c(ux1) = c(x2y2) then [formula] is a multicoloured copy of [formula]. Therefore we may assume that c(ux1) = c(y1y2), and similaly that c(uy1) = c(x1x2), but then [formula] is a multicoloured copy of [formula].

Small graphs for which AR(n,G) = ⌊n / 2⌋ + 2

If c is an edge-colouring of Kn by exactly r colours and dc(v)  ≤  2 for any vertex v, then r  ≤   max {⌊n / 2⌋ + 1  ,  3}.

For any vertex v, |C(v)| = dc(v)  ≤  2, and for any distinct vertices v1,v2, [formula] (since [formula]). If [formula] then clearly r = 2. If [formula] then it is easy to see that r  ≤  3. Finally, if [formula] for some colour a then edges of different colours which are not a are necessarily disjoint, hence r  ≤  ⌊n / 2⌋ + 1.

It follows immediately from Lemma [\ref=stars] that for any n  ≥  4, AR(n,K1,3)  ≤  ⌊n / 2⌋ + 2. On the other hand, the colouring [formula] of Kn shows that AR(n,K1,3) > ⌊n / 2⌋ + 1, hence AR(n,K1,3) = ⌊n / 2⌋ + 2, as was proved in [\cite=J] (see [\eqref=eq:K_1k]).

To show that AR(n,Y) > ⌊n / 2⌋ + 1, we use the colouring [formula] of Kn. To show that AR(n,Y) > 4, colour the edges of some triangle by distinct colours, and all other edges of Kn by one additional colour.

Upper bound: Let c be any edge-colouring of Kn by at least max {⌊n / 2⌋ + 2  ,  5} colours. By Lemma [\ref=stars] there is a vertex u such that dc(u)  ≥  3.

If dc(u)  ≥  5, take vertices v1,v2,v3,v4,v5 such that c(uv1),c(uv2),c(uv3),c(uv4),c(uv5) are distinct. The colour c(v1v2) is different than at least one of the colours c(uv1),c(uv2) and at least two of the colours c(uv3),c(uv4),c(uv5). With no loss of generality, assume that c(v1v2) is different than c(uv2), c(uv3) and c(uv4). The edges v1v2,uv2,uv3,uv4 form a multicoloured copy of Y.

If dc(u) = 4 then since max {⌊n / 2⌋ + 2  ,  5} > 4 there is some edge v1v2 such that c(v1v2)∉C(u). Take vertices v3,v4 such that c(uv3),c(uv4) are distinct and different than c(uv1),c(uv2). The edges v1v2,uv2,uv3,uv4 form a multicoloured copy of Y.

If dc(u) = 3 then since n  ≥  5, there is at most one edge v1v2 such that |Nc(c(uv1),u)| = |Nc(c(uv2),u)| = 1. Therefore, there must be at least one edge v1v2 such that c(v1v2)∉C(u) and |Nc(c(uvi),u)|  ≥  2 for at least one i∈{1,2}, say i = 1. If c(uv1) = c(uv2), take vertices x1,x2 such that c(ux1),c(ux2) are the additional two colours in C(u); The edges v1v2,uv2,ux1,ux2 form a multicoloured copy of Y. If c(uv1)  ≠  c(uv2), take v1  ≠  y∈Nc(c(uv1),u) and a vertex z such that c(uz)∉{c(uv1),c(uv2)}; The edges v1v2,uv2,uy,uz form a multicoloured copy of Y.

To show that [formula] we use the colouring [formula] of Kn. To show that [formula] colour the edges of some cycle of length 4 by distinct colours, and all other edges of Kn by one additional colour.

Upper bound: We omit the proof for n = 6, which is a simple but tedious case analysis, and assume that n  ≥  7. Let c be any edge-colouring of Kn by at least max {⌊n / 2⌋ + 2  ,  6} colours. By Lemma [\ref=stars], there is a vertex u such that dc(u)  ≥  3.

If dc(u)  ≥  4, take v1,v2,v3,v4  ≠  u such that uv1,uv2,uv3,uv4 have different colours, and two additional vertices w,z∉{u,v1,v2,v3,v4}. At most one of the edges uv1,uv2,uv3,uv4, say uv4, is coloured by c(wz), and then the edges uv1,uv2,uv3,wz form a multicoloured copy of [formula].

If dc(u) = 3 and assume, by contradiction, that there is no multicoloured copy of [formula]. By what we just shown, it follows that dc(v)  ≤  3 for any vertex v. For any a∈C(u) such that |Nc(u;a)|  ≥  3, all edges of KNc(u;a) must be coloured by colours from C(u). For any a1,a2∈C(u) such that |Nc(u;a1)|,|Nc(u;a2)|  ≥  2, all edges in E(Nc(u;a1),Nc(u;a2)) must be coloured by colours from C(u). Combining all these we get, by a simple case analysis, that the total number of colours c uses is at most 6 if the multiset {|Nc(u;a)|}a∈C(u) is either {2,2,2} (when n = 7), {1,1,n - 3} or {1,2,n - 4}, and at most 5 otherwise. We then immediately get a contradiction if n  ≥  10, for which ⌊n / 2⌋ + 2 > 6. For 7  ≤  n  ≤  9, a further, simple but somewhat tedious, examination of the three cases mentioned above is needed.

A small graph for which AR(n,G) = n

The lower bound is established by colouring each edge {i,j} of [formula] by the colour min {i,j}.

Assume, by contradiction, that AR(n,Q) > n for some n  ≥  4. Take minimal such n, and an edge-colouring c of KV, |V| = n, by at least n colours with no multicoloured copy of Q. Since AR(n,C3) = n ([\cite=ESS], see [\eqref=eq:C_3]), there is a multicoloured triangle Δx1x2x3. Since there is no multicoloured copy of Q, c(uxi)∈{c(x1x2),c(x2x3),c(x3x1)} for any u∈V - {x1,x2,x3} and any 1  ≤  i  ≤  3. We get that KV - {x1,x2,x3} is edge-coloured by at least n - 3 colours with no multicoloured copy of Q. By the minimality of n we conclude that n - 3 < 4. Since the [formula] edges of KV - {x1,x2,x3} are coloured by at least n - 3 colours, we must have that n = 6 and that the three edges of the triangle KV - {x1,x2,x3} are coloured by 3 distinct colours, all different than c(x1x2),c(x2x3),c(x3x1). Adding any edge of E({x1,x2,x3},V - {x1,x2,x3}) to the triangle KV - {x1,x2,x3} we get a multicoloured copy of Q, and thus a contradiction.

Small graphs for which AR(n,G) = n + 1

The lower bound follows by using the colouring [formula] of Kn.

For the upper bound, let c be any edge-colouring of Kn by at least n + 1 colours. Take a set of maximal size of disjoint edges {ei}mi = 1 with distinct colours. Since AR(n,3P2) = n + 1 ([\cite=FKSS], see [\eqref=eq:tP_2]), we have that m  ≥  3. Let B be the set of edges whose colour is not in {c(ei)}mi = 1. By the maximality of m, any e∈B must have an endpoint in common with at least one of the edges {ei}mi = 1. We can now clearly get a multicoloured copy of [formula], unless m = 3 and every e∈B has both endpoints in the set S of endpoints of the edges e1,e2,e3. In this case, form a graph G by taking a single edge of each colour not in {c(e1),c(e2),c(e3)}. If G contains a copy H of [formula], we get a multicoloured copy of [formula] by adding to H any edge e of Kn disjoint to H (at least one of the endpoints of e is not in S, so e∉B, i.e., c(e)∈{c(e1),c(e2),c(e3)}). If G does not contain a copy of [formula], then a simple case analysis shows that G has only four vertices and five edges (so necessarily n = 7). For any 1  ≤  i  ≤  3, let xi,yi be the endpoints of ei, then with no loss of generality, the edges of G are x1y2,x1y3,y1y2,y1y3 and y2y3. Let u be the only remaining vertex. If either c(ux2)  ≠  c(x3y3) or c(ux3)  ≠  c(x2y2) then either [formula] or [formula] is a multicoloured copy of [formula], and if c(ux2) = c(x3y3) and c(ux3) = c(x2y2) then [formula] is a multicoloured copy of [formula].

Lower bound: To show that [formula] we use the colouring [formula] of Kn. To show that [formula], let u,x1,x2,y1,y2 be the vertices of K5; Colour each of the four edges ux1,ux2,uy1,uy2 by distinct colours, the edges x1x2,y1y2 by a fifth colour, and all other edges by a sixth colour.

Upper bound: Let c be any edge-colouring of Kn by at least r: =  max {n + 1,7} colours. Since AR(n,C3) = n ([\cite=ESS], see [\eqref=eq:C_3]), there is a multicoloured triangle Δx1x2x3.

If [formula], then there is at least one edge e such that [formula]. In particular, e is disjoint to the triangle Δx1x2x3 and c(e)∉{c(x1x2),c(x2x3),c(x3x1)}, so [formula] is a multicoloured copy of [formula]. If [formula] then there must be some vertex x4∉{x1,x2,x3} such that |{c(xixj)}1  ≤  i < j  ≤  4|  ≥  5.

If |{c(xixj)}1  ≤  i < j  ≤  4| = 6, then since r  ≥  7 there must be at least one edge e such that c(e)∉{c(xixj)}1  ≤  i < j  ≤  4. At most one of x1,x2,x3,x4, say x1, is an endpoint of e and then [formula] is a multicoloured copy of [formula].

If |{c(xixj)}1  ≤  i < j  ≤  4| = 5, then at most one of the triangles Δx2x3x4,Δx1x3x4,Δx1x2x4,Δx1x2x3, say Δx2x3x4, is not multicoloured. We now consider two cases. Case 1. There is an edge e not incident with x1 such that c(e)∉{c(xixj)}1  ≤  i < j  ≤  4. At least one of the multicoloured triangles Δx1x3x4,Δx1x2x4,Δx1x2x3 is disjoint to e and then this triangle with the edge e form a multicoloured copy of [formula]. Case 2. x1 is incident with any edge e such that c(e)∉{c(xixj)}1  ≤  i < j  ≤  4. Since r  ≥  7 there must be at least two such edges x1y1,x1y2 with distinct colours. If c(y1y2)∈{c(x1y1),c(x1y2)} then [formula] is a multicoloured copy of [formula]. If c(y1y2)∉{c(x1y1),c(x1y2)}, then the colour of at least one of the three edges x2x3,x3x4,x4x2, say x2x3 is not c(y1y2), and then [formula] is a multicoloured copy of [formula].

In the proofs below we use the following notion.

The lower bound follows by using the colouring [formula] of Kn.

The upper bound is proved by induction on n. For the base case n = 6, consider any edge-colouring of K6 by at least 7 colours. Since AR(6,3P2) = 7 ([\cite=HY], see [\eqref=eq:perfect]), there is a multicoloured copy of 3P2. This copy together with any edge coloured in any of the remaining colours form a multicoloured copy of [formula].

Now let n  ≥  7, assume that [formula], and consider any edge-colouring c of Kn by at least n + 1 colours. If there exists a vertex v having less than two v-colours, then removing v along with its incident edges from the graph, at most one colour disappears from the graph, and the claim follows by the induction hypothesis. Therefore we assume that every vertex v in the graph has at least two v-colours.

Let u,x1,x2 be vertices such that c(ux1),c(ux2) are two distinct u-colours, and let y∉{u,x1,x2} be some other vertex. Since there are at least two y-colours, there is some z  ≠  u such that c(yz) is a y-colour. If z∉{x1,x2}, let w∉{u,x1,x2,y,z} be another vertex, then [formula] is a multicoloured copy of [formula]. If z∈{x1,x2}, say z = x1, let v1,v2∉{u,x1,x2,y} be two other vertices, then [formula] is a multicoloured copy of [formula].

The lower bound follows by using the colouring [formula] of Kn.

The upper bound is proved by induction on n. For the base case n = 5, let c be any edge-colouring of K5 by at least 6 colours. Since AR(n,C3) = n ([\cite=ESS], see [\eqref=eq:C_3]), there is a multicoloured triangle Δx1x2x3. Let y1,y2 be the remaining two vertices. If c(y1y2)∉{c(x1x2),c(x2x3),c(x3x1)}, let xiyj, 1  ≤  i  ≤  3, 1  ≤  j  ≤  2 be an edge such that c(xiyj)∉{c(x1x2),c(x2x3),c(x3x1),c(y1y2)}. With no loss of generality assume that i = 3 and j = 1, then (x1x2x3y1y2) is a multicoloured copy of P5. If c(y1y2)∈{c(x1x2),c(x2x3),c(x3x1)}, say c(y1y2) = c(x1x2), then since there are at least three edges whose colours are not in {c(x1x2),c(x2x3),c(x3x1)}, one of those edges must be in E({x1,x2},{y1,y2}), say x1y2, and then (y1y2x1x2x3) is a multicoloured copy of P5

Now let n  ≥  6, assume that AR(n - 1,P5)  ≤  n, and consider any edge-colouring c of Kn by at least n + 1 colours. If there is a vertex v having less than two v-colours, then removing v along with its incident edges from the graph, at most one colour disappears from the graph, and the claim follows by the induction hypothesis. Therefore we assume that every vertex v has at least two v-colours.

Let u,x1,x2 be vertices such that c(ux1),c(ux2) are two distinct u-colours, and let y∉{u,x1,x2} be some other vertex. If there is a vertex z∉{u,x1,x2,y} such that c(yz) is a y-colour, then (x1ux2zy) is a multicoloured copy of P5. Otherwise, all the edges having a y-colour are among the edges yu,yx1,yx2, so at least one of c(yx1),c(yx2), say c(yx2), is a y-colour. Let z∉{u,x1,x2,y} be some other vertex, then (zx1ux2y) is a multicoloured copy of P5.

For the proof of our last result, Proposition [\ref=propos:2P_3] below, we need the following lemma.

AR(7,2P3)  ≤  8

Let c be any edge-colouring of K7 by at least 8 colours. Assume first there is a vertex u such that dc(u) = 6. There must be three other vertices v1,v2,v3 such that c(v1v2)  ≠  c(v2v3) and c(v2v3)∉C(u). Let w1,w2,w3 be the remaining vertices. At most one of the edges uw1,uw2,uw3, say uw2, is coloured by c(v1v2), then [formula] is a multicoloured copy of 2P3.

We now assume dc(u) < 6 for any vertex u. Since [formula], by Proposition [\ref=propos:C_3P_2], there is a multicoloured triangle Δx1x2x3, and at least one edge disjoint to it whose colour a is not in {c(x1x2),c(x2x3),c(x3x1)}. Let y1,y2,y3,y4 be the remaining vertices. If not all six edges {yiyj}1  ≤  i < j  ≤  4 are coloured by a, then in K{y1,y2,y3,y4} there are surely two adjacent edges e1 and e2 such that c(e1) = a  ≠  c(e2). At most one of the edges of the triangle Δx1x2x3 is coloured by c(e2) and then the other two edges of the triangle, together with e1 and e2 form a multicoloured copy of 2P3. We therefore assume all six edges {yiyj}1  ≤  i < j  ≤  4 are coloured by a. There are at least four edges in E({xi}1  ≤  i  ≤  3,{yj}1  ≤  j  ≤  4) having distinct coloures not in {c(x1x2),c(x2x3),c(x3x1),a}, and since dc(xi) < 6 for any 1  ≤  i  ≤  3, two of those edges must be disjoint. With no loss of generality assume these are x2y2 and x3y3, then [formula], for example, is a multicoloured copy of 2P3.

Lower bound: To show that AR(n,2P3) > n, we use the colouring [formula] of Kn. To show that AR(n,2P3) > 7, colour the edges between some four vertices by six distinct colours, and all other edges by one additional colour.

Upper bound: To show that AR(6,2P3)  ≤  8, consider any edge-colouring of K6 by at least 8 colours. Since AR(6,3P2) = 7 ([\cite=HY], see [\eqref=eq:perfect]), there is a multicoloured copy of 3P2. Form a graph by adding to those three edges a single edge of each of the remaining colours. It is easy, but a bit tedious, to check that this graph must contain a copy of 2P3 (which is obviously multicoloured).

For n  ≥  7, we prove that AR(n,2P3)  ≤  n + 1 by induction on n. Lemma [\ref=lem:2P_3] takes care of the base case n = 7. Let n  ≥  8, assume that AR(n - 1,2P3) = n, and consider any edge-colouring c of Kn by at least n + 1 colours. If there exists a vertex v having less than two v-colours, then removing v along with its incident edges from the graph, at most one colour disappears from the graph, and the claim follows by the induction hypothesis. Therefore we assume that every vertex v has at least two v-colours.

Let u,x1,x2 be vertices such that c(ux1),c(ux2) are two distinct u-colours. If there are vertices y,z∉{u,x1,x2} such that c(yz) is a y-colour, let w∉{u,x1,x2,y,z} be some other vertex, then [formula] is a multicoloured copy of 2P3. We therefore assume that for every vertex y∉{u,x1,x2}, all the edges having a y-colour are among the edges yu,yx1,yx2.

Since there are at least 3 vertices other than u,x1,x2, and each vertex y∉{u,x1,x2} has at least two y-colours, there must be, by the pigeonhole principle, at least two vertices y1,y2∉{u,x1,x2}, and an i∈1,2 such that c(y1xi) is a y1-colour and c(y2xi) is a y2-colour. With no loss of generality assume that i = 1, and let w∉{u,x1,x2,y1,y2} be another vertex, then [formula] is a multicoloured copy of 2P3.