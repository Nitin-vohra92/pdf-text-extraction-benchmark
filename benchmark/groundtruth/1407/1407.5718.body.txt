Distributed Cross-layer Dynamic Route Selection in Wireless Multiuser Multihop Networks

Introduction

ad-hoc networks (MANETs) are formed by a number of mobile nodes communicating with each other over wireless channels without a pre-established infrastructure. These nodes can dynamically organize arbitrary ad-hoc network topologies. As the transmission range of devices are often limited, the packets may need to be forwarded by one or more intermediate relays before they reach their destinations. This paper focuses on designing distributed route selection strategies that aim at maximizing the quality of service (QoS) constrained network throughput, while taking into account both buffers and channels conditions in a cross-layer manner.

Research from network and information theory perspectives has led to a number of relaying schemes in MANETs [\cite=Gastpar] [\cite=Draves] [\cite=Laneman] [\cite=Wang]. In [\cite=Laneman] and [\cite=Wang], the authors consider spectral efficiency as a performance measure to select a desired route from one source to a destination in wireless networks without taking into account the effect of other users requesting service in the network. They assume that data is transmitted by the source and forwarded by the intermediate relays without a store and wait stage. Other transmission schemes are proposed in [\cite=Goldsmith2] [\cite=Goldsmith3] [\cite=Mardani] in which the nodes store data in their buffers, and employ adaptive modulation and coding (AMC) and automatic repeat request (ARQ) to enhance network throughput. The trade-off between delay, diversity and multiplexing in a multihop wireless network with ARQ is studied in [\cite=Goldsmith2]. The problem of finding the path with the minimum end-to-end outage probability from one source to a destination is studied in [\cite=Babaee].

The selection of a route and corresponding relays for transmission between one specific source and destination pair, may affect the communication of other nodes. Hence, the existence of other source destination pairs in the network and the varying nature of wireless networks indicate that the routes and relays are to be assigned dynamically to guarantee the QoS requirements. Multipath routing decreases the effect of unreliable wireless links in a constantly changing topology and improves QoS of MANETs [\cite=Nasipuri] [\cite=Harms] [\cite=Mueller] [\cite=Dhaka] [\cite=Ai]. In fact, starting from single path routing, significant performance gains are achieved by employing a limited number of additional paths, beyond which the potential gain diminishes [\cite=Nasipuri]. In addition, providing alternative paths to intermediate nodes is more advantageous than doing that only to the source node [\cite=Nasipuri]. Multipath routing can also help distribute the transmission load more evenly, which is vital to protect wireless nodes from power depletion [\cite=Harms]. Multipath transmission from one source node to multiple destinations with the aid of multiple relays is considered in [\cite=Melo]. At each instant, the source node chooses a destination for transmission and selects an intermediate relay node to forward the packet. The destination receives both signals transmitted by the source and relay, and uses a selective combining strategy to decode the signal. The authors in [\cite=Ronasi] applied a combination of multipath routing and adaptive channel coding to improve delay and throughput performance of a wireless network. In [\cite=Tsirigos], a multipath routing scheme is proposed for transmission over unreliable wireless ad-hoc links that increases the probability of successful reception for the essential part of information at the destination node.

In this paper, we propose two new cross-layer dynamic route selection schemes for a multiuser multihop ad-hoc network. The proposed schemes distributedly direct information between source destination pairs through varying scheduled routes. As we demonstrate, the proposed schemes enhance the overall throughput of the network and help meet the QoS requirements. The optimized designs in fact involve physical, MAC, and network layers. To the best of our knowledge, this is the first work which considers cross-layer resource allocation across the three layers in a general multihop ad-hoc network. The opportunistic cross-layer dynamic route selection (OCDR) efficiently and dynamically assigns routes to source-destination pairs based on the state of network nodes' buffers and the instantaneous condition of fading channels. The proposed time division cross-layer dynamic route selection (TCDR) schedules the assignment of varying routes within the same framework, but utilizing the average link qualities instead. In both schemes, the nodes exchange their average service rate information with one hop neighbors, which also reflect their buffers conditions. The nodes then identify the optimum dynamic route selection plan for forwarding data toward destinations in a distributed manner.

The remainder of this paper is organized as follows. We introduce the system model in Section II. Section III presents our proposed dynamic route selection schemes. The simulation results are presented in Section IV. Finally, Section V concludes the paper.

Preliminaries

Consider multiuser multihop transmission in a network consisting of K source-destination pairs that communicate through intermediate relays. The equivalent two-hop model is considered in [\cite=kamal0]. We consider L hop transmission with M relaying nodes at each hop. The source, destination, and relays at hop l∈{1,2,...,L} are identified by [formula], [formula], and [formula], respectively. The source nodes forward their data to relays in the first hop. On the path from source to destination, the relays in hop l∈{2,3,...,L - 1} receive data from relays in hop l - 1, store data of each source in a distinct buffer, and forward the data to relays in hop l + 1. The relays in the last hop (L) deliver the data packets of each source node to its destination node. A decode and forward protocol is assumed at the relays. The objective is to maximize the weighted sum-rate of communications between source destination pairs. The QoS requirement is quantified by a probabilistic end-to-end delay constraint and its associated packet loss rate. Figure [\ref=Network] shows the system model, in which the buffers at the relays are omitted for brevity. For simplified presentation, we define [formula].

Channel Model

The channels are assumed non-selective, block Rayleigh fading and signals also suffer path loss. Channel time is divided into time slots of duration T, where channel gain during a time slot is constant but varies independently between two consequent time slots. At each time slot, the channel state information (CSI) to every next hop neighboring node is perfectly estimated, and reliably fed back to the node without delay. Each node has access to independent bandwidth W in which it transmits with fixed power P. It is assumed that given the channel SNR in time slot t, γ(t), the AMC scheme can achieve the instantaneous capacity of the link. Let [formula] denote the channel gain of the link between nodes i and j at time slot t. The capacity between nodes i and j at time slot t is given by

[formula]

where N0 is the gaussian noise power density and [formula] is the instantaneous SNR of received signal at node j from node i at time slot t. For Rayleigh fading, the probability density function (PDF) of γij is

[formula]

where ij is the average received SNR of the link between nodes i and j.

Queuing Network Model

The packets arrive at the source node k∈S as a Poisson process with average ρk. We assume that the random service time process in each node, which depends on the state of Rayleigh fading channel, as an approximation to be i.i.d exponential [\cite=Goldsmith2]. This approximation makes the multiuser input, multiuser output, multihop network problem tractable. Packets depart from a node and arrive at the next hop node as Poisson processes [\cite=Bolch]. Thus, we can use an M / M / 1 queue to model packet delay of each source node at source and any of the intermediate relays. Let μik denote the average service rate at node i for data of source node k, and μijk be the average service rate at node i to next hop node j for data of source node k. We have [formula]. Let ρik be the average arrival data rate of source k at node i and ρijk be the average data rate of source k that node i forwards to next hop node j. Note that ρk  =  ρkk,k∈S is the average arrival data rate at source k, and [formula]. If the packet loss rate of source k at node i is small, we have

[formula]

When the queue is stable, i.e., ρik  <  μik, the probability that delay at node i for data of source k, Dik, exceeds a deadline D*ik is given by [\cite=Goldsmith2]

[formula]

If ε*ik  ≪  μik  /  ρik, we have

[formula]

Problem Formulation

As a QoS requirement, we consider a limited probability of violating the delay bound. In other words, the probability that end-to-end delay of source k packets exceed D*k is to be smaller than a threshold. To achieve this goal, we can limit the delay of source k at each node i (on the path from source to destination) to D*ik, such that [formula] [\cite=Goldsmith3]. Thus, the packets of source k are removed from the queue in node i if they are not transmitted before the deadline D*ik. Similarly, to achieve the end-to-end packet loss rate ε*k for data of source k, we restrict packet loss rate due to delay violation at node i (on the path from source to destination) to ε*ik, such that [formula].

The objective in this work is to maximize the weighted sum arrival rate at the source nodes, while the end-to-end delay violation probability (and its associated packet drop rate) is constrained. This design problem may be formulated as follows

[formula]

where fk is the assigned weight to data rate of source k.

Cross-Layer Dynamic Route Selection

In cross-layer dynamic route selection data is transmitted between source-destination pairs through dynamic routes. This is in contrast to static routing where a fixed multihop link is established between source-destination pairs. The proposed cross-layer dynamic route selection schemes at the MAC layer schedule the assignment of relays in different hops based on the associated channel and buffer conditions. As we shall demonstrate, the proposed schemes enhance the overall throughput of the network and help meet the diverse QoS requirements.

Opportunistic Cross-layer Dynamic Route Selection

In the proposed opportunistic cross-layer dynamic route selection (OCDR), the path for data transmission is dynamically adjusted based on the instantaneous condition of fading channels and the traffic loads of network nodes. In each time slot, each node transmits over the link with the highest instantaneous weighted SNR in comparison with other possible links for transmission. The assigned weights for the SNR of each link are adjusted to meet the QoS requirements of users in the network.

Let Ui denote the set of next hop nodes for node i∈S,RL1. At time slot t, node i chooses to transmit to the next hop node [formula], if

[formula]

where Φij(t) is the priority function in node i for transmission to next hop node j∈Ui at time slot t. If multiple links have the same value of Φij(t), one of them is selected randomly. We define

[formula]

where βij, are set as described below. While next hop node j is selected for transmission at node i, the allocated fraction of time to transmit data of source k∈S is αijk. Thus, when next hop node j is selected for transmission at node i, data of source node k is transmitted with probability

[formula]

where [formula]. Using ([\ref=1]), ([\ref=2]), ([\ref=10]), ([\ref=11]), and ([\ref=11a]), the average data rate that can be transmitted from node i to node j∈Ui for source node k can be computed as

[formula]

Based on [\eqref=7], ([\ref=8]), ([\ref=9]) and ([\ref=91]), the QoS constraint of source k at node i imposes a limit on the corresponding arrival rate as follows,

[formula]

Every node in the network restricts its transmitted data rate to each next hop node to avoid QoS violation at all subsequent hops on the path to the destination. These constraints determine the maximum data that node i can forward for source k∈S. Let ijk denote the maximum data rate for source k that node i can forward to next hop node j such that all QoS constraints at j and all subsequent hops to destination are satisfied. Also, let ρ*ik denote the maximum arrival data rate of source k to node i such that QoS constraint at node i and all subsequent hops to destination are satisfied. Therefore, we have

[formula]

where Vi denotes the set of previous hop nodes of node i. At a last hop relay node i∈RL,

[formula]

and

[formula]

In any other intermediate relay or source node [formula], we have

[formula]

and

[formula]

The right hand side of ([\ref=17]) reflects the QoS constraint at node i and all other subsequent hop nodes to destination. Therefore, to satisfy the QoS constraints, the arrival data rate of source k is to be limited to

[formula]

Using ([\ref=16a]), ([\ref=17]), and ([\ref=18]), the problem ([\ref=9]) may be rewritten as an unconstrained optimization problem for maximizing F with respect to design parameters {βij} and {αijk} as

[formula]

Every relay periodically (with period T1) calculates the maximum arrival data rate that it can forward for each source using ([\ref=16a]) or ([\ref=17]), and restricts the maximum arrival data rate from each node in the previous hop accordingly. Specifically, node i determines the maximum arrival data rate for source k from node y in the previous hop as follows,

[formula]

Also, source nodes set their average data rate based on ([\ref=17]) and ([\ref=18]), periodically with period T1. We use gradient descent optimization to iteratively optimize {βij} and {αijk} at the relays and source nodes. One important advantage of using this optimization method is that it can be implemented in a distributed way, which is appropriate for MANETs without any central control unit. Node i updates αijk and βij periodically with periods T1 and T2, respectively as follows

[formula]

[formula]

where n and m and θα and θβ are the corresponding iteration numbers, and gradient decent step sizes. According to ([\ref=18]) and ([\ref=19]), we have

[formula]

[formula]

According to ([\ref=19]), at node i,

[formula]

and

[formula]

where ∂ρ*ik  /  ∂αijk and ∂ρ*ik  /  ∂βij can be easily computed using ([\ref=13]), ([\ref=16a]), and ([\ref=17]). Algorithm [\ref=OCDR] summarizes the proposed OCDR scheme. We choose T2  >    > T1  >    > T to ensure that a node has correctly estimated the arrival rate from previous hop nodes when updating its routing parameters.

Time Division Cross-layer Dynamic Route Selection

In the proposed time division cross-layer dynamic route selection (TCDR), each node assigns a fraction of time for transmission to next hop node based on the average quality of links. Let αijk' denote the fraction of time that node i forwards data of source k to node j in the next hop. Thus, node i forwards data of source k to its next hop node j∈Ui with probability

[formula]

where [formula]. According to ([\ref=1]), ([\ref=2]), and ([\ref=25]) the average data rate that can be transmitted from node i to node j∈Ui for source node k can be computed as

[formula]

The service rate at node i for data of source k, μik and the maximum arrival data rate of source node k to node i (such that all the QoS constraints at node i and all subsequent hops to destination are satisfied),ρ*ik, are given by ([\ref=16])-([\ref=17]). Using ([\ref=16a]), ([\ref=17]), and ([\ref=18]), the problem ([\ref=9]) can be rewritten as an unconstrained optimization problem for maximizing F with respect to design parameters {α'ijk} as

[formula]

A relay node i∈Rl1 periodically (with period T1) computes the maximum arrival data rate that it can forward for each source node using ([\ref=16a]) or ([\ref=17]), and restricts the maximum arrival data rate from each previous hop node y∈Vi according to ([\ref=24]). A source node k∈S sets their average data rate based on ([\ref=17]) and ([\ref=18]), periodically with period T1. Similar to OCDR, in TCDR, we use gradient decent optimization to iteratively update α'ijk at source nodes and relays. Node [formula] updates α'ijk for all j∈Ui and k∈S, periodically with period T1, as follows

[formula]

where n is the iteration number and θα' is the gradient decent step size. According to ([\ref=18]) and ([\ref=39]), we have

[formula]

Based on ([\ref=39]), at node i,

[formula]

where ∂ρ*ik  /  ∂α'ijk can be easily computed using ([\ref=16a]), ([\ref=17]), and ([\ref=26]). Algorithm [\ref=TCDR] summarizes the proposed TCDR scheme. We choose T1  >    > T to ensure that a node has enough time to estimate its arrival rate from previous hop nodes before updating its routing parameters. The simulation results show that OCDR provides a higher performance compared to TCDR. However, TCDR does not need access to instantaneous channel SNRs and changes the routes only periodically. Therefore, TCDR has a lower implementation complexity.

Performance Evaluation

We consider multihop transmission in a one dimensional network. The linear network model for N = M = 2 and L = 1,2 is illustrated in Figure [\ref=LN]. We use standard path loss model to model signal attenuation over each link. Thus the average channel gain between nodes i and j is ij = cd-  δij, where c is a constant, dij is the distance between nodes i and j, and δ is the path loss exponent. We set [formula], δ = 3, and [formula]. The maximum tolerable delay in each queue, D*ik, and the packet loss rate threshold in node i for data of source k, ε*ik, are set at [formula] and 10- 6, respectively. The benchmark for comparison is the maximum possible weighted sum-rate performance, by static assignment of one relay in each hop to each source destination pair. This is obtained by examining all possible relay assignment scenarios, while the QoS constraints are satisfied.

Two hop network

Consider two-hop transmission in a network consisting of two source-destination pairs and two intermediate relays (K = M = 2,L = 1). Figure [\ref=LN2] shows the network model. The first source and destination pair are positioned at dS1 = 0 and dD1 = 1, respectively. The second source and destination pair are positioned at dS2 = 0.2 and dD2 = 0.8, respectively. Relays are positioned at dR1 and dR2. The relays positions vary such that 0.3  ≤  dR1  ≤  0.7 and 0.3  ≤  dR2  ≤  0.7. We aim to maximize the sum-rate, i.e., we set f1 = f2 = 1.

Figure [\ref=2P] shows the sum-rate performance as a function of the relays positions for OCDR, TCDR, and the benchmark scheme. According to Figure [\ref=2P], the sum-rate is maximized in each of the schemes (OCDR, TCDR, or benchmark) when relay nodes are positioned at points dR1 = 0.5 and dR2 = 0.5, which corresponds to the situation that the channel quality of first and second hops are identical for each source-destination pair. While fixed relay assignment (benchmark) provides very poor performance when channel quality of links are diverse, the proposed OCDR and TCDR schemes provide significantly higher performance by taking advantage of transmitting data through dynamic routes. Figures [\ref=fig6] and [\ref=fig7] illustrate the sum-rate performance gains of OCDR and TCDR with respect to the benchmark, respectively. On average, OCDR and TCDR provide 32% and 11% performance gain, however, this gain may reach 60% and 40% depending on the relays positions. The sum-rate performance gain of OCDR with respect to TCDR is shown in Figure [\ref=fig8]. The OCDR when compared to TCDR enhances the weighted sum-rate performance by up to 32% depending on the relays positions. This comes at the cost of instantaneous channel state information and higher implementation complexity. Indeed, the proposed TCDR scheme only requires the average quality of links and alternates the data transmission path periodically.

Three hop network

In this Subsection, we evaluate the performance of the proposed schemes for three-hop transmission in a linear network consisting of two source-destination pairs and four intermediate relays (K = M = 2,L = 2). The network model is illustrated in Figure [\ref=LN3]. The source nodes are placed at dS1 = dS2 = 0 and destination nodes are placed at dD1 = dD2 = 1. First hop relays are R1 and R2 and second hop relays are R3 and R4, which are positioned at dR1, dR2, dR3, and dR4, respectively.

Figure [\ref=3P] shows the sum-rate performance (f1 = f2 = 1) versus relays position for OCDR, TCDR, and the benchmark scheme, when dR1 = 0.2, 0.1  ≤  dR2  ≤  0.5, dR3 = 0.7, and 0.5  ≤  dR4  ≤  0.9. The maximum sum-rate in each scheme corresponds to the situation that the link quality of hops are identical, i.e., dR2 = 0.1 and dR4 = 0.7. When the quality of links are diverse, the static relay assignment (benchmark) provides a very poor performance. However, the proposed OCDR and TCDR schemes provide significantly higher performance by directing data through multiple dynamic routes to destinations. Figures [\ref=fig13] and [\ref=fig14] illustrate the sum-rate performance gains of OCDR and TCDR with respect to the benchmark. Also, the sum-rate performance gain of OCDR with respect to TCDR is shown in Figure [\ref=fig14N2]. According to Figure [\ref=3G], the performance gain of proposed OCDR and TCDR schemes with respect to the benchmark may reach 55% and 30% depending on relays positions.

Effect of weights

In this Subsection, we evaluate the impact of weights on the average data rate of each source destination pair in a three-hop linear network as illustrated in Figure [\ref=LN3]. The source nodes are placed at dS1 = dS2 = 0 and destination nodes are placed at dD1 = dD2 = 1. The four relays are randomly positioned in the range

[formula]

Conclusions

In this paper, we present two new cross-layer dynamic route selection schemes for multiuser multihop transmission in wireless ad-hoc networks. The proposed schemes set up the routes between source-destination pairs in a cross-layer optimized manner, which takes into account the buffer status of network nodes and the instantaneous condition of fading channels or the average link qualities. The proposed schemes are distributed. Nodes exchange routing information with single hop neighbors and iteratively adjust the routing parameters to optimize the network performance. The simulation results show the effectiveness of our proposed dynamic route selection schemes in comparison with conventional fixed routing.