On the Order of Countable Graphs

Department of Applied Mathematics and Institute for Theoretical Computer Science (ITI) Charles UniversityMalostranské nám.25, 11800 Praha 1 Czech Republic Email: nesetril@kam.ms.mff.cuni.cz Hebrew University, Jerusalem

Institute of Mathematics The Hebrew University of Jerusalem Jerusalem 91904, Israel and Department of Mathematics Rutgers University New Brunswick, NJ 08854, USA Email: shelah@math.huji.ac.il

Introduction and Statement of Results

Given graphs G  =  (V,E),G'  =  (V',E') a homomorphism is any mapping V  →  V' which preserves all the edges of G:

[formula]

This is briefly denoted by f:G  →  G'. The existence of a homomorphism we indicate by G  →  G' and in the context of partially ordered sets this will be also denoted by G  ≤  G'. ≤   is obviously a quasiorder.

≤   is a very rich quasiorder which have been studied in several context, see [\cite=N4] for a survey of this area. For example it has been shown (and this also not difficult to see) that any poset may be represented by ≤  ; see [\cite=PT] [\cite=N2] for less easy results in this area. A particular case is an independent set of graphs which is can be defined as an independent set (or antichain) in this quasiorder. Here we are interested in a seemingly easy question:

Independence Problem (shortly IP):

Given a set {Gι;ι∈I} of graphs does there exist a graph G such that {Gι;ι∈I} together with G form an independent set of graphs.

This problem has been solved for finite sets of (finite or infinite) graphs in [\cite=N1] [\cite=N2]. The general case is much harder and it is relative consistent to assume the negative solution (this is related to Vop enka Axiom, see [\cite=ka] [\cite=N2]).

In this paper we discuss IP for countable graphs.

We prove the following:

For every countable graph G the following two statements are equivalent:

i. there exists a countable graph G' such that G and G' are independent.

ii. G is not bipartite and it does not contain an infinite complete subgraph.

Both conditions given in ii. are clearly necessary. The non-bipartite comes from the general (cardinality unrestricted) independence problem as the only finite exception and the absence of an infinite clique is due to the cardinality restriction.

This modestly looking result (which we could call Partnership Theorem: non-bipartite countable graphs without Kω have independent partners) has a number of consequences and leads to several interesting problems. First, we want to mention that the above result (and the IP) is related to universal graphs.

Let K be a class of graphs. We say that a graph U∈K is hom-universal (with respect to K) if G  ≤  U for every G∈K, [\cite=NR].

Note that a graph U may be hom-universal with respect to a class K without being universal (in the usual sense: any graph from K is a subgraph of U; see [\cite=jo] [\cite=JO] [\cite=ra] [\cite=KP] [\cite=KMP] for an extensive literature about universal graphs). For example the triangle K3 is hom-universal for the class K of all 3-colorable graphs and obviously this class does not have a finite universal graph. On the other hand clearly any universal graph is also hom-universal.

Let GRAω denotes the class of all countable non-bipartite graphs without an infinite complete subgraph (which is denoted by Kω). It is well known that the class GRAω does not have a universal graph. The same proof actually gives that GRAω has no hom-universal graph. (Here is a simple proof which we sketch for the completeness: Suppose that U is hom-universal for GRAω. Denote by [formula] the graph which we obtain from U by addition of a new vertex x joined to all the vertices of U. Then there exists [formula]. Define the vertices [formula] by induction: x0  =  x,xi + 1  =  f(xi) It is easy to see that all these vertices form a complete graph in U.)

Theorem [\ref=one] is a strengthening of the non-hom-universality of GRAω. In fact Theorem [\ref=one] is best possible in the following sense:

For a positive integer t the following two statements are equivalent:

i. For every finite set [formula] of graphs from GRAω there exists a graph G∈GRAω such that G and Gi are independent for all [formula].

ii. t = 1.

There are many examples proving i.  ⇒  ii.. For example consider the complete graph Kn and let Un be any universal (and thus also hom-universal) countable Kn-free graph (Un exists by [\cite=hen]). Then the set {Kn,Un} cannot be extended to a larger independent set as every graph G either contains Kn or is homomorphic to Un.

An example for t  >  2 consists from an independent set of finite graphs [formula] and a countable graph U, [formula] which is universal for all graphs G satisfying [formula]. Such a graph exists by [\cite=CSS] [\cite=N3]. (Note also that an analogous result does not hold for infinite sets. To see this let Gi  =  C2i + 3 be the set of all cycles of odd length. Then there is no G which is independent of all graphs Gi.)

Theorem [\ref=one] is in the finite (or cardinality unrestricted) case also known as (Sparse) Incomparability Lemma [\cite=NR] [\cite=N4]. We can formulate this as follows:

For any choice of graphs G,H, G non-bipartite, satisfying [formula] there exists a graph G' such that [formula] and such that G and G' are independent.

If G has a finite chromatic number then G' may be chosen finite.

(The last part of Theorem [\ref=three] may be seen as follows (sketch): If χ(G)  =  k then take G'' with χ(G'')  >  k and without cycles ≤  l such that G contains an odd cycle of length ≤  l. Then G and G'' are independent. If χ(G') is large then also graphs G and G''  ×  H are independent, see [\cite=N1].)

We do not know whether Theorem [\ref=three] holds if all the graphs are supposed to be countable. Partial results are included in Section 5.

Theorem [\ref=one] is also related to the notion of a rigid graph: A graph G is said to be rigid if its only homomorphism G  →  G is the identical mapping. We shall prove the following:

For any countable graph G not containing Kω there exists a countable rigid graph G' containing G as an induced subgraph.

The history of this result goes to [\cite=CHKN] (the finite case), to [\cite=BN] (the unrestricted cardinality case), and to [\cite=NR] (the optimal chromatic number for the finite case). Theorem [\ref=four] solves an open problem proposed in [\cite=NR].

Finally, let us mention that Theorem [\ref=one] is related to the concept of density.

Given a class K of graphs and two graphs G1,G2∈K, G1  <  G2, we say that the pair (G1,G2) is a gap in K if there is no G∈K satisfying G1  <  G  <  G2. The density problem for class K is the problem to characterize all gaps in K. (If there are a "few" gaps then we have a tendency to say that class K is dense; see [\cite=NT] [\cite=N1] [\cite=N2].)

Our theorem has the following corollary:

Any pair (G,Kω) fails to be a gap in the class of all countable graphs.

Let G  <  Kω, G∈GRAω, be given. According to Theorem [\ref=one] there exists G'∈GRAω such that [formula]. Then we have G  <  G  +  G'  <  Kω.

Note that we used the easier part of Theorem [\ref=one]. This is being discussed below and some particular positive examples of the density of the class GRAω are stated. However the characterization of all gaps for the class GRAω remains an open problem. In the class GRAω there are infinitely many gaps. This is in a sharp contrast with finite graphs where the trivial gap (K1,K2) is the only gap, see [\cite=NT].

The paper is organized as follows: In Section 2 we give some no-homomorphism conditions which will aid us in Section 3 in Proof of Theorem [\ref=one]. In Section 4 we define high and low graphs and show their relationship to the independence problem. In Section 5 we prove Theorem [\ref=four]. In Section 6 we give structural conditions which allow us to prove that certain graphs are high and thus generalize Theorems [\ref=one] and [\ref=four] to other graphs H than Kω. We also modify the proof of Theorem [\ref=one] to this setting. This yields a more direct proof and allows us (at least in principle) to hunt for partners. We find classes of graphs where independent extension property holds. Section 7 contains some remarks and problems.

Necessary conditions for the existence of a homomorphism

Given two graphs G1,G2 it is usually not easy to prove that [formula]. We shall use the following two basic facts:

Suppose G1  →  G2. Then

i. If G1 contains an odd cycle of length < l then also G2 contains an odd cycle of length < l.

ii. χ(G1)  ≤  χ(G2) (where χ denotes the chromatic number).

To this well known list (which cannot be much more expanded even in the finite case) we add the rank function which we are going to introduce as follows:

Let G  =  (V,E) be a graph in GRAω. By Kn we denote the complete graph on [formula]. Consider the set h(Kn,G) of all homomorphisms Kn  →  G and denote by TG the union of all the sets [formula]. We think of TG as a (relational) tree ordered by the relation f  ⊆  g.

It is clear and well known that

i. TG is a relational tree;

ii. TG has no infinite branches.

iii. We can define ordinal rk(TG)  <  ω1 the ordinal rank function of TG.

(For completeness recall the definition of the ordinal rank function: For a tree T without infinite branches rk(T) is defined as  sup{rk(Tι) + 1} over all branches of T at the root.) Put rk(G)  =  rk(TG). We have the following (perhaps folkloristic):

If G1  ≤  G2 then rk(G1)  ≤  rk(G2).

Let f:G1  →  G2 be a homomorphism. Then for every n we have a natural mapping h(f):h(Kn,G1)  →  h(Kn,G2) defined by [formula]. h(f) is a level preserving mapping TG1  →  TG2 and thus rk(G1)  ≤  rk(G2).

For every ordinal α  <  ω1 and graph G on ω consider the following undirected graph K<  α  >ω:

the vertices of K<  α  >ω: all decreasing sequences of ordinal numbers <  α;

the edges of K<  α  >ω: all pairs {ν,μ} satisfying ν  ⊆  μ, by this symbol we mean the containment of sequences ν and μ (as initial segments).

One can say that K<  α  >ω is a tree of cliques with the total height α.

The following holds for any α  <  ω1:

i. K<  α  >ω∈GRAω;

ii. rk(K<  α  >ω)  =  α.

iii. [formula].

(This gives yet another proof that there is no countable hom-universal Kω-free graph.)

Put G0  =  K<  rk(G) + 1 >ω and let us look at the statement of Theorem [\ref=one]. We have [formula] (by iii.) and thus if also [formula] then we are done. So we can assume the following situation: G  ≤  G0 and [formula]. Now if G1 is any graph satisfying [formula] then necessarily [formula] (as otherwise G1  ≤  G  ≤  G0) and thus by the same token we can assume G  ≤  G1. This strategy of the proof will be followed in the next section.

Proof of Theorem [\ref=one]

We proceed by contradiction: Let G∈GRAω be a graph which is comparable to every other graph in GRAω. By Theorem [\ref=three] the chromatic number of G is infinite.

We shall construct graphs G0,G1,G2 such that [formula] (and thus G  <  G0), [formula] (thus G  <  G1) and [formula] (and thus G  <  G2). Using a construction similar to the one of G2, we define a family {Gη} of graphs which satisfy [formula] and thus G  <  Gη. Then the existence of some η, such that Gη  <  G will give rise to a contradiction.

The graph G0  =  K<  rk(G) + 1 >ω was constructed in the previous section.

Definition of G1:

The vertices of G1: ω  ×  2. The edges of G1: all pairs of the form {(n,i),(m,i)} where [formula], i  =  0,1 and of the form {(n,0),(m,1)} where n  <  m.

Thus G1 is a "half graph" where the vertices are "blown up" by complete graphs of increasing sizes.

Claim 1: [formula]

( of Claim 1)

Assume contrary: Let f:G1  →  G0 be a homomorphism. As f restricted to each of the complete graphs in each of the sets ω  ×  {0},ω  ×  {1} is monotone we can find an infinite set X  ⊂  ω such that the mapping f restricted to the set X  ×  {0} is injective. The set Y  =  {f(x);x∈X  ×  {0}} is an infinite set in V(G0)  =  V(K<  rk(G) + 1 >ω). The graph K<  rk(G) + 1 >ω is defined by the tree T,rk(T)  =  rk(G) + 1 and thus by either König Lemma (or Ramsey Theorem) the set Y either contains an infinite chain (i.e. a complete graph in G0) which is impossible, or Y contains an infinite independent set in T and thus also in G0.

So Y are the vertices of a star in T with center y. y is a function y:Kn  →  G. Choose [formula] such that the set [formula] has at least n + 1 elements.

Now the function f restricted to the set [formula] is injective and if (i,1) is any vertex of this set then f(i,1) is connected to all vertices f(m,0) for [formula]. This implies that f(m,0)  ⊂  y for every [formula]. But this is a contradiction.

Construction of G2:

The vertices of [formula] where A0  =  {r}, and A1 and A2 are infinite sets (all three mutually disjoint). The set A1 is disjoint union of finite complete graphs denoted by K1i (isomorphic to Ki), i∈ω. The set A2 is disjoint union of finite complete graphs denoted by K2x,j (isomorphic to Kj), j∈ω. The edges of G2 are the edges of all indicated complete graphs together with all edges of the form {r,x},x∈A1 and all pairs of the form [formula].

So the graph G2 is a tree of depth 2 with infinite branching with all its vertices "blown up" by complete graphs of increasing sizes.

Claim 2: [formula]

The proof is easy using the main property of the half graph: all the vertices of one of its "parts" (i.e. of the set ω  ×  {1} ) have finite degree.

Assume to the contrary that f:G2  →  G1 is a homomorphism (for G1 we preserve all the above notation). We shall consider two cases according to the value of f(r).

Case 1. f(r)  =  (n,1) for some n∈ω.

But then the subgraph of G1 induced by the neighborhood N(n,1) of the vertex (n,1) has a finite chromatic number (as (n,1) has finite degree in G1) whereas the neighborhood of r in the graph G2 has the infinite chromatic number (as this neighborhood is the disjoint union of complete graphs K1i,i∈ω).

Case 2. f(r)  =  (n,0) for some n∈ω.

By a similar argument as in the Case 1 we see that not all vertices f(x),x∈A1 can be mapped to the vertices of the set ω  ×  {0} (as by the connectivity of the subgraph of G2 formed by [formula] this graph would be mapped to a finite complete graph. Thus let f(x1)  =  (m,1) for an x1∈A1. But then the neighborhood N(m,1) of (m,1) in the graph G2 has a finite chromatic number whereas x1 has infinite chromatic number (in G1).

Thus we see that [formula] and consequently G  →  G2. The last example which we shall construct will be a family of graphs {Gη}. This has to be treated in a more general framewo rk and we do it in a separate subsection.

Tree like graphs

We consider the following generalization of the above construction of G2:

Let G be an infinite set of finite graphs of the form Gj,i,i,j∈ω which satisfies:

i. χ(Gj,i)  ≥  i;

ii. Gj,i does not contain odd cycles of length ≤  j.

iii. All the graphs are vertex disjoint.

Let T  =  (V,E) be a graph tree (i.e. we consider just the successor relation) defined as follows: [formula] where A0  =  {r}, A1  =  ω and A2  =  ω  ×  ω. The edges of T are all edges of the form {(r,i)},i∈ω and all pairs of the form {i,(i,j)},i,j∈ω.

Let η:V  →  ω  ×  ω be any function.

Define the graph Gη as follows: The set of vertices of Gη is the union of all graphs Gη(x),x∈V. The edges of Gη are edges of all graphs Gη(x),x∈ω together with all edges of the form {a,b} where a∈Gη(x), b∈Gη(y) and {x,y}∈E.

Then we have analogously as in the Claim 2:

Claim 4: Let η:V  →  ω be any function and let η1,η2:V  →  ω be defined by η(x)  =  (η1(x),η2(x)). If η2 is unbounded on A1 and on the subsets of A2 of the form {i}  ×  ω,i∈ω, then [formula].

Now, consider the graph G again. As χ(G) is infinite denote by K the minimal number of vertices of a subgraph G' of G with chromatic number 5 (by compactness it is K is finite). Let η:V  →  ω be any function which is unbounded on ω and each of the sets {i}  ×  ω, i∈ω and moreover which satisfies η1(i)  ≥  K for every i∈ω.

It is [formula] by Claim 3. Thus G  ≤  Gη. In this situation we prove the following (and this will conclude the proof of Theorem [\ref=one].

Claim 5: [formula].

Assume contrary: let f:G  →  Gη. Then the vertices of the subgraph G' are mapped into a set [formula] where I is a finite subset of V. Denote by G'' the image of G' in Gη. Due to the tree structure of Gη we have that [formula].

As η(i)  ≥  K and thus all graphs [formula] are bipartite. This implies [formula] and finally we get χ(G')  ≤  χ(G'')  ≤  4, a contradiction.

Independent Families

In a certain sense Theorem [\ref=one] captures the difficulty of independent extension property. The pair K3,U3 (see Proof following Theorem [\ref=one] in the Section 1) cannot be extended to a large independent set because U3 is a rich graph. This can be made precise. Towards this end we first modify the ordinal rank function for graphs below a given graph H. We return to these results in Section 6.

Let G,H be infinite graphs. Assume that the vertices of H are ordered in a sequence of type ω. We can thus assume that H is a graph on ω. Denote by Hn the subgraph of H induced on the set [formula].

Consider the set h(Hn,G) of all homomorphisms Hn  →  G and denote by TGH the union of all the sets [formula]. We think of TGH as a (relational) tree ordered by the relation f  ⊆  g. TGH is called H-valued tree of G (with respect of a given ω-ordering of H).

It is clear that

i. TGH is a (relational) tree;

ii. TGH has no infinite branches;

Thus we can define ordinal rk(TGH)  <  ω1 the ordinal rank function of TGH.

Put rkH(G)  =  rk(TGH) ( the ordinal H-rank of G). We have then the following:

Let G1,G2 be graphs with [formula] and [formula]. Then G1  ≤  G2 implies rkH(G1)  ≤  rkH(G2).

Let f:G1  →  G2 be a homomorphism. Then for every n we have a natural mapping h(f):h(Hn,G1)  →  h(Hn,G2) defined by [formula]. The mapping h(f) is level preserving mapping TG1H  →  TG2H and thus rkH(G1)  ≤  rkH(G2).

For a countable graph G on ω and every ordinal α  <  ω1 define the following graph G<  α  >:

The vertices of G<  α  > are all decreasing sequences of ordinal numbers <  α; the edges of G<  α  > are all pairs {ν,μ} satisfying ν  ⊆  μ and [formula]. (Recall that [formula] is length of the sequence ν.)

One can say that G<  α  > is a tree of copies of Gn (Gn is the graph induced by G on the set [formula] with the total height α. (This notation also explains the rather cumbersome notation K<  α  >ω.)

We have the following:

i. G<  α  >  ≤  G;

ii. If α  ≤  β then also G<  α  >  ≤  G<  β  >;

iii. G  ≤  H if and only if G<  α  >  ≤  H for every α  <  ω1

This is easy statement. The existing homomorphisms are canonical level-preserving homomorphisms. Let us mention just iii.:

If f:G  →  H then G<  α  >  →  H by composition of f with the map guaranteed by i.. Thus assume [formula] and G<  α  >  ≤  H for any α  <  ω1. In this case the ordinal G-rank of H is defined and rkG(H)  =  α  <  ω1. As rkG(G<  α + 1 >)  =  α + 1  >  rkG(H) we get a contradiction.

We say that G is α  -   low if G  ≤  G<  α  >. A low graph is a graph which is low for some α  <  ω1, a graph is high if it is not low.

We have the following

Let [formula] be an independent set of countable connected graphs including at least one high graph. Then there exists a countable graph G such that [formula] is an independent set.

Any finite set of high graphs can be extended to a larger independent set.

Choose the notation such that the graphs [formula] are low while graphs [formula] are high (the case s  =  0 corresponds to the set of all high graphs).

Choose α  <  ω1 such that for any [formula] and [formula] the graph G<  α  >n has no homomorphism to Gm. This is possible as by the high-low assumption for every m,n as above there is no homomorphism Gm  →  Gn and thus for some α(m,n)  <  ω1 we have [formula]. (This also covers the case s  =  0.) Put α'  =   max  α(m,n) and α  =   max  rkG<  α(m,n) >nGm.

We define

[formula]

and prove that G is the desired graph. Fix [formula] and choose [formula] arbitrarily. Then [formula] and thus [formula] as claimed.

In the opposite direction for every [formula] we have [formula] by Gm high and [formula] by the choice of α (i.e. as α is large enough). As Gm is a connected graph Gm maps to G if and only if it maps to one of the component. Thus [formula] and we are done.

Remark.

Corollary [\ref=seven] shows that we have an extension property providing we "play" with high graphs. This is in agreement with the "random building blocks" used in the proofs of universality, see [\cite=N2].

Rigid Graphs

We prove Theorem [\ref=four]

Let G be a countable graph not containing Kω, we can assume that G is infinite. In fact we can assume without loss of generality that every edge of G belongs to a triangle and that G is connected (we simply consider a graph which contains G as an induced subgraph).

Let G1∈GRAω form independent pair with G (G1 exists by Theorem [\ref=one]). We can assume without loss of generality that also every edge of G1 belongs to a triangle. For that it is enough to attach to every edge of G1 a pendant triangle; (as every edge of G belongs to a triangle) these triangles do not influence the non-existence of homomorphisms between G and G1. G1 can be also assumed to be connected.

Let G0 be a countable rigid graph without triangles. The existence of G0 follows from the existence of a countable infinite rigid relation (take one way infinite path on ω together with arc (0,3)) by replacing every edge by a finite triangle free rigid graph; see e.g. [\cite=PT] [\cite=NR] [\cite=N4].

Let μ:V(G)  →  V(G0) and ν:V(G0)  →  V(G1) be bijections. Define the graph G' as the disjoint union of graphs G,G0,G1 together with the matchings {{x,μ(x)};x∈V(G)} and {{x,ν(x)};x∈V(G0)}.

We prove that G' is rigid (G' obviously contains G as an induced subgraph).

Let f:G'  →  G' be a homomorphism. As the matching edges and the edges of G0 do not lie in a triangle we have either f(V(G))  ⊆  V(G) or f(V(G))  ⊆  V(G1). However the last possibility fails as G and G1 are independent. Similarly, we have either f(V(G1))  ⊆  V(G1) or f(V(G))  ⊆  V(G) and the last possibility again fails.

Thus we have f(V(G))  ⊆  V(G) and f(V(G1))  ⊆  V(G1). As the vertices of G0 are the only vertices joined both to V(G) and V(G') we have also f(V(G0))  ⊆  V(G0). However G0 is rigid and thus f(x)  =  x for every x∈V(G0). Finally as G and G0, G0 and G1 are joined by a matching we have that f(x)  =  x for all x∈V(G').

Remark.

This "sandwich construction" may be the easiest proof of a statement of this type (compare [\cite=PT] [\cite=CHKN] [\cite=BN] [\cite=NR]. This proves also the analogous statement for every infinite κ (also for the finite case) providing that we use the fact that on every set there exists a rigid relation. This has been proved in [\cite=VHP], and e.g. [\cite=N5] for a recent easy proof.

Gaps below H

We say that a gap G  <  H is a gap below H. In the introduction we derived from Theorem [\ref=one] that there are no gaps below Kω. It is well known that finite undirected graphs have no non-trivial gap (except K1  <  K2), see [\cite=W] [\cite=NT]. Also infinite graphs (with unrestricted cardinalities) have no non-trivial gaps ([\cite=N1]). However note that classes of graphs with bounded cardinality (such as GRAω) may have many non-trivial gaps. For example if H  =  Kn then let Un be the hom-universal Kn-free universal graph. Consider the graph Gn  =  Un  ×  Kn (the product here is the categorical product defined by projection - homomorphisms). Then Gn  <  Kn and it is easy to see that Gn is also Kn-free hom-universal graph (universal for graphs below Kn). Now if G  <  Kn then also G  ≤  Gn and thus (Gn,Kn) is a gap (below Kn). In fact this holds for other finite graphs, see [\cite=N3]. It seems to be difficult to find gaps formed by infinite graphs only. Here we give some explanation of this difficulty. We use the ordinal H-rank function for graphs bellow H which was introduced in Section 4.

It is not necessarily true that H<  α  >∈GRAH. We defined above H to be an α- low graph if H<  α  >∈GRAH. Here are sufficient conditions for low and high:

For a graph F we say that an infinite subset X of V(F) is separated by a subset C if for any two distinct vertices x,y of X there is no path [formula] in F such that none of the vertices [formula] belong to C (thus possibly x,y∈C).

Recall, that graphs G and G' are said to be hom-equivalent if G  ≤  G'  ≤  G. This is denoted by G≃G'.

We say that graph F is H-connected if no infinite subset X of V(F) is separated by a subset C such that C≃H' for a finite subgraph H' of H. H is said to have finite core if H is equivalent to its finite subgraph. Any graph with infinite chromatic number has no finite core (and this is far from being a necessary condition). The following then holds:

iv. If H is H-connected without a finite core then H<  α  >∈GRAH.

H is infinite. Let f:H  →  H<  α  > be a homomorphism. As H is not equivalent to any of its finite subgraph there exists an infinite set X  ⊂  V(H) such that f restricted to the set X is injective. Then the set f(X) is an infinite subset of H<  α  > and applying the König's Lemma to the tree structure of H<  α  > we get that either there is an infinite chain (which is impossible as H<  α  > is H-free) or there is an infinite star. Its vertices form an independent set which is separated by the finite graph corresponding to the stem of the star.

We have the following:

Let H be a H-connected graph without a finite core. Then the following holds:

i. There is no gap below H;

ii. GRAH has no hom-universal graph;

iii. For every G  <  H there exists G'  <  H such that G and G' are independent ("partners under H").

i. is easier. Let G  <  H. Then rkH(G)  =  α  <  ω1. It is H<  α + 1 >  <  H and thus [formula]. Put G0  =  H<  α + 1 > and thus we have G  <  G  +  G0  <  H as needed. The same proof gives ii..

However by Lemma [\ref=eight] we also know that there exists β  >  α such that [formula]. This proves iii.

We give another proof of Theorem [\ref=six]iii. which is an extension of the proof given in Sections 3 and 4. This proof is more direct and gives us more tools for hunting of partners.

(of Theorem [\ref=six],iii.) Let G  <  H be fixed. We proceede in a complete analogy to the above proof of Theorem [\ref=one] and we outline the main steps and stress only the differences. Thus let G be a counterexample. Consider G0  =  H<  α + 1 >. We have [formula] and G0  <  H and thus we have G  <  G0. As G0 has the tree structure we can find G1 in a similar way such that [formula] and G1  <  H. Given G1 we then define graphs G2 and Gμ with G  ≤  G2 and G  ≤  Gμ. However we have to continue (as possibly χ(H)  ≤  4) and define also graph G4 with G  ≤  G4. This will finally lead to a contradiction.

The details of this process are involved and we need several technical definitions.

An H- partite graph (G,c) is a graph together with a fixed homomorphism c:G  →  H. The sets c- 1(x) are color classes of (G,c). Given two H-partite graphs (G,c) and (G',c') the H- join [formula] is the disjoint union of (G,c) and (G',c') together with all edges {x,x'} where x∈V(G), x'∈V(G') and {c(x),c(x')}∈E(H). The graph [formula] is again H-partite (with the coloring denoted again by c).

Recall, that Hn is the graph H restricted to the set [formula]. Let H0n and H1n be copies of Hn so that all the graphs H0n and H1n, n∈ω are mutually disjoint. Without loss of generality the vertices of V(Hin) belong to ω  ×  {i},i  =  0,1. The graphs Hn,H0n,H1n are considered as H-partite graphs with the inclusion H-coloring.

Definition of G1:

The vertices of G1 form the set ω  ×  2. The edges of G1 are all pairs of the form {(x,i),(y,i)} where {x,y}∈Hin for some n∈ω together with all the edges of the graphs [formula] where m  ≤  n.

G1 is an H-partite graph with c:G1  →  H defined as the limit of all the inclusions Hn  ⊂  H. We can still think of G1 as a suitable blowing of a half graph. What is important is that the key property of half graphs holds for G1: all the vertices in the class ω  ×  {1} have finite degree.

Claim 1: [formula]

(Recall that G0  =  H<  α + 1 >.) Assume contrary, let f:G1  →  G0.

As H does not have a finite retract we get (by compactness) that for every m there exists n such that [formula]. It follows that there exists an infinite set X  ⊂  ω such that the mapping f restricted to the set X  ×  {0} is injective. The set Y  =  {f(x);x∈X} is then an infinite subset of the tree H<  α  >,α  =  rkH(G) which defines the graph G0 and thus by either König Lemma (or Ramsey Theorem) the set Y either include an infinite chain (i.e. a complete graph in G0) which is impossible, or Y include an infinite independent set in H<  α  > and thus also in G0. So Y are the vertices of an infinite star in Tα,H with center y. y is in fact an injective homomorphism y:Hn  →  H. Define the set C by [formula]. Then C separates X while C  ≤  Hn. But this is a contradiction.

Construction of G2:

The vertices of [formula] where A0  =  {r}, and A1 and A2 are infinite sets (all three mutually disjoint). The set A1 is disjoint union of graphs Hi denoted by H1i (isomorphic to Hi), i∈ω. The set A2 is disjoint union of graphs denoted by H2x,j (isomorphic to Hj), x∈A1,j∈ω. The edges of G2 are the edges of all indicated graphs H1i and H2x,j together with all edges of the form {r,x},x∈A1 and all pairs of the form [formula].

So the graph G2 is a tree of depth 2 with infinite branching with all its vertices "blown up" by graphs Hn of increasing sizes, the graph induced by vertices [formula] is isomorphic to [formula].

Claim 2: [formula]

Assume to the contrary that f:G2  →  G1 is a homomorphism (for G1 we preserve all the above notation). We shall consider two cases according to the value of f(r).

Case 1. f(r)  =  (n,1) for some n∈ω.

(We proceede similarly as in Case 1 of the proof of Theorem [\ref=one].) But then the subgraph of G1 induced by the neighborhood N(n,1) of the vertex (n,1) can be mapped to a finite subgraph of H (as (n,1) has finite degree in G1) whereas the neighborhood of r in the graph G2 cannot be mapped to finite subset of H (as this neighborhood is the disjoint union of graphs H1i,i∈ω).

Case 2. f(r)  =  (n,0) for some n∈ω.

This is similar adaptation of the Case 2 of the proof of Theorem [\ref=one].

Next we shall define graphs Gη. We consider the following generalization of the above construction of G2:

Let G be an infinite set of finite graphs of the form Gj,i which satisfies:

i. [formula];

ii. Gj,i do not contain odd cycles of length ≤  j.

iii. Gj,i  →  H (this homomorphism will be denoted again by c).

iv. All the graphs are vertex disjoint.

By now it is easy to get such examples, see e.g. [\cite=NR] [\cite=N4].

Let T  =  (V,E) be a graph tree (i.e. we consider just the successor relation) defined as follows: [formula] where A0  =  {r}, A1  =  ω and A2  =  ω  ×  ω. The edges of T are all edges of the form {(r,i)},i∈ω and all pairs of the form {i,(i,j)},i,j∈ω.

Let η:V  →  ω  ×  ω be any function.

Define the graph Gη as follows: The set of vertices of Gη is the union of all graphs Gη(x),x∈V. The edges of Gη are edges of all graphs Gη(x),x∈ω together with all edges of the form {a,b} where a∈Gη(x), b∈Gη(y), {x,y}∈E and {c(A),c(b)}∈E(H).

We have analogously as in Claim 2:

Claim 3 Let η:V  →  ω be any function which is unbounded on ω and each of the sets {i}  ×  ω, i∈ω. Then [formula].

Now, consider the graph G again. We have to distinguish two cases:

Case 1: χ(H)  ≥  5

In this case we proceede completely analogously as in the proof of Theorem [\ref=one] with the only change that we denote by K the minimal number of vertices of a subgraph G' of G such that [formula] and χ(Hi)  ≤  4 (by compactness it is K∈ω). In this case we derive a contradiction as above. Leaving this at that we have to consider:

Case 2: χ(H)  <  5

In this case we have to continue and we introduce one more construction of the graph G4.

Let T be an infinite binary tree. Explicitely, V(T) denotes the set of all binary sequences ordered by the initial segment containment. For a sequence [formula] we put [formula] (i(σ) is a level-preserving enumeration of vertices of T) and [formula] ([formula] is the level of σ in T).

Assume that the graphs Hn satisfy Hm  <  Hn and |V(Hm)|  <  |V(Hn)| for all m  <  n. This can be assumed without loss of generality as we can consider subset of ω with this property.

Let Fσ,  σ∈V(T) be a set of disjoint graphs with the following properties:

i. Fσ  ≤  Hi(σ).

ii. Fσ  >  Hi(σ) - 1, moreover for every homomorphism f:Fσ  →  H satisfying |f(V(Fσ))|  <  |V(Fσ)| there exist homomorphisms g:Fσ  →  Hi(σ) and h:Hi(σ)  →  H such that [formula] (in the other words each f with a small image factorizes through Hi(σ)).

iii. Fσ does not contain odd cycles of length ≤  k1 where k1 denotes the shortest length of an odd cycle in G.

iv. In each Fσ are given two distinct vertices xσ and y  =  yσ such that {c(xσ),c(yσ)}∈E(H).

(See [\cite=NR] [\cite=N4]; it suffices to put Fσ  =  Hi(σ)  ×  K where K is a graph without short odd cycles with sufficiently large chromatic number.)

Denote by G4 the disjoint union of graphs Fσ with added edges of the form {x,y} where x  =  xσ and y  =  yσ' and {σ,σ'} form an edge of T.

This concludes the definition of G4. For G4 we define G3  =  Gη for the following function [formula] (see the above definition of the graph Gη for general η):

[formula].

This only means we consider graphs with rapidly progressing odd girth.

We know that [formula] (for any η unbounded on the stars of the corresponding tree).

Thus assume that f:G4  →  G3. Due to the tree structure of the graph G3 we see that for each σ∈V(T) the image f(Fσ) intersects a finite set of graphs [formula] and due to the tree structure of the graph G3 we see easily that there is a homomorphism f':Fσ  →  Hi(I) where i(I) is the maximal index appearing among all i∈I and (j,i)∈I and we arrived to a contradiction.

Thus [formula] and consequently also G  ≤  G4.

As G4 contains odd cycles only in copies of graphs Hσ and as all these cycles have lengths >  k0 we conclude that [formula].

Concluding Remarks

1. The problem to characterize gaps below H is not as isolated as it perhaps seems at the first glance. Put GRAH  =  {G;G  <  H}. We have the following easy theorem:

For a countable graphs H the following statements are equivalent:

i. There is no gap below H;

ii. For every G∈GRAH there is G'∈GRAH such that [formula];

iii. For every H'∈GRAH the class GRAH' has no hom-universal graph;

Motivated by Theorem [\ref=four] one is tempted to include here also the following condition:

iv. For every G∈GRAH there exists G'∈GRAH such that G  <  G' and G' is rigid.

However iv. is false as shown by the following example:

Let H  =  K3 and let G be the disjoint union of all odd cycles of length >  3. Then any rigid graph G', G'  <  H which contains G as a subgraph is necessarily a disconnected graph. Let {G'i;i∈ω} be all the components of G'. Then χ(Gi)  =  3 for every i∈ω and thus let Gi contains an odd cycle [formula] of length [formula]. Let Gj be the component which maps to [formula] (as a component of G). Clearly i  ≠  j and thus Gj  →  Gi, a contradiction.

Note also that the above Theorem [\ref=five] is true for any fixed infinite cardinality.

2. We say that a set G of countable graphs is maximal (or unextendable) if there is no graph [formula] such that G is independent to all G'∈G.

{Kω} is maximal but there are other maximal families. For example [formula] is a maximal set and more generally for every finite graph H the following is a maximal set:

[formula]

Corollary [\ref=two] implies existence of finite maximal sets.

The characterization of maximal sets seems to be difficult problem related to duality theorems, see [\cite=NT2]. However no maximal set is known which consists from infinite graphs only.