Proposition Fact Lemma Corollary

Definition Remark Question Problem Example

Generalized amalgamation and homogeneity

Introduction

A permutation group acting on a set X is said to be oligomorphic if its action has only finitely many orbits on Xn for each natural number n. Such groups appear naturally in model theory as groups of automorphisms of countable ω-categorical structures. In fact, after a theorem of Ryll-Nardzewski, any countable structure [formula] (in a countable language) is ω-categorical if and only if its group of automorphisms [formula] is oligomorphic. Within the family of ω-categorical structures lies the large class of finitely homogeneous relational ones. These are those countable structures in a finite relational language such that any isomorphism between finite substructures can be extended to an automorphism of the whole structure. Alternatively, finitely homogeneous structures are precisely those structures in a finite relational language that can be built up from its finite substructures by the Fraïssé amalgamation method. Classical examples are countable abelian groups of finite exponent, the countable dense linear order without end-points and the random graph.

From the point of view of classification theory, ω-categorical structures form an important class. For instance, the random graph, or more generally a random structure in the sense of Definition [\ref=DefRandom], is an archetypical example of a structure with a first-order simple, even supersimple, theory. In these structures, there is always a well-behaved notion of independence among subsets, called forking independence, which satisfies certain amalgamation property known as the Independence Theorem or also 3-complete amalgamation, see Section 2. In the case of the random graph this independence is given by equality, i.e. a set A is independent from B over C if and only if [formula] is contained in C. Moreover, it satisfies the n-complete amalgamation property (see Definition [\ref=DefAmalg]) for any natural number n since any finite graph is embeddable in the random graph. However, not all simple structure do. For instance, the tetrahedron-free ternary random graph is simple but does not satisfy the 4-complete amalgamation property. Thus, there is a naive connection between amalgamation properties and the existence of forbidden substructures which we shall formalize in Section 4 in the context of finitely homogeneous structures.

We focus our attention on structures where [formula] acts 2-transitively on [formula], which extends the notion of primitive structure, i.e. those structures [formula] where there is no equivalence relation in [formula] which is invariant under [formula]. The random graph is an example of a primitive supersimple structure, and in fact Koponen [\cite=Koponen2] conjectured that it is essentially the canonical one. More precisely:

Any primitive binary finitely homogeneous supersimple structure is a random structure.

In [\cite=Koponen3], Koponen solved the conjecture under the assumption of one-basedness (see Section 2) by showing that such structures have [formula]-rank one and hence are random by a result of Aranda-Lopez [\cite=Andres]. In fact, an easy argument contained in [\cite=Koponen1] yields that any binary finitely homogeneous supersimple (even simple) structure is one-based and so the full conjecture follows. In this paper we analyze the corresponding conjecture for arbitrary languages and show that 2-transitive finitely homogeneous supersimple structures in a relational language with relations of arity at most n are random whenever the (n + 1)-complete amalgamation property holds (Theorem [\ref=ThmRandom]). In particular, this applies to finitely homogeneous structures without binary relations. Additionally, if the theory eliminates imaginaries geometrically then the same is true for primitive structures (Remark [\ref=RemPrimitive]). Finally, observe that as any simple structure satisfies 3-complete amalgamation, in the binary case it is not necessary any additional assumption. However, for relational languages of arity n, it is essential to assume (n + 1)-complete amalgamation as it is exhibited in the tetrahedron-free ternary random graph.

Our proof boils down to the study of forking independence in simple structures whose theory admits quantifier elimination in a relational language, where there is a bound on the arity of all relations. This is treated in full generality in Section 3, where distinct degrees of triviality are pointed out under the assumption of quantifier elimination and complete amalgamation. Additionally, some examples, such as right-angled buildings with infinite residues [\cite=BMPZ], are provided to exemplify that the remarks in that section are interesting by themselves. In particular, it follows that in order to construct a non-trivial superstable (even supersimple) structure satisfying certain geometrical properties, which is a major problem in model theory, one should consider richer languages.

Through the text, we assume that the reader is familiarized with the basics of model theory and simple theories. Nevertheless, in Section 2, we recall some of the basic notions of simplicity theory and also give the definition of the n-complete amalgamation property. For further details we refer the interested reader to [\cite=cas-book] [\cite=Kim] [\cite=wagner].

Preliminaries on simplicity

We shall be working inside a large saturated and homogeneous model [formula] of a complete first-order theory. Thus, tuples and sets consist of elements from this large model.

We introduce simplicity in terms of dividing. A partial type π(x) divides over A if it implies a formula φ(x,a) for which there is an A-indiscernible sequence (ai)i < ω in [formula] such that {φ(x,ai)}i < ω is inconsistent. The theory is simple if any complete type [formula] does not divide over a subset A of B of size |A|  ≤  |T|. Additionally, it is said to be supersimple if A is finite. As a consequence, one can observe that the imaginary expansion of a (super)simple theory is again (super)simple. Thus, there is no harm in assuming that our large model is a model of the imaginary expansion of the theory.

In simple theories, dividing agrees with the notion of forking: A partial type forks over a set A if it implies a disjunction of formulas that each of them divides over A. Both notions give rise to a notion of independence among subsets of our model. Namely, we say that a set A is independent from B over C if and only if the type [formula] of any finite tuple a of elements from A over [formula] does not fork over C. We write [formula] for this. Forking independence in simple theories is a well-behaved notion of independence, see [\cite=cas-book] for an abstract approach to independence relations. Here we summarize some of its main properties:

Invariance under [formula].

Finite character. [formula] if and only if [formula] for any finite A'  ⊆  A and B'  ⊆  B.

Symmetry. If [formula], then [formula].

Transitivity. [formula] and [formula] if and only if [formula].

Extension. If [formula], then for any D there is some [formula] with [formula].

Local character. For any finite A and any B, there exists a subset C  ⊆  B with |C|  ≤  |T| such that [formula].

Algebraicity: If [formula], then [formula].

Given two types p and q we say that p is a non-forking extension of q if p extends q and it does not fork over the parameters of q. Using this notion, we can define stable theories as those simple theories where any type over a model has a unique non-forking extension over a larger set of parameters. One of the main features of forking independence in arbitrary simple theories is the Independence Theorem for types over models which can be seen as a weakening of the uniqueness of non-forking extensions in stable theories: If p0(x)∈S(M) is a type over a model M and p(x)∈S(A) and q(x)∈S(B) are non-forking extensions of p0 such that A is independent from B over M, then [formula] does not fork over M. In other words, it is possible to amalgamate non-forking extensions of a common type based over a model as soon as the parameters are independent over this model. This motivate the definition of a Lascar strong type: A type over which the Independence Theorem holds. We denote the Lascar strong type of a over A by [formula]. In ω-categorical simple theories and in supersimple theories any type over an algebraically closed imaginary set is Lascar strong. We can associate to each Lascar strong type p a minimal definably closed element e such that [formula] is still Lascar strong and p does not fork over e. Such an element e is called the canonical base of p and we write [formula] to denote the canonical base of [formula]. However, a canonical base is a hyperimaginary, i.e. the equivalence class of a tuple (possibly infinite) of an [formula]-type-definable equivalence relation. Thus, the general theory of simplicity must be developed in the context of hyperimaginaries, and hence it becomes more technical. As hyperimaginaries do not appear explicitly in our paper, we omit to treat them in this introductory exposition, but we refer the interested reader to [\cite=cas-book].

Supersimple theories can be characterized in terms of the [formula]-rank, which is the least function assigning to each complete type an ordinal such that [formula] if and only if there is a forking extension q of p with [formula]. That is, the [formula]-rank corresponds to the fundamental rank of forking among complete types. We say that a simple theory has finite [formula]-rank or [formula]-rank one when all its 1-types do. At it is exhibited along the paper types of [formula]-rank one in a theory of finite [formula]-rank coordinate the whole structure, as do regular types in the supersimple case: A type p∈S(A) is said to be regular if for any B  ⊇  A and elements a,b realizing p with [formula] and [formula] we have that [formula]. Finally, recall that in a simple theory a partial π(x) with parameters over a set A is one-based if for any tuple ā of realizations of π and any sets C  ⊇  B  ⊇  A we have that [formula] is contained in [formula]. In a supersimple theory (or more generally, in a simple theory where hyperimaginaries are eliminable) we can reformulate one-basedness of π as follows: for any tuple ā of realizations of π and any set B  ⊇  A we have that ā is independent from B over [formula].

We introduce a definition of generalized amalgamation, which requires the use of hyperimaginary elements. However, in the ω-categorical or the supersimple cases one can simply work with [formula] instead of [formula].

Let W be a collection of subsets of P(n) closed under subsets. We say that a family {ps(xs)}s∈W of types over set A is an independent system of types if the following three condition hold:

for any s  ⊆  t in W we have that xs  ⊆  xt and ps(xs)  ⊆  pt(xt).

If as realizes ps then for s∈W:

the tuple (a{i})i∈s is independent over A, and

we have that [formula].

For a given natural number n, let [formula], i.e. P-(n) is the collection of all subsets of [formula] except [formula].

A theory has n-complete amalgamation if for any independent system of Lascar strong types {ps(xs)}s∈P-(n) with parameters over some set A there is a type pn(xn) over A such that {ps(xs)}s∈P(n) is also an independent system of types over A. Furthermore, we say that a theory satisfies the n-complete amalgamation over models if the above holds for independent systems of types over models.

It is easy to see that the Independence Theorem corresponds to 3-complete amalgamation and hence, any simple theory has 3-complete amalgamation. Additionally, n-complete amalgamation implies m-complete amalgamation for m  ≤  n. Any stable theory has n-complete amalgamation over models but not necessarily over arbitrary boundedly closed sets. Moreover, it is easy to find simple theories without n-complete amalgamation for any natural number n as it is exhibited in the following example.

To conclude this preliminary section, we show that many finitely homogeneous structures with a simple theory, such as the countable k-free n-graph with k  ≥  3, have [formula]-rank one and are one-based. We believe that this might be folklore but we cannot find the statement in the literature. Furthermore, observe that in the following result ω-categoricity is not necessary as it can be replaced by the condition that canonical bases (over finite tuples) are imaginaries.

Assume that a countable ω-categorical structure has a disintegrated algebraic closure. If its theory is simple and has geometric elimination of imaginaries, then it is supersimple and one-based.

Proof. We shall work inside a large saturated and homogeneous model of the theory. It is suffices to show that a set A is independent from B over the set [formula]. If not, we can find some finite tuples a and b such that [formula] forks over [formula]. As the theory is ω-categorical, the canonical base [formula] is a single imaginary. Thus, by geometric elimination of imaginaries, there is no harm to assume that [formula] is a finite real tuple, and so there is some [formula] such that [formula]. However, this element c is algebraic over some (any) Morley sequence (ai)i < ω in [formula] and so [formula] since the algebraic closure is disintegrated by assumption. Thus, as [formula] we obtain that [formula] by indiscernibility, a contradiction.

As a consequence we obtain:

A finitely homogeneous structure with a simple theory obtained by Fraïssé construction with free amalgamation is supersimple of [formula]-rank one and one-based.

Proof. Any finitely homogeneous structure obtained via a Fraïssé construction with free amalgamation has trivial algebraic closure and moreover, it weakly eliminates imaginaries [\cite=MT]. Thus, the statement follows by the previous result.

Triviality

In this section we establish connections between several notions of triviality introduced in [\cite=Poi], complete amalgamation and elimination of quantifiers.

A theory is k-trivial if for every set A and any (k + 1)-independent tuples [formula] over A are independent over A. When k = 1 we simply say that the theory is trivial.

Goode [\cite=Poi] proved that if a stable theory is trivial, then so is its imaginary expansion. The same proof yields:

If a simple theory is k-trivial among real elements, then so is among hyperimaginaries.

A simple theory with elimination of quantifiers in a relational language of arity at most k + 1 is k-trivial whenever it has (k + 2)-complete amalgamation over models.

Proof. By Fact [\ref=FactTrivImag], it is enough to show that the theory is k-trivial among real tuples. Let [formula] be finite tuples from the home sort and suppose that they are (k + 1)-independent over a set A. Consider a model M containing A independent from [formula] over A. Thus [formula] are (k + 1)-independent over the model M.

Now, for a subset s from P-(k + 2) set [formula] and [formula]. It is clear that xs is contained in xt and ps  ⊆  pt when s  ⊆  t for any s,t∈P-(k + 2). Moreover, by construction

[formula]

and additionally, since [formula] are (k + 1)-independent over M, then so are [formula]. Thus, the family {ps(xs)}s∈P-(k + 2) is an independent system of types over M and hence, by (k + 2)-complete amalgamation over models we get a complete type pk + 2(xk + 2) over M such that {ps(xs)}s∈P(k + 2) is an independent system of types as well.

Let c be realization pk + 2(xk + 2) and for s∈P-(k + 2), set cs to denote the restriction of c onto xs. Thus [formula] and the sequence [formula] is independent over M. Moreover notice that [formula] and also [formula]. In particular, for [formula] we have that [formula] and so we can find some d such that [formula]. Hence d is independent from [formula] over M and in particular, the partial type

[formula]

does not fork over M. Furthermore, for any s∈P-(k + 1) we also have that [formula] since the set [formula] belongs to P-(k + 2), thus we get [formula] and so

[formula]

Therefore, the partial type

[formula]

does not fork over M, and even less does

[formula]

Hence, as the language is relational of arity at most k + 1 and each subset s from P-(k + 1) has size at most k, elimination of quantifiers yields that the latter partial type determines the complete type [formula]. Thus, the element ak + 1 is independent from [formula] over M and therefore [formula] are independent over A by transitivity, as desired.

By [\cite=Poi] in the supersimple framework k-triviality and triviality agree and therefore:

A supersimple theory with elimination of quantifiers in a relational language of arity at most k + 1 is trivial whenever it satisfies the (k + 2)-complete amalgamation property over models.

Furthermore, as all stable theories have n-complete amalgamation over models for every natural number n, we immediately obtain that a stable (superstable) theory with elimination of quantifiers in a relational language of arity at most k + 1 is k-trivial (respectively, trivial).

Next we recall a stronger notion of triviality which seems to be more appropriate for stable theories.

A theory is k-totally trivial if for every set A and any tuples [formula] with ak + 1 independent over A from every k-tuple formed by the [formula] we have that ak + 1 is independent from all of them over A.

It is clear that k-totally trivial theories are k-trivial and in fact for k = 1 both notions of triviality agree when the ambient theory has finite [formula]-rank, see [\cite=Poi].

A stable theory with elimination of quantifiers in a relational language of arity at most k + 1 is k-totally trivial.

Proof. As pointed out in [\cite=Poi], it is enough to show that its theory is totally trivial among real tuples. Let [formula] be tuples from the home sort and suppose that ak + 1 is independent from any k-tuple from [formula] over A. After replacing A by a model independent from [formula] over A, we may assume that A is model. Thus, by stationarity of [formula] we get that

[formula]

does not fork over A. Hence, elimination of quantifiers yields that this partial type determines indeed the complete type [formula] since the language is relational of arity at most k + 1, and therefore ak + 1 is independent from [formula] over A.

In contrast with the trivial case, there is a superstable theory which is k-totally trivial but not totally trivial, see [\cite=Poi]. Nevertheless, in the finite [formula]-rank case all notions agree.

A supersimple k-totally trivial theory of finite [formula]-rank is totally trivial.

Proof. As it is k-totally trivial it is clearly k-trivial and so trivial as the ambient theory is supersimple. Moreover, as it has finite [formula]-rank triviality implies totally triviality.

A superstable theory of finite [formula]-rank with elimination of quantifiers in a relational language of bounded arity is totally trivial.

Next we present some examples of ω-stable totally trivial theories which have quantifier elimination (after expanding the language) in a binary relational language. After Proposition [\ref=PropTotTriv], totally triviality can be seen as a limitation of the language.

A more elaborated family of examples which encloses the free pseudoplane is given in [\cite=BMPZ]. More precisely, a complete first-order theory is associated to a given a right-angled building with infinite residues.

All these previous examples of superstable theories are totally trivial but not one-based. Nevertheless, as far as ω-categorical structures are concerned, triviality implies one-basedness and finite [formula]-rank whenever the structure is supersimple.

A finitely based regular type in a countable ω-categorical simple trivial theory is non-orthogonal to a [formula]-rank one type based over the same parameters.

Proof. Let p be a regular type (or of pre-weight one) which we may assume to be defined without parameters. By assumption, the relation E defined among realizations of p by

[formula]

is an equivalence relation; moreover, it is [formula]-definable by ω-categoricity. Now, fix some realization a of p and consider its E-equivalence class aE. We show that the type [formula] has [formula]-rank one. To do so, suppose towards a contradiction that [formula] but aE is not algebraic over A. Note that the representatives of any two distinct realizations of [formula] are independent over [formula] as they are not E-related and so, by triviality any Morley sequence in [formula] is also independent over [formula]. Thus [formula] is algebraic and hence aE is independent from A, a contradiction. Therefore, the result follows since [formula] is clearly non-orthogonal to [formula].

A countable ω-categorical supersimple trivial theory has finite [formula]-rank and so it is one-based.

Proof. Noticing that a finitely based type of infinite monomial [formula]-rank ω would be orthogonal to any type of finite [formula]-rank, we deduce that the ambient theory has finite [formula]-rank by the previous lemma. Moreover, it is one-based by [\cite=Poi].

Finitely homogeneous structures

In this last section we prove that 2-transitive finitely homogeneous supersimple structures, satisfying the n-complete amalgamation property for large enough n, are random structures. Next we give the definition of a random structure, which weakens the definition given in [\cite=Koponen3]. Nevertheless, both notions agree for binary languages or more generally when the language has only relations of a fixed arity.

Let [formula] be a structure in a finite relational language L. We say that [formula] is a random structure if there is no finite L-structure A for which every proper L-substructure is embeddable in [formula] but the structure given as the free amalgamation of all proper L-substructures of A is not embeddable.

The definition given by Koponen is stated in terms of minimal forbidden configurations with respect to reducts of [formula], whereas in the definition above the whole quantifier-free type of every proper substructure is taken into account. In fact, observe that if the size of A is greater than the arity of any relation in the language, the above simple says that A is a minimal forbidden configuration. Moreover, we point out that one can see randomness as an amalgamation property among quantifier-free types. In particular, it is a property of the theory.

A relational structure is random if and only if for any natural number n, given a compatible family of quantifier-free complete types {πs((xi)i∈s)}s∈P-(n) with |xi| = 1 and such that each πs((xi)i∈s) is consistent, we have that

[formula]

is consistent as well.

A structure [formula] is said to be primitive if there is no [formula]-invariant equivalence relation among elements of [formula]. Equivalently, there is a unique 1-type without parameters which in addition is strong. We say that a structure is 2-transitive if there is a unique 2-type among pairs of distinct elements.

The following result is due to Aranda-Lopez [\cite=Andres].

A primitive binary finitely homogeneous simple structure of [formula]-rank one is random.

Koponen was able to extend this result to one-based structures by showing the following in [\cite=Koponen3].

A primitive binary finitely homogeneous simple one-based structure has [formula]-rank one and so it is random.

Firstly, we shall see that Koponen's result is sharp. This is exhibited in the following example from [\cite=Dugald], whose existence was pointed out to us by Koponen.

It is worth mentioning that in the example above there are imaginary elements which are not eliminable; namely, the canonical parameters of sets codifying single elements. In fact, this is the unique obstacle to generalize Koponen's result to arbitrary languages.

A countable ω-categorical primitive structure with a simple one-based theory is supersimple of [formula]-rank one whenever it geometrically eliminates imaginaries.

Proof. We shall be working inside a large saturated and homogeneous model [formula] of the given structure.

First, we observe that the algebraic closure of an element of the monster model [formula] of the theory is a singleton. For this, consider the following equivalence relation defined on [formula]:

[formula]

which is clearly [formula]-invariant, and so [formula]-definable by ω-categoricity. Moreover, as there is no non-trivial [formula]-invariant equivalence relation defined on [formula], the relation R is trivial. Hence, either any class has a single element or there is only one class. However, the latter would imply that all elements have the same algebraic closure and so [formula] would be the algebraic closure of a single element, a contradiction. Therefore, every class has a single element. In fact, note that the algebraic closure of a single element is finite by ω-categoricity and thus [formula] for any two elements since there is only a unique 1-type without parameters as our structure is primitive. This yields that [formula] for any element x of [formula].

Now, we prove that an arbitrary 1-type does not fork over the empty-set whenever it is not algebraic. Let a be an element of [formula] and let [formula] be a tuple of elements of [formula] such that a is not algebraic over [formula]. Consider the canonical base [formula] and note that it is interalgebraic with a real tuple [formula] by assumption, possibly empty. If [formula] were non-empty, then it would be algebraic over a, and so   =  a. However, this would yield that [formula] by one-basedness, a contradiction. Therefore [formula] belongs to [formula] and so a is independent from [formula] by symmetry, as desired.

Now we show our main result, which applies to finitely homogeneous structures without binary relations in the language. Thus, this can be seen as an orthogonal statement to the aforementioned result of Koponen.

A 2-transitive finitely homogeneous supersimple structure in a relational language of arity at most n and whose theory has (n + 1)-complete amalgamation is a random structure.

Proof. The theory of a such finitely homogeneous supersimple structure is trivial by Corollary [\ref=CorSupersimpleTrivial]. Thus, it is one-based of finite [formula]-rank by Corollary [\ref=CorFinite] and so it is indeed totally trivial.

First, we claim that any two distinct elements are independent: By simplicity there are two distinct elements a and b in the monster model [formula] which are independent. Thus, as there is a unique 2-type any two elements must be independent.

Now, as the theory is totally trivial, the above claim yields that any two sets are independent over their intersection and so the algebraic closure of a set is the set itself. On the other hand, by totally triviality we get for a type [formula] that

[formula]

Thus, we may distinguish two cases. Suppose first that an element a∈ā belongs also to M, so the canonical base [formula] is definable over a and [formula]. Thus, as [formula] is Lascar strong, it implies the type [formula], hence a is definable over [formula] and whence [formula]. On the other hand, if a does not belong to M, then a is independent from M and so [formula] belongs to [formula] since the type [formula] is Lascar strong by assumption. Therefore, we obtain that [formula] is interdefinable with [formula] and in particular, it is eliminable. Consequently, by a standard argument, it follows that the theory has weak elimination of imaginaries. Namely, let e be an imaginary given as the equivalence class of a real tuple ā modulo an [formula]-definable equivalence relation, and observe that [formula]. Thus, the type [formula] implies [formula] and so for any automorphism [formula] fixing [formula] we have that [formula]. Hence e is also the equivalence class of f(a) and whence f fixes e. Whence [formula]. On the other hand, the canonical base [formula] is interdefinable with a real tuple ā' and so [formula] and [formula], as desired. Therefore, for any real set A we obtain that

[formula]

Finally, to prove that the given structure is random we use Remark [\ref=RemRandom]. To do so, consider a family of compatible quantifier-free complete types {πs((xi)i∈s)}s∈P-(m) such that each of them is consistent with the ambient theory and each variable xi has length one. Notice that each quantifier-free type determines a complete type by elimination of quantifiers. Hence, if m  ≤  n + 1 then, the family {πs((xi)i∈s)}s∈P-(m) determines an independent system of strong types by ([\ref=eq]) and whence, the union of all the πs is consistent by m-complete amalgamation. Otherwise, in case m > n + 1, fix a realization  = (ci)i∈t of πt for [formula] and note that each quantifier-free type [formula] is consistent by invariance. Now, for a set u in P-(n + 1), set πu'(xu) to be [formula], and observe that the family {πu'(xu)}u∈P-(n + 1) determines an independent system of strong types over [formula] by ([\ref=eq]) . Therefore, the (n + 1)-complete amalgamation yields the consistency of the union of all πu' and so the set

[formula]

is consistent. This finishes the proof.

An inspection of the proof together with Lemma [\ref=Lemma1] yields that any primitive finitely homogeneous supersimple structure in a relational language of arity at most n and whose theory has (n + 1)-complete amalgamation and eliminates imaginaries geometrically is a random structure. In that case, the theory has [formula]-rank one by Lemma [\ref=Lemma1] and so one can see that any two elements are independent since the algebraic closure of a singleton is the singleton itself. Hence, we obtain that any two sets are independent over their intersection and so the algebraic closure of a set is the set itself. The rest of the proof goes through.