Corollary Lemma Conjecture

Lattices of Quasi-equational Theories as Congruence Lattices of Semilattices with Operators, Part II

Introduction

In Part I, we proved that for every quasivariety [formula] of structures there is a semilattice [formula] with operators such that the lattice of quasi-equational theories containing the theory of [formula] is isomorphic to [formula]. (An operator is a + ,0-endomorphism.) In this second part, we will be concerned with trying to represent a congruence lattice [formula] as a lattice of quasi-equational theories. This is not always possible, because the theory generated by the equation x  ≈  y has special properties, with no analogue in the congruence lattice of an arbitrary semilattice with operators. For example, the congruence lattice of [formula], where p(0) = 0 and p(x) = x - 1 for x > 0, is isomorphic to ω  +  1. This is not a lattice of quasi-equational theories, because it does not support an equa-interior operator; see Section 5 below or the remarks after Theorem 15 of Part I.

Nonetheless, there are the following positive results.

Gorbunov and Tumanov proved that if [formula] is a join semilattice with 0, then there is a quasivariety [formula] such that the lattice of theories of [formula] is isomorphic to [formula] with no operators; see [\cite=GT0].

In this paper, we prove that if [formula] is a semilattice having both 0 and 1 with a group [formula] of operators acting on [formula], and each operator in [formula] fixes both 0 and 1, then there is a quasivariety [formula] such that the lattice of theories of [formula] is isomorphic to [formula]. In fact, the construction works for a slightly more general class of operators than groups, but still a rather special type of monoid.

In a third part of this study, the second author shows that the congruence lattice [formula] of a semilattice with operators can be represented as a lattice of implicational theories in a language that may not contain a primitive equality relation [\cite=JBN08].

A fourth part of the study looks at the structure of lattices of atomic theories in languages without equality [\cite=HKNT].

Let us review, from Gorbunov [\cite=VG2] or Part I, how congruences work on structures with both operations and relations. A congruence on a structure [formula] is a pair θ  =  〈θ0,θ1〉 where

θ0 is an equivalence relation on A that is compatible with the operations of [formula], and

[formula] where, for each relation symbol [formula],

[formula], i.e., the original relations of [formula] are contained in those of θ1, and

if [formula] and [formula] and [formula] componentwise, then [formula].

For an atomic formula α on a structure [formula] and a congruence θ, let us write α∈θ to mean either (1) α is s  ≈  t where (s,t)∈A2 and (s,t)∈θ0, or (2) α is [formula] where [formula] and [formula]. For a quasivariety [formula] of structures, let [formula] denote the smallest [formula]-congruence on [formula] containing α.

Let [formula] be the semilattice of compact [formula]-congruences of a structure [formula]. This is a join semilattice with zero. Every endomorphism ε of [formula] induces an endomorphism [formula] of [formula], as follows. The endomorphism acts componentwise on [formula]: [formula]. Thus we can write εα to mean either εs  ≈  εt or [formula], as appropriate. Every compact [formula]-congruence φ on [formula] can be expressed as a finite join [formula]. Define [formula]. It is shown in Section 3 of Part I that [formula] is well-defined, and preserves joins and 0. Thus [formula] is an operator on [formula], i.e., a [formula]-endomorphism. In our representation of lattices of quasi-equational theories as congruence lattices of semilattices with operators, in Part I, the semilattices [formula] are the compact [formula]-congruences of a [formula]-free structure [formula], and the operators are those induced on [formula] by the endomorphisms of [formula].

Representations of [formula]

This section describes ways to represent the congruence lattice of a semilattice, say [formula], as the lattice [formula] of quasi-equational theories containing a theory [formula]. Note that the congruence lattice of a semilattice is coatomistic. Later on, we will modify the representations to fit [formula] where [formula] is a sufficiently nice set of operators.

It will be convenient to use a closely related type of relation, rather than congruences. For an algebra [formula] with a join semilattice reduct, let [formula] be the lattice of all reflexive, transitive, compatible relations R such that

R  ⊆    ≤  , i.e., x  R  y implies x  ≤  y, and

if x  ≤  y  ≤  z and x  R  z, then x  R  y.

The isomorphism is given by the map [formula]; see the proof of Lemma 7 in Part I.

The general setup is described as follows. We are given a semilattice [formula], and we want to construct a quasi-equational theory [formula] such that [formula]. Some simplifications are possible in the finite case, and the second representation requires that the semilattice have a greatest element, which will be denoted by 1.

1. Label [formula].

2. Construct [formula]. For a < b in [formula], let 〈a,b〉 denote the principal eon-relation generated by (a,b). Compact eon-relations are joins of finitely many of these. Coatoms of [formula] correspond to congruences with two blocks, an ideal and its complement.

Eon relations of the form [formula] for an ideal I of [formula] will be termed equational. The equational relations include the least and greatest eon-relations, Δ and [formula] respectively, and are closed under joins.

An example of [formula] is given in Figure [\ref=figx3], where for space purposes 〈a,b〉 is abbreviated as ab. The solid points indicate the equational eon-relations.

3. The plan is now to assign predicate symbols A, B, [formula] to the elements of [formula], and to define a quasi-equational theory [formula] in this language that will represent [formula] as the lattice of theories containing [formula].

For each finite join [formula] in [formula], let C be identified with the conjunction &Aj, so that [formula] will be part of the theory of [formula]. (When [formula] is finite, we only need predicate symbols for the join irreducible elements of [formula].) It is sometimes convenient to have special predicate symbols T and E reserved corresponding to 0 and 1, respectively.

First representation.

The simplest representation, from Gorbunov and Tumanov [\cite=GT0] (see Theorem 5.2.8 in Gorbunov [\cite=VG2]), has unary predicates A(x), B(x) etc. for the elements of [formula]. The quasi-equational theory [formula] satisfies the laws

[formula]

The isomorphism from [formula] to [formula] has 〈0,b〉 mapping to the theory given by the law B(x), and 〈a,b〉 mapping to the theory given by the law [formula]. More generally, [formula] corresponds to the conjunction over the indices j of laws [formula], and the join of a set of principal eon-relations corresponds to their conjunction.

Second representation.

If we assume that [formula] has a largest element 1, then there is another kind of representation of [formula]. This incorporates some ideas from a different representation due to Gorbunov; see Theorem 5.2.10 of Gorbunov [\cite=VG2], though it goes back to [\cite=VG0].

We again use unary predicates A(x) corresponding to elements of [formula] (or just the join irreducibles in the finite case), and a predicate E(x) corresponding to 1. Let e be a constant symbol. The representation is given by the quasi-equational theory [formula] with the laws

[formula]

Using the first two laws, we obtain the following.

The atomic formulae in the language of [formula] have the forms

[formula]

A quasi-identity is [formula] with each λi and ρ an atomic formula. We may assume that no λi is of the form x  ≈  y or x  ≈  e.

If ρ involves only a single variable x, or x and e, then we can replace all the remaining variables by e, and then omit those terms to obtain a law in one variable that is equivalent to [formula] modulo the laws of [formula]. For example, [formula] is equivalent to [formula] because Bj(e) holds in [formula] for all j.

If ρ is x  ≈  y, we can first replace every variable except x by e, and then remove all λi of the form B(e), to obtain a law [formula]. Then replace every variable except y by e, and remove all λj of the form A(e), to obtain a law [formula]. The two laws together are equivalent to the original, because [formula].

For example, the law [formula] is equivalent to the two laws [formula] and [formula].

In [formula], all the following hold.

Every quasi-identity is equivalent to one-variable laws.

Every predicate except ≈   is unary.

[formula].

A(e) holds for all predicate symbols A.

So, in considering extensions of the quasi-equational theory of [formula], we may restrict our attention to implications of the form [formula] where P and Q are conjunctions of atomic predicates A(x), or empty.

Again, the isomorphism of [formula] with the lattice of quasi-equational theories containing [formula] has 〈0,b〉 mapping to the law B(x), and 〈a,b〉 mapping to [formula]. More generally, [formula] corresponds to the conjunction over the indices j of laws [formula].

Now one can see that the order and join dependency relation on the semilattice of compact elements of [formula] are determined as follows.

〈a,b〉  ≤  〈c,d〉 iff a  ≥  c and [formula],

[formula] iff there exists a sequence [formula] such that

[formula]

That is, for a  ≤  b in [formula], we have (a,b)∈〈c,d〉 iff a = b or a  <  b, a  ≥  c, [formula]. The proof is routine checking. Similarly, check that the description (2) of the join is correct.

Likewise, in the theory of [formula], the implication [formula] is a consequence of [formula] if and only if [formula] and [formula]. A condition analogous to (2) describes when [formula] is a consequence of the conjuction of implications [formula]. Thus the rules for deduction in [formula] mimic the rules for eon-relation generation in [formula]. Consequently, [formula].

The dual leaf as the congruence lattice of a semilattice with operators

The dual leaf is the lattice in Figure [\ref=figx1]; it is the dual of [formula], where [formula] is the lattice of convex subsets of a 4-element chain. The dual leaf is meet semidistributive but not upper bounded, and supports an equa-interior operator, viz., η(1) = 1 and η(x) = 0 for all x < 1. It is an open question whether the dual leaf is a lattice of quasi-equational theories [formula] for some [formula]. However, the dual leaf has a natural representation as [formula] where [formula] is given in Figure [\ref=figx2], f(xk) = xk + 1 and g(xk) = xk - 1 for x∈{a,b,c,d} and [formula]. (Compare the representation of [formula] as a lattice of ε-closed algebraic subsets in Example 5.5.10 of Gorbunov [\cite=VG2].)

In Section [\ref=slgo], we will modify this example to represent the dual near-leaf of Figure [\ref=figx7] as a lattice of quasi-equational theories.

Sufficient conditions for reduction to one variable

An important objective is to find conditions that allow us to represent certain congruence lattices of semilattices with operators as lattices of quasi-equational theories. The motivating case is when the semilattice has a largest element and the operators form a group, but the results are slightly more general than that. We begin with properties that permit us to consider only quasi-identities in one variable.

Let us say that a monoid [formula] is reductive if

for every pair f, [formula] there is an element [formula] such that either f = hg or g = hf.

This is a rather strong property, but in particular, every group is reductive.

Let [formula] denote the operation in [formula], so that [formula].

Let [formula] be a quasivariety in a language [formula] with the following restrictions and laws.

[formula] has only unary predicate symbols (except for ≈  ).

[formula] has only unary function symbols, corresponding to the elements of a fixed reductive monoid [formula].

[formula] has one constant symbol w.

[formula] satisfies the law [formula] for every predicate symbol of [formula].

[formula] satisfies the law f(w)  ≈  w for every function symbol of [formula].

[formula] satisfies identities saying that the functions act as the monoid [formula], that is, i(x)  ≈  x and f(g(x))  ≈  h(x) whenever [formula].

[formula] satisfies the laws

[formula]

for every function symbol of [formula].

Then every quasi-identity holding in a theory extending the theory of [formula] is equivalent (modulo the laws of [formula]) to a set of quasi-identities in only one variable. Hence the lattice of theories [formula] is isomorphic to [formula], where [formula] with [formula] the semilattice of compact [formula]-congruences of the [formula]-free structure [formula] and [formula] the monoid of endomorphisms of [formula] induced by the endomorphism monoid [formula].

First note that, by properties (5) and (7), for each function symbol f, the quasivariety [formula] satisfies the law [formula]. Secondly, each atomic formula of the form f(x)  ≈  g(y) is equivalent modulo the laws of [formula] to one of the forms x  ≈  h(y) or h(x)  ≈  y. For by property (R), there is an element [formula] such that either f = hg or hf = g. If f = hg, then using laws (6) and (7),

[formula]

and a similar calculation applies if hf = g.

Thus every atomic formula is equivalent in the theory of [formula] to a formula of one of the following forms:

[formula]

We want to show that any law [formula] involving more than one variable is equivalent to a set of laws involving fewer variables. We may assume that ρ is an atomic formula of one of the above forms, involving either a variable x, or variables x and y, or the constant w, or x and w.

The premise λ is a conjunction of atomic formulae. By property (5), we can replace any appearance of f(w) in λ by w. By the remarks in the first paragraph of the proof, we can replace any appearance of a formula of the form f(x)  ≈  w or f(x) = g(y) by an equivalent formula. Thus, using z to denote an arbitrary variable not appearing in ρ (there may be more than one of these), then λ is a conjunction involving some (including none or all) of the following forms:

[formula]

If perchance the hypothesis λ includes any one of the following forms:

[formula]

then we can replace all occurrences of the variable on the left by the corresponding expression on the right, and obtain an equivalent law with fewer variables. So we may assume that none of these forms appears in λ, and thus λ involves only these forms:

[formula]

If, after the previous substitutions, the conclusion ρ involves only x, or w, or x and w, i.e., it has one of the forms:

[formula]

then we may replace all the variables except x by w. To see that this is equivalent, note that λ involves only relational forms or t  ≈  f(t) with t a variable, while [formula] satisfies the laws [formula] for every predicate symbol and f(w)  ≈  w for every function symbol, by properties (4) and (5). Thus the implication obtained by replacing the other variables by w is an (at most) one-variable law that is equivalent to the original. It remains to consider the case that ρ is either x  ≈  y or x  ≈  f(y), which we now assume.

Now replace all the variables except x and y by w. As before, the law obtained with this substitution is equivalent to the original. Hence we may assume that λ is a conjunction of these forms:

[formula]

In particular, each of these expressions involves only one of x, y or w. We can write λ as λx  &  λy  &  λw, where each of these is a (possibly empty) conjunction of formulae involving only that variable.

Now replace y by w, and then replace any occurrence of a term of the form f(w) by w in view of property (5). This yields a law of the form [formula], which is a consequence of [formula] and the laws of [formula]. The hypothesis H(x,w) is the conjunction of the terms on the LHS involving x and w, and terms of the form A(w) replacing any previous occurrence of A(y) or A(f(y)); any terms w  ≈  w obtained by the substitution may be omitted. Note that [formula] and [formula] by property (4). Thus we can write H(x,w) as λx  &  λ*y  &  λw, where λ*y involves only w and [formula].

Similarly, replacing x by w yields a law [formula] where G(y,w) can be written as λ*x  &  λy  &  λw, with λ*x involving only w and [formula]. Thus we have derived two laws, in one variable each.

Conversely, these two laws together imply the original, because

[formula]

since ρ is either x  ≈  y or x  ≈  f(y), and f(w)  ≈  w in [formula].

Note that any theory extending the theory of [formula] includes (1)-(7), and thus is determined by its laws in one variable. The last statement of the theorem is then a consequence of Theorem 6 of Part I, which states that the lattice of quasi-equational theories that (1) contain [formula], and (2) are determined relative to [formula] by quasi-identities in at most n variables, is isomorphic to [formula], where [formula] with [formula] the semilattice of compact congruences of [formula], [formula], and [formula].

The elements of [formula] are w and f(x) for [formula]. Endomorphisms of [formula] are determined by the image of x. The endomorphisms are the constant map εw:t  ↦  w for all t, and the maps εf for [formula] with εf(w) = w and εf(g(x))  =  g(f(x))  =  (fg)x. Note that the mapping f  ↦  εf embeds [formula] into [formula], as εfεg  =  εfg. This follows from the calculation εfεg(x)  =  εf(g(x))  =  g(f(x))  =  (fg)(x)  =  εfg(x).

The pseudo-one

We turn to the problem of trying to represent the congruence lattice of a semilattice with operators as a lattice of quasi-equational theories.

In a lattice [formula] such that [formula] for some quasi-equational theory [formula], there is an element u corresponding to the theory generated by [formula]. This element is referred to as the pseudo-one of [formula]. The element u is compact, satisfies η(u) = u for the natural equa-interior operator on [formula], and the interval

[formula]

is coatomistic. The existence of the pseudo-one is listed as property (I8) of an equa-interior operator in Part I.

A lattice [formula] such that [formula] for some semilattice with operators may have no such element. The congruence lattice of [formula], where p(0) = 0 and p(x) = x - 1 for x > 0, is isomorphic to ω  +  1. Since ω  +  1 contains no element satisfying the properties of the pseudo-one, it is not isomorphic to [formula] for any [formula]. In trying to represent the congruence lattice of a semilattice with operators as a lattice of quasi-equational theories, when possible, one must find an element [formula] such that [formula] is the pseudo-one of [formula]. Note that in the case when [formula] has a top element 1, the largest congruence [formula] is compact, and thus is a candidate for the pseudo-one in a potential representation of [formula] as a lattice of quasi-equational theories.

Let [formula] be a quasivariety with [formula]. Consider the least [formula]-congruence Υ on [formula] with [formula], i.e., [formula] where [formula] is the universal relation. (Congruences on structures are reviewed in the Introduction.) Now Υ may or may not be compact in [formula]. Nonetheless, it has a very nice property.

Let θ  =  〈θ0,θ1〉 be a compact [formula]-congruence on [formula]. If (s,t)∈θ0, then [formula], so [formula]. Likewise, if [formula] for a relation R, then [formula] componentwise, and hence [formula]. Thus [formula]. Express θ as a join of principal [formula]-congruences, say [formula]. From the preceding arguments, we conclude that [formula]. The reverse inclusion, that [formula], is similar.

Now, as usual, let [formula] with [formula] the semilattice of compact [formula]-congruences of [formula] and [formula] the monoid of endomorphisms of [formula] induced by the endomorphism monoid [formula]. Assuming that |X|  ≥  2, Let κ be the compact [formula]-congruence [formula] on [formula]. Then

[formula]

in [formula]. When X  =  {x} and the language of [formula] has a constant symbol w, the same equation holds with [formula].

Back in [formula], Lemma [\ref=pseudo] translates as follows: for every compact [formula]-congruence θ of [formula], and every [formula], there exist endomorphisms [formula] such that

[formula]

Thus we have the following conclusion.

If [formula] for some quasi-equational theory [formula], then there is a semilattice with operators [formula] such that [formula], with [formula] satisfying this property: there exists an element [formula] such that, for every [formula] and [formula], there exist finitely many [formula] such that

[formula]

It is not clear how to use this property to build representations in a general setting. In the next section, we will take the easy way out and assume that [formula] has a largest element 1 that is fixed by the operators of [formula].

Lattices of 1-variable quasi-equational theories

The following result represents certain congruence lattices of semilattices with operators as the lattice of 1-variable quasi-equational theories of a quasivariety, when the semilattice has a largest element 1 that is fixed by every operator. In this case, 1 can play the role of κ.

A monoid [formula] is said to be right cancellative if gf = hf implies g = h for all f, g, [formula]. Groups, of course, are right cancellative.

Let [formula] be a join semilattice with 0 and 1, and let [formula] be a right cancellative monoid of operators acting on [formula]. Assume that f(1) = 1 for every [formula]. Then there is a quasivariety [formula] such that [formula] is isomorphic to [formula], where [formula] is the semilattice of compact [formula]-congruences of [formula] and [formula] is the monoid of endomorphisms of [formula] induced by [formula].

Moreover, the laws of the quasivariety [formula] in this theorem will include those of the quasivariety [formula] from Theorem [\ref=unary-rev].

Our language will include unary predicate symbols A for each nonzero element a of [formula], operation symbols f for each [formula], and a constant w. The predicate symbol U corresponds to the element 1.

The construction begins by assigning a set [formula] of atomic formulae to each element of [formula], including s = 0. For s∈S, let [formula]. Also, let [formula] be the set of atomic formulae involving w given by [formula].

Define [formula] to be the quasivariety determined by these laws.

f(w)  ≈  w for every [formula].

i(x)  ≈  x and f(g(x))  ≈  h(x) whenever [formula].

[formula] for every [formula].

[formula] for each pair [formula].

[formula].

A(f(x)) whenever a  ≠  0 and f(a) = 0 in [formula].

A(w) for all nonzero [formula].

[formula] whenever a  ≤  b, [formula], [formula].

[formula] whenever [formula], [formula], [formula] for each j.

The laws of [formula] contain the laws of the quasivariety [formula] of Theorem [\ref=unary-rev]. The language is specified to satisfy (1)-(3), while Law (4) has been replaced by (11), which is stronger. Laws (5)-(7) are included here, and the last six (8)-(13) are new. Note that laws (10) and (11) correspond to the predicates in [formula] and [formula], respectively. Also, law (12) is redundant as a special case of (13). As in the proof of Theorem [\ref=unary-rev], [formula] satisfies [formula].

The universe of [formula] is [formula]. The operations correspond to elements of [formula], but composing as in [formula] per law (6). There is a unary predicate [formula] for each nonzero element a of [formula]. In the free structure only (10) and (11) apply, with the remaining laws adding no additional relations. Thus [formula] holds for all [formula], and [formula] holds for all [formula].

The endomorphisms of [formula] are again the constant map εw with εw(f(x))  =  εw(w) = w for all [formula], and the maps εf with εf(w) = w and εf(g(x)) = g(f(x)) = (fg)x for all f, [formula].

Recall that a congruence θ on a structure is a pair 〈θ0,θ1〉 where θ0 is an equivalence relation and θ1 is a collection of predicates. In describing congruences on [formula], we will use Δ to denote the diagonal (equality) equivalence relation, and [formula] to denote the universal binary relation, [formula].

Note that modulo the laws of [formula], every relational atomic formula is equivalent to one of the form A(f(x)). For, using law (6), A(x) is equivalent to A(i(x)), and A(f(g(x))) is equivalent to A(h(x)) where h = gf. Each atomic formula of this form is in exactly one set [formula], viz., for s = f(a), and so the sets [formula] form a partition of these representative atomic formulae.

Claim 1: The following are [formula]-congruences on [formula]:

for any nonempty proper ideal I of [formula], [formula],

for the largest ideal I  =  S, [formula].

Note that A(f(x))∈(θI)1 if and only if f(a)∈I. For a principal ideal [formula], let us write θs instead of [formula].

Clearly equality and the universal relation respect the operations of [formula], join and all [formula]. Any set of relations is compatible with the diagonal Δ, and because (θS)1 contains all possible predicates on [formula], it is compatible with [formula].

It remains to verify that the quotient structures [formula] satisfy the laws of [formula]. We may assume that I < S, since θS is the largest congruence of [formula]. Laws (5) and (6) follow from the definition of the operations in [formula], and laws (10) and (11) from the relations [formula] holding in [formula].

For law (7), suppose f(g(x))  =  f(h(x)). Then (gf)x = (hf)x, and since [formula] is right cancellative and [formula] is free, g = h. Hence g(x) = h(x).

For law (8), f(x)  ≠  g(x) in [formula] for f  ≠  g, although f(w) = w = g(w).

For law (9), if U(f(x)) is in (θI)1, then f(1)  =  1 is in I, and hence [formula].

Since law (12) is a special case of law (13), we consider (13). Again, we may assume I < S. Let [formula], [formula], and [formula] for each j. Suppose βj∈(θI)1 for each j, so that fj(cj) = bj∈I. Then [formula], and hence g(d)  =  a∈I. It follows that α∈(θI)1, as desired.

Thus each [formula] is in [formula].

Claim 2: For ideals I and J, [formula] if and only if I  ⊆  J. In particular, if [formula] with say a∈I - J, then A(x)∈(θI)1  -  (θJ)1. Thus the map I  ↦  θI is one-to-one.

Claim 3: Every [formula]-congruence on [formula] is θI for some ideal I. Indeed, given a [formula]-congruence ψ  =  〈ψ0,ψ1〉, by laws (7) and (8) its equivalence ψ0 is either Δ or [formula]. Moreover, ψ1 contains [formula] by laws (10) and (11). Let [formula]. Then I is an ideal by (12) and (13). If 1∈I, then [formula] by law (9), for U(f(x))∈ψ1 implies (f(x),w)∈ψ0, which in [formula] is equivalent to (x,w)∈ψ0. If 1∉I, then ψ0  =  Δ, again by (7) and (8). It follows that θ  =  θI. Note that θI is compact exactly when I is principal.

Claim 4: For [formula], w(θs)  =  θ0, the least congruence on [formula]. By definition, w(θs) is the [formula]-congruence generated by all pairs (εwu,εwv) with (u,v)∈(θs)0 and all relations A(εwu) with A(u)∈(θs)1. The former are just the single pair (w,w), and the latter are all contained in [formula]. Thus w(θs)  =  θ0, the least congruence on [formula].

Claim 5: For an endomorphism εh with [formula], h(θs)  =  θh(s). Again, h(θs) is the [formula]-congruence generated by all pairs (εhu,εhv) with (u,v)∈(θs)0 and all relations A(εhu) with A(u)∈(θs)1. If s = 1, then U(x) is one of the latter, whence h(θs)  =  θ1, while h(s) = h(1) = 1 by assumption on [formula].

Hence we may assume that s < 1, and so (θs)0  =  Δ. Of course, εh(Δ)  ⊆  Δ. Consider a relation A(f(x))∈(θs)1. Then [formula] for some t with f(a)  =  t  ≤  s. Now εh(f(x))  =  f(h(x))  =  (hf)(x) in [formula], while (hf)(a) = f(f(a))  =  h(t)  ≤  h(s) in [formula]. Thus A(εh(f(x))) is in [formula], which is contained in (θh(s))1. Moreover, with f = i and a = s, these relations include S(h(x)), which is a generator for the [formula]-congruence θh(s). Thus h(θs)  =  θh(s).

We have seen that the compact [formula]-congruences of [formula] are in one-to-one correspondence with the elements of [formula], via the map s  ↦  θs. The action of the operators [formula], for [formula], on the semilattice [formula] of compact [formula]-congruences of [formula], mimics the action of [formula] on [formula], while [formula] is the constant zero map. Therefore [formula].

This completes the proof of the theorem.

For groups of operators, we can get by with only one predicate per orbit, and we could use inverses instead of [formula].

Semilattices with groups of operators

To combine the previous two theorems, we want to consider a quasivariety [formula] satisfying all the laws (1)-(13) with [formula] both reductive and right cancellative.

Let [formula] be a join semilattice with 0 and 1, and let [formula] be a reductive, right cancellative monoid of operators acting on [formula]. Assume that f(1) = 1 for every [formula]. Then there is a quasivariety [formula] such that the lattice of quasi-equational theories of [formula] is isomorphic to [formula].

This corollary applies to the following situations, so that in each case the congruence lattice of the semilattice with operators is representable as a lattice of quasi-equational theories.

[formula] is a semilattice with 0 and 1 and a group of operators fixing both 0 and 1.

In particular, [formula] is a semilattice with 0 and 1 and [formula] is any subgroup of [formula].

[formula], where [formula] denotes the non-positive integers and -    ∞  , ∞   are new least and greatest elements, respectively. This is a join semilattice with the operators pk(x) = k + x for k, [formula] and pk(  ±    ∞  ) =   ±    ∞  .

[formula] can be replaced by non-positive rationals, or reals, in the preceding example.

More generally, we can take [formula] to be the negative cone of a totally ordered group, with new least and greatest elements -    ∞  , ∞   adjoined, and say the left translations, pk(x) = kx for k, [formula] and pk(  ±    ∞  ) =   ±    ∞  , as operators.

The operations can be restricted to a submonoid, so long as the reductive property is maintained. In particular, we can restrict to a cyclic or quasicylic monoid.

These representations can be combined as follows. Let [formula] be a fixed semilattice with 0, 1, and a group [formula] of operators fixing 0 and 1. Let [formula] be a negative cone as above, and let [formula] denote its operators. Now replace each point of [formula] by [formula], i.e., take [formula] with the lexicographic order, and adjoin new elements ±    ∞  . Then [formula] operates on [formula] naturally: (pk,f)(x,y)  =  (kx,f(y)) and (pk,f)(  ±    ∞  ) =   ±    ∞  . Moreover, it is reductive and cancellative, and so the corollary applies.

If the chain [formula] is discrete, we could identify the 0 and 1 of consecutive semilattices in the chain in the previous construction.

There are a lot of details to be checked there, but they are routine.

For example, with the negative cone [formula] of a totally ordered group and its full complement of operators pk, we obtain a representation of the lattice [formula], where [formula] denotes nonempty ideals, as a lattice of quasi-equational theories. With [formula], we see that [formula] is [formula] for some [formula].

The Universal Algebra Calculator of Ralph Freese and Emil Kiss [\cite=UAC] has proved to be useful in calculating the congruence lattice of a finite semilattice with a group of operators. Even when [formula] is fairly small, its congruence lattice can be rather large.

Now let us represent the dual near-leaf of Figure [\ref=figx7]. For [formula] we take the semilattice in Figure [\ref=figx2] and add a top element 1. There is a natural action of the integers [formula] on [formula] as noted in Section [\ref=leaf]. With the new 1 added, we obtain the dual near-leaf as [formula]. Following the prescription given above, this is the lattice of theories of the quasivariety satisfying the laws below. As before, we denote the action of [formula] by f(xk) = xk + 1 and g(xk) = xk - 1 for x∈{a,b,c,d} and k∈ω, and f(0) = 0 = g(0) and f(1) = 1 = g(1).

[formula]

Again, it is instructive to make a chart of the dual near-leaf with the corresponding congruence generators and theories (where ~   indicates that laws are equivalent modulo the defining relations). Here are some of them:

[formula]

Note that only 0, 1 and μ are equational.

The dual near-leaf is not an upper bounded lattice, and thus answers in the negative Question 3 from Adams, Adaricheva, Dziobiak and Kravchenko [\cite=AADK]. Dually, not every finite Q-lattice is lower bounded.

Discussion

The constant w played a crucial role in the reduction to one variable, Theorem [\ref=unary-rev]. This was borrowed from Gorbunov, see [\cite=VG2], and some such device is necessary. For example, the law [formula] says that if there exists an x with A(x), then B(y) holds for all y. It cannot be reduced to one variable without introducing a constant.

On the other hand, the properties that we have given to w have the consequence of making the unit congruence of [formula] compact, so that we must limit consideration to semilattices with both 0 and 1. In turn, if [formula] has both 0 and 1, then the largest congruence of [formula] is compact.

Question: Under what circumstances is it true that if the largest congruence of [formula] is compact, then [formula] for some [formula] with both 0 and 1?

Now consider a semilattice with operators [formula] that has 0 and 1. Let θ be any congruence on [formula], and let F be the order-filter 1 / θ. Then F satisfies

[formula]

For any such order filter F, there is an interval

[formula]

Summary and questions to pursue

Our results can be reasonably summarized, and compared to previous results on lattices of quasivarieties, by considering four classes of lattices.

[formula] is all Q-lattices [formula] for a quasivariety [formula].

[formula] is all duals of [formula] with [formula] a set of operators.

[formula] is all [formula] with [formula] algebraic and ε a Brouwerian, filterable, continuous quasi-order.

[formula] is all join semidistributive, atomic, dually algebraic lattices supporting an equaclosure operator satisfying the duals of conditions (I1)-(I9) from Part I.

Each of the latter three classes contains [formula], and thus provides a different type of description of lattices of quasivarities. Part I established the inclusion [formula], and derived some of its consequences. This interpretation led to the identification of new properties of the natural equaclosure operator on [formula].

This paper has focused on the reverse problem of representing congruence lattices of semilattices with operators as lattices of quasi-equational theories.

The representation of the congruence lattice [formula] of a semilattice with no operators as a lattice of quasi-equational theories becomes quite transparent with this viewpoint.

Every congruence lattices [formula], where [formula] has both 0 and 1 and [formula] is a group of operators fixing both 0 and 1, can be represented as a lattice of quasi-equational theories.

There is a finite lattice of quasi-equational theories that is not an upper bounded lattice.

A gap in our current understanding is that we have not found an effective way to deal with condition (I8) for equa-interior operators, the existence of a pseudo-one, which can fail in the congruence lattice of a semilattice with operators.

The older representations of Q-lattices as lattices of algebraic sets had problems with the duals of conditions (I8) and (I9) from Part I. In that sense, the new representation may be preferable. But it is not clear at all that [formula] and [formula] are comparable: we don't know if the relation determining the congruence lattice of a semilattice [formula] with operators as a complete sublattice of [formula] is continuous. (See Appendix I of Part I.) Since continuity is the only issue, it is true that if [formula] is finite, then the dual of [formula] is in [formula].

There is no reason to think that the properties describing [formula] actually characterize Q-lattices, but we believe that they summarize what is known at this point. That leaves us with some interesting questions.

Given a lattice [formula], when can we represent [formula] as the lattice of theories of a quasivariety?

In particular, can we represent the dual leaf (Figure [\ref=figx1]) as the lattice of theories of a quasivariety?

Given a finite meet semidistributive lattice [formula] with an equa-interior operator, when can we represent [formula] as either the congruence lattice of a semilattice with operators or the lattice of theories of a quasivariety?

Find an algorithm to determine whether a finite meet semidistributive lattice supports an equa-interior operator satisfying (I1)-(I9). (We have done this for the original conditions; see [\cite=AN].)

We know that the variety given by the law x  ≈  y plays a special role in the lattice of quasivarieties. Find a good description of this behavior in the context of semilattices with operators.

The authors would again like to thank the referee for many helpful comments.