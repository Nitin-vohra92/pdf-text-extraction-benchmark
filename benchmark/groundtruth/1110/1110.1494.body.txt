Counterflow in Evacuations

Introduction and Description

It is usually assumed that during evacuations counterflow [\cite=Simon1998] [\cite=Muramatsu1999] [\cite=Blue2000] [\cite=Algadhi2001] [\cite=Tajima2002] [\cite=Isobe2004] [\cite=Kretz2006d] [\cite=Kretz2008d] [\cite=Schadschneider2009] [\cite=Schadschneider2009b] - or bi-directional flows - only occurs when occupants and rescue forces meet in opposite directions and that apart from that counterflows should not occur as they would inevitably imply that the time for evacuation is higher than necessary. This is surely true for a situation as shown in figure [\ref=fig:simple].

However, what if the exits have different capacities and are located at different walking distances from the two groups? What, furthermore, if the two groups have distinct walking speeds? Figure [\ref=fig:scenario] shows such a situation.

There are two groups of occupants shown in blue and red each in their own room. Each group has exactly 100 members. The two groups differ as the blue agents have a desired walking speed of 2.5  ±  0.2 km/h (about 0.7 m/s) and the red agents 10.0  ±  1.0 km/h (about 2.8 m/s). Within the given boundaries the speeds are distributed equally among the population.

The two exits differ in two important aspects: the one on the upper left (exit A) is the closer one for both groups of occupants, but it has a restricted capacity - the occupants need to pass a bottleneck before they reach the exit. The exit to the lower right (exit B) is more remote for both groups, but it has - considering the total number of occupants - nearly unlimited capacity. The geometric dimensions are shown in figure [\ref=fig:masse].

It is not difficult to see that the bottleneck in front of exit A will produce high total evacuation times as well as high average individual egress times if all occupants choose to use exit A. It therefore might make sense with regard to the user-equilibrium [\cite=Bell1997] as well as the system optimum that a number of occupants use exit B. However, as exit B is rather far away, the costs to use it in terms of travel time are lower for the faster red agents. From this, one can hypothesize that to optimize at least some of the egress performance measures it makes sense to accept counterflow in the small corridor which connects the two main corridors.

Principally the distribution of pre-movement times as well as the individual choice of exits would produce a large number of variants. These have been reduced for this study to four by assuming a pre-movement time of zero and that all members of a group walk to the same exit.

This leaves four variants which are compared regarding the evacuation performance measure:

Shortest Path: blue group and red group both use exit A.

Maximum Capacity: blue group and red group both use exit B.

Separated: blue group uses exit B and red group uses exit A.

Counterflow: blue group uses exit A and red group uses exit B.

This is shown as a matrix in table [\ref=tab:properties].

Paper and Pencil Calculation

To investigate this hypothesis we first do a simple calculation of the total evacuation times for both groups, i.e. the time when the last pedestrian of each group has left the building. For this the geometry of figure [\ref=fig:masse] is reduced to the network graph shown in figure [\ref=fig:network]. In addition to the variables and their values given there, what is needed for the following calculations are the walking speed of a member of the red group vr  =  2.78 m/s, the walking speed of a member of the blue group vb  =  0.69 m/s, the assumed specific flow j  =  1.3 1/ms (in accordance with [\cite=IMOMSC1238]), the width of exit A bA  =  0.8 m, the width of exit B: bB  =  9.7 m, and the number N = 100 of the pedestrians in each of the groups. The widths of the doors of the rooms where the two groups start are equal: br  =  bb  =  1.5 m.

With these definitions and values the egress times for the two groups can be calculated. We begin with the simplest case.

Case 1: Separated

In this case the bottleneck for the red group is exit A and the bottleneck for the blue group is the door of their starting room. Therefore the evacuation times result as

[formula]

Case 2: Maximum Capacity

We neglect that the members of the red group might slow down when walking around the corners and when they have to overtake the members of the blue group. For the blue group as well we neglect any negative impact from the fact that they now have to share the wide (lower) corridor with the red group. Therefore their evacuation time is calculated in the same way as in the previous case.

[formula]

Case 3: Shortest Path

Here both groups queue before the narrow exit A. The evacuation times depend much on the assumption which group moves first through the bottleneck. If it was the red group, for the red group an evacuation time as in case 1 would result. If it was the blue group an evacuation time as in case 4 would follow. For the total evacuation time the worst case assumption is that both groups move alternating. This maximizes the time for both groups and gives - in this type of calculation - equal results.

[formula]

Case 4: Counterflow

The puzzling question in this case is with what factor one should take care for the fact of counterflow. For this simple calculation here we decide to do not at all so, i.e. assume that the counterflow is as efficient as if it was uni-directional. First the connecting corridor is relatively wide compared to the two doors of the starting rooms, second, from this simple calculation it does not follow how long the counterflow situation persists, and third with an assumed optimal flow from the result it can become apparent how large the loss in flow efficiency could be, before the conclusions of the calculation would have to be modified.

[formula]

Table [\ref=tab:resultspap] summarizes these results. It shows that the counterflow strategy performs best.

Simulation

Motivated by this result but still careful for having done many simplifications, we now simulate the scenario using VISWALK (the pedestrian module of VISSIM) [\cite=Kretz2008b] [\cite=Fellendorf2010] [\cite=VISSIM2010]. The pedestrian dynamics model of VISWALK is the variant of the Social Force Model introduced as elliptical variant II in [\cite=Johansson2007] [\cite=Helbing2009] with minor modifications and extensions for specific situations.

At the beginning of the simulation the occupants are set into the simulation equally distributed over their room.

Each of the four variants has been simulated 20 times with different random numbers for the stochastic term of the Social Force Model. Table [\ref=tab:results1] shows the average (over simulation runs) of averages of individual egress times.

Figures [\ref=fig:20sec] to [\ref=fig:120sec] show screen captures of the animated simulation runs. From the 20 simulation runs that were carried out those four were selected (respectively their random number generator seed value), which were closest to the average with respect to the average individual egress time for both the blue as well as the red agents.

These results show that for the blue as well as for the red group the case with counterflow leads to the smallest value of average individual egress times, with regard to this measure this therefore obviously is the system optimum. It can easily be seen that with table [\ref=tab:results1] as cost matrix in an iterated game [\cite=Kreps1992] [\cite=Camerer2003] [\cite=Osborne2004] [\cite=Kretz2011d] the case with counterflow as well emerges as stable user equilibrium.

With respect to the time when 95% of the agents (i.e. 190 agents) have reached one of the two destination areas for the red group again the counterflow strategy would be clearly the best one, while within the variance of results for the blue group "counterflow", "separated", and "maximum capacity" are equally well suited, only "shortest path" is worse. If one neglects the statistical scatter of results and only considers the mean value then the "Maximum Capacity" strategy would be the user equilibrium.

Finally for the case of total evacuation times as shown in table [\ref=tab:results100] - only considering mean values and neglecting the standard deviations - the counterflow strategy remains the best one for the blue group, the sum of times is best for the maximum capacity strategy which is also the user equilibrium strategy. For the blue group the separated strategy scores best. It is not surprising that with increasing number of pedestrians within the same geometry the optimum choice shifts toward a maximum capacity strategy.

Figures [\ref=fig:evacboth] to [\ref=fig:evacblue] show the number of agents that have arrived at their destination area in dependence of the simulation time. Shown are not averages, but the time dependence of those simulation runs from which the figures [\ref=fig:20sec] to [\ref=fig:120sec] were taken and which with their average individual egress time are closest to the average of all simulation runs.

Discussion and Summary

It has been shown by thought and simulation that situations, circumstances, and evaluation measures exist with which the quickest evacuation can be achieved when the egress procedure includes a counterflow. Both, thought as well as simulation, were carried out with simplifications. If route choice were not bound to whole groups, but could be carried out and optimized individually clearly some other result would follow. However, it appears to be not far fetched to assume that still parts of the blue group would find themselves in a situation of counterflow with parts of the red group, which would imply that the main claim of the contribution would still be correct.

For this contribution the corridor width was chosen wide enough such that the friction stemming from counterflow between the occupants of the two groups is small. However, the results as shown in table [\ref=tab:results1] are clear enough to allow for increased counterflow friction. As different models of pedestrian dynamics yield strongly different friction for identical inflow and corridor width, the case with small friction is the one were models agree most and at the same time can be assumed to agree most with a - still to be done - experiment.

The impact of this study for application is currently very small. Present day emergency egress signage normally is static and group independent. To implement the solution as proposed by this study, however, an emergency egress signage would have to tell "if you are a fast walker walk this way, else the other way��, which to date is too complicated. A possible application thus will probably have to wait until individual routing information can be calculated reliably and quickly and given via mobile devices to each occupant individually in a comprehensible way [\cite=Kluepfel2010a] .

The lessons that nevertheless can be learned from the result presented in this contribution is - once more - to mistrust simple truths, after all there could be other situations, where it is not so unrealistic to place an adequate emergency egress signage. Second, the fundamental condition for the results as presented is that the two groups have different (desired) walking speeds. Therefore this is another example that the phenomena of pedestrian dynamics depend much on the width of the distribution of (desired) walking speeds, as it is the case for the stability of lanes in counterflows and stripes in crossing flows. Most obviously, however, the example is a hint that with largely scattered (desired) walking speeds there are new phenomena to be considered in the search for quickest travel time solutions.

A future elaboration of the study is to do route choice not for groups, but individually. Route choice based on estimated remaining travel time has recently been in the focus of a number of studies [\cite=Kretz2009a] [\cite=Kirik2009] [\cite=Kretz2009c] [\cite=Kretz2010c] [\cite=Kretz2010x] [\cite=Ondrej2010] [\cite=Dressler2010] [\cite=Hoecker2010] [\cite=Moussaid2011] [\cite=Kemloh2011] [\cite=Kretz2011x]. The methods proposed in these works could be used to compute a travel time based route choice individually.

Supplemental Material

The animations from which the screen shots of figures [\ref=fig:20sec] to [\ref=fig:120sec] were taken are available online: