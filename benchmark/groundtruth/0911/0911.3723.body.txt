Applications of the Dynamic Distance Potential Field Method

Introduction

In traffic science a lot of effort is put into work discussing dynamic assignment methods: trying to find proofs on the existence of an equilibrium and/or implementing it in an efficient manner for the simulation of real-world networks. This effort is justified by the conviction that Wardrop's first principle "The journey times in all routes actually used are equal and less than those which would be experienced by a single vehicle on any unused route." [\cite=Wardrop1952] is at least a good approximation for real world traffic flow distribution.

Compared to this strong emphasize of (estimated remaining) journey time in vehicular traffic science as a determinant of route choice, explicit discussion of the influence on the dynamics of pedestrians [\cite=Schadschneider2009] [\cite=Schadschneider2009b] is surprisingly scarce. Although evidently in case of emergency it's their egress time that occupants desire to minimize and not their egress path length, models of pedestrian evacuation dynamics are often constructed such that various influences change the basic direction of desired velocity, which is calculated as a gradient of the field of distances toward the exit and not a field of estimated remaining journey time. While this is not to say that pedestrian traffic always moves on quickest paths - there are probably more occasions than in vehicular traffic when it deviates from it - there are at least numerous situations, where it is close to travel time referred user-equilibrium or at least travel time is relevant for route choice.

Recently introduced dynamic distance potential fields [\cite=Kretz2009] [\cite=Kretz2009b] do not hold information on remaining journey time either, but - on any spatial scale - on the load of the remaining path and implicitly the possibility to detour jams. With this information it is possible to shift the agents' walking behavior toward user-equilibrium.

In the two subsequent sections of this paper at first the method of dynamic distance potential fields is shortly sketched and then applied in a simulation of RiMEA's test case 11 [\cite=Rimea2009].

Dynamic Distance Potential Field

Let's begin with a summary of the method: a dynamic distance potential field can be imagined as a "shadow" (as shown in figure [\ref=fig:shadow]) of agents cast "upwards" the static potential, i.e. away from the destination. One can think of a destination area as a source of light sending light rays that travel under consideration of obstacles on approximate geodisces away from the destination area. When an agent or a group of agents throws a shadow, successive agents will try to avoid the shadow, as it is a hint for upcoming delays. A shadow is the longer the larger and denser a group of agents (i.e. a jam) is.

This functionality is achieved using flood fills, where a value of 1 is added, if a cell is unoccupied and some larger value sadd, if it is occupied by an agent. But the two simple flood fill methods (over common edges or common edges and corners) result in Manhattan or Chebyshev but not the desired Euclidean metric. In this sense these two methods produce large errors and unwanted artifacts in the movement. However, the errors can be reduced for once by combining the two methods and second by using as heuristic not the time dependent potential, but its difference to the potential calculated on the empty (unoccupied) geometry.

For two mutually visible coordinates (x0,y0) and (x1,y1), Manhattan distance (i.e. a distance according to Manhattan metric) is

[formula]

and Chebyshev distance is

[formula]

From this the "minimum distance" follows:

[formula]

and therefore the Euclidean distance is

[formula]

Combining the whole potentials cell by cell in this manner - even if cells are not mutually visible - will now be called "method V1". All mentioned metrices and norms are depicted in figure [\ref=fig:norms]. A discussion of the resulting errors of this method compared to Euclidean distance is given in [\cite=Kretz2008c].

Let's call the potential calculated on the empty (no agents) geometry S0V1 and the potential after a certain time step SV1(t). Then the heuristic influencing the motion of pedestrians is Sdyn(t) = SV1(t) - S0V1.

This has been used and coupled to the F.A.S.T. model [\cite=Kretz2006f] [\cite=Kretz2006d] [\cite=Kretz2007a] [\cite=Kretz2008f] [\cite=Kretz2009e] as an additional partial probability

[formula]

multiplied to the original probability that a cell is selected as destination cell and normalized accordingly

[formula]

RiMEA Test Case 11

In RiMEA's test case 11 a group of 1000 agents is meant to leave a room using two doors, which have different distance to the agents' starting area. The geometry of test case 11 is shown in figure [\ref=fig:rimea11]. RiMEA prescribes an exit width of 1 m for the simulations. As space is discretized into cells of width 40 cm in the F.A.S.T. model, the exit width has been set to 80 cm. The parameters of the F.A.S.T. model were set to kS = 1.0 and any other k = 0. The speeds were normal distributed (3.5 cells/s, Â±   1.0 cell/s) with cut-offs at 1 and 4 cells/s. All results given are averages of 100 simulation runs.

In the description of the test case the shape and position of the actual destination area, i.e. the area from which agents are taken out of the simulation upon arrival, is not defined. Therefore three variants were tested, which are shown in figure [\ref=fig:variants].

Tables [\ref=tab:times] and [\ref=tab:right] show in numbers the effect the dynamic distance potential field has. Simulated evacuation times shrink as the agents distribute more equally on the two exits. As a by-observation the effect of the exit geometry becomes obvious.

Ammending table [\ref=tab:right] figure [\ref=fig:saddright] shows for exit geometry 2 the dependence of the number of agents leaving through the right exit in dependence on parameter sadd.

The difference becomes even more obvious, if one looks at the situation after 100 seconds in figure [\ref=fig:spatial]. One gets the impression that without dynamic distance potential field the agents are either only in small numbers "aware" of the existence of the right exit or are reluctant to walk five extra meters. This is totally different with dynamic distance potential field. Here it's almost difficult to distinguish the shape of the crowd from a geometry, where there is only one exit placed between the two actually existing ones.

Summary and Conclusions

The dynamic distance potential field method has shortly been described. It is a computationally efficient heuristic method to mimic the effects of estimated remaining journey time on route choice on the operational level of pedestrian dynamics. For fundamental reasons, but also to keep computation times small, deviations from real remaining journey time and limited errors in the metric of the field are accepted.

The method has been applicated in a simulation of RiMEA test case 11. This led to the agents utilizing the exit 5 m further away almost as well as the nearby exit, which could best be seen in a snapshot from the simulation's animation.

As long as there is no experiment for test case 11 or an observation that resembles test case 11, it's not safe to say that the dynamic distance potential field makes the simulation in this case more realistic. But with the two parameters that control the method a planner has the flexibility to model almost any point between strong preference for shorter walking paths and strong preference for shorter walking times, respectively shorter evacuation times.