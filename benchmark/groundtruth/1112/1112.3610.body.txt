=1

The Combinatorial Game Theory of Well-tempered Scoring Games

Lemma Claim Definition Corollary Aside Fact

Introduction

The standard theory of combinatorial game theory focuses on partizan games played under the normal play rule. In these games, two players take turns moving until one player is unable to. This player loses. A substantial amount of theoretical work has gone into these games, as evidenced by the books [\cite=ONAG], [\cite=WinWays], [\cite=GONC] and [\cite=MGONC]. In contrast, the earliest papers on partizan combinatorial games, by Milnor [\cite=Milnor] and Hanner [\cite=Hanner], focused on what are now called scoring games, which include games like Go and Dots-and-Boxes to varying degrees. A scoring game specifies an arbitrary numerical score depending on the ending position of the game, rather than on the identity of the final player. One player seeks to maximize this score while the other seeks to minimize it.

The papers of Milnor and Hanner focused on scoring games having the property that there is always an incentive to move. In other words, players would always prefer moving to passing. With this assumption, games modulo equivalence form a nice abelian group, one that is closely related to the normal-play partizan games. This assumption may seem limiting, but it is natural in games like Go, where there is no compulsion to move.

Later work by Ettinger [\cite=Ettinger1] and [\cite=Ettinger2] considered the general class of scoring games. In this case, games modulo equivalence form a commutative monoid, but not a group. Ettinger was interested in the question of whether this monoid was cancellative, but he seems to have reached no definite conclusion.

The present paper focuses on a limited class of scoring games, which we call well-tempered because they are somewhat analogous to the well-tempered games of Grossman and Siegel [\cite=GrossmanSiegel]. A well-tempered scoring game is one in which the last player to move is predetermined, and does not depend on the course of the game. In an odd-tempered game, the first player to move will also be the last, while in an even-tempered game, the first player will never be the last. These are exactly the scoring games which are trivial when played as partizan games by the normal-play rule. Nevertheless, we show that our class of games, like the class considered by Milnor, is closely related to the standard theory of partizan normal-play games.

Our original motivation was the game To Knot or Not to Knot of [\cite=KnotGames]. Few other games seem to fit into this framework, so we have invented a few. We refer the reader to § [\ref=sec:Examples] for examples.

The outline of this paper is as follows. In Section [\ref=sec:Definitions], we define precisely what we mean by a well-tempered scoring game, how we add them, and what it means for two to be equivalent. In § [\ref=sec:basic], we prove basic facts with these notions, showing that a certain class of special games (those having the property of Milnor and Hanner at even levels) form a well-behaved abelian group. To a general game G, we can associate two special games G+ and G-, which characterize G. In fact, we show that a general game G has a double identity, acting as G+ when Left is the final player, and as G- when Right is the final player. In Section [\ref=sec:distortions], we consider variants of disjunctive addition. Specifically, we vary the manner in which the final scores of the summands are combined into a total score. We provide additional motivation for our earlier definition of equivalence, generalize the results of §[\ref=sec:basic], and characterize the pairs (G+,G-) which can occur. In §[\ref=sec:psi], we show how our class of games is closely related to and characterized by the standard theory of normal-play partizan games. We use this correspondence to give canonical forms for (special) games in §[\ref=sec:canonical]. In §[\ref=sec:boolean] we discuss the theory of {0,1}-valued games, which is necessary to analyze games like To Knot or Not to Knot. We show that there are seventy {0,1}-valued games modulo equivalence, but infinitely many three-valued games. We close in § [\ref=sec:Examples] with some examples of well-tempered scoring games, including small dictionaries for them.

We assume the reader is familiar with the basic notations and conventions of Winning Ways [\cite=WinWays] chapters 1-2, or On Numbers and Games [\cite=ONAG] chapters 7-10. We assume that the reader is capable of making basic inductive arguments of the sort found in chapter 1 of ONAG. We do not assume that the reader is familiar with thermography, atomic weights, Norton multiplication, or the theory of loopy games, though we mention them occasionally in passing. We will refer to the normal-play partizan games of the standard theory as "partizan games." We will use [formula] and [formula] for the relations of "less than or fuzzy to" and "greater than or fuzzy to." For partizan games, =   and [formula] will denote equivalence and identity, but for scoring games we will use ≈   and =  , respectively.

Definitions

We are solely concerned with the following class of scoring games:

An even-tempered game is an integer or a pair {GL|GR} where {GL} and {GR} are finite nonempty sets of odd-tempered games. An odd-tempered game is a pair {GL|GR} where {GL} and {GR} are finite nonempty sets of even-tempered games. A well-tempered game is an even-tempered game or an odd-tempered game.

We call the elements of {GL} and {GR} the left and right options of G. If G is an integer, we define its options to be the elements of [formula]. If G is a well-tempered game, we let π(G)  =  0 if G is even-tempered and π(G)  =  1 if G odd-tempered.

In what follows, all "games" will be well-tempered scoring games, unless specified otherwise. We view {GL|GR} as a game between two players, Left and Right. Left can move to any left option GL and Right can move to any right option GR. Once the game reaches an integer, this value becomes the final score. We assume the Left is maximizing the score while Right is minimizing it.

For example, the game {0|1} is an odd-tempered game that will last exactly one turn. If Left goes first, she will get 0 points, but if Right goes first, Left will get 1 point. On the other hand, in {2| - 2}, whichever player goes first will get two points. The odd-tempered game {2,3|{1|1||2|2}}  =  {2,3|{{1|1}|{2|2}}} will last one turn if Left goes first, or three turns if Right goes first. Left can choose to either receive 2 or 3 points. If Right goes first, the final score will necessarily be 1, because play will proceed

[formula]

since the players move in alternation.

With these conventions, it is natural to define

The left outcome and right outcome of G, denoted [formula] and [formula], respectively, are recursively defined as follows:

[formula]

[formula]

Here [formula] denotes the maximum value of [formula] as GL ranges over the left options of G, and similarly [formula] is the minimum as GR ranges over the right options of G.

We define the outcome of G to be the pair [formula].

The left and right outcomes of G are the scores that result under perfect play when Left or Right moves first. In a well-tempered game, it also makes sense to discuss the player who moves last, so we can make the following definition:

The left final outcome of G, denoted [formula], is [formula] when G is odd and [formula] when G is even. Similarly, the right final outcome of G, denoted [formula], is [formula] when G is odd and [formula] when G is even.

In other words, the left or right final outcome of G is the outcome when Left or Right is the final player, rather than the first player for ordinary outcomes. Note that [formula] carries the same information as [formula].

Let G be a well-tempered scoring game. A subgame of G is G or a subgame of an option of G. If S is a set of numbers, we say that G takes values in S or is S-valued if every subgame of G that is an integer is an element of S. We denote the class of S-valued well-tempered scoring games WS.

Note that [formula] is the class of all well-tempered scoring games. Also, every game has finitely many subgames, and in particular is in WS for some finite S.

The basic operation we would like to apply to our games is the disjunctive sum, in which we play two games in parallel, and add the final scores. We will first define a slightly more general operation.

Let S1,S2  ⊆  f, and let [formula] be a function. Then let the extension of f to games be the function [formula] defined recursively by

[formula]

The game (G,H) is obtained by playing G and H in parallel, and combining the final scores using f. At each turn, the current player chooses one of G or H to move in. So in some sense, [formula] is like the disjunctive sum of normal-play partizan games. In the case where [formula] and f(x,y)  =  x + y, we denote (G,H) by G  +  H. We call this the disjunctive sum of the scoring games G and H.

Similarly, if [formula] is a function, then there is an extension to games

[formula]

Note that [formula] is indeed a well-tempered game, with parity given as follows:

[formula]

So in particular, [formula] (mod 2).

We mainly care about f which are order-preserving in the following sense:

Let [formula] be a function. Then we say that f is order-preserving if

[formula]

whenever xi'  ≥  xi for all i. If f is order-preserving, we call the extension to games [formula] a generalized disjunctive operation.

Another basic operation on games is negation, which reverses the scores and interchanges the roles of the players:

If G is an integer, let - G be the negative of G in the usual sense. Otherwise, define - G by

[formula]

We let G  -  H denote G  +  ( - H).

The main obstacle to directly applying classic combinatorial game theory to scoring games is that a game like { - 1|1} would be equivalent to 0 in the standard theory, but this fails in the theory of scoring games. The problem centers around games that are "cold" in the sense that there is no incentive to move. We can measure this coldness as follows:

Let G be a well-tempered game. For i  =  0,1, let [formula] be the supremum of [formula] as H ranges over the subgames of G with π(H)  =  i. We call [formula] the even gap of G and [formula] the odd gap of G.

Note that if G is an integer, [formula] and [formula]. Since every game has at least one subgame that is an integer, [formula] for every G. Moreover, every game that isn't an integer satisfies [formula]. Also note that if H is a subgame of G, then [formula].

Another useful operation on games is heating.

If G is a game and t is an integer, then [formula] (G heated by t) is the game defined inductively by

[formula]

The effect of this operation is to give every player a bonus of t points for each move she makes. We allow t to be negative, in which case we refer to this operation as cooling. Note that our cooling operation is much simpler than the cooling operation of the standard theory.

One of the central ideas behind combinatorial game theory is to consider games modulo equivalence. For us, the appropriate definition of equivalence is the following:

Let G, H be games. We say that G and H are equivalent, denoted G  ≈  H, if [formula] and [formula] for every game X. Similarly, we say that [formula] if [formula] and [formula] for every game X. We define [formula].

The relation ≈   is clearly an equivalence relation, and [formula] is a preorder which induces a partial order on [formula].

To motivate Definition [\ref=def:half-eq], we need a basic fact:

Let G,H be games. If [formula], then π(G)  =  π(H).

Let K be any game, and consider the game K  +  { - N|N} for N a large integer. Clearly, neither player wants to move in { - N|N}, and if N  ≫  0, both players will make it their top priority to not move in { - N|N}. Consequently, the final player will be forced to move in { - N|N} and will pay a heavy penalty. So for K arbitrary,

[formula]

[formula]

Now suppose that [formula] and π(G)  ≠  π(H). If G is even and H is odd, then

[formula]

for all N, contradicting the fact that the left hand side goes to +    ∞   while the right hand side goes to -    ∞  . If G is odd and H is even, then

[formula]

which again contradicts the limiting behavior as N  →    +    ∞  .

If G,H are games, we let G  ≈  +H if π(G)  =  π(H) and [formula] for every X. Similarly, we let [formula] if π(G)  =  π(H) and [formula] for every H. Define [formula] if [formula].

Define ≈  -, [formula], and [formula] analogously, using [formula] and [formula] instead of [formula] and [formula]. We call ≈  + and ≈  - left-equivalence and right-equivalence, respectively.

Note that if [formula] and [formula], then [formula]. The converse follows by Theorem [\ref=parity-incomparable], and analogous statements hold for ≈   and ≈  ±.

Games modulo equivalence

Basic Facts

Let [formula], and [formula]. Then we have the following identities (not equivalences):

[formula]

All of these identities have easy inductive proofs akin to those found in Chapter 1 of [\cite=ONAG]. To give an example, we prove ([\ref=double-heat]). In the base case where G is an integer, ([\ref=double-heat]) is trivial. Otherwise,

[formula]

where the penultimate equality follows by induction, and we have also used ([\ref=add-assoc]), ([\ref=add-neg]), ([\ref=heat-hom]), and ([\ref=heat-neg]).

If [formula] are games, [formula], and [formula] is a generalized disjunctive operation, then

[formula]

Again the proofs are easy inductions, so we omit them.

Let G be a game, [formula], i∈{0,1}, and f,g be order-preserving. Then

[formula]

Also, ([\ref=lkjmiddle]-[\ref=lkjlast]) hold with [formula] instead of [formula], and ([\ref=lkjfirst]-[\ref=lkjlast]) hold with [formula] and [formula] in place of [formula] and [formula].

Again, all the proofs are easy inductions, so we omit them.

Let [formula] be any of the following operations [formula], and let [formula] denote [formula], respectively. Let G,H,K be games and suppose that [formula]. Then

[formula]

Also, if [formula] for every i, then

[formula]

For example, suppose that [formula] is [formula]. If [formula], then for any game X,

[formula]

so ([\ref=add-compat]) holds. Similarly,

[formula]

so [formula] and ([\ref=neg-compat]) holds. For ([\ref=heat-compat]), note that

[formula]

using either ([\ref=heat-out-one]) or ([\ref=heat-out-two]) and the fact that G and H have the same parity. Thus ([\ref=heat-compat]) holds.

For the final claim, one can show by an easy induction on X that

[formula]

We leave this as an exercise to the reader. Having shown the lemma for [formula], the case of [formula] follows immediately, [formula] and [formula] follow by symmetry, and the remaining five relations follow because they are logical conjunctions of these four.

An immediate consequence of this is that [formula], [formula], and [formula] are partially ordered monoids with addition induced by +   and partial orders induced by [formula], [formula], or [formula] respectively. Also, the game-building operation [formula] is well-defined on each of these monoids, as are heating, cooling, and negation. We will see in Theorem [\ref=generalized-compatibility] that generalized disjunctive operations are also compatible with the nine relations.

Playing two games at once

If G is a game, then

[formula]

[formula]

If Left goes second, she can respond to any move in G with the corresponding move in - G, following this strategy till the game ends. This ensures her a score of at least 0, though she could possibly do better. So [formula]. A similar argument shows [formula].

In classic combinatorial game theory, a simple argument shows that G  +  H  ≥  0 if G  ≥  0 and H  ≥  0. The analogous result for scoring games is the following confusing lemma, which encompasses about a dozen inequalities all proven in analogous ways:

Let G,H be well-tempered games. Then

[formula]

where i  ·  n equals n if i  =  1 and 0 if i  =  0, even if n  =    -    ∞  .

We list the four cases of these equations for future reference: If G,H are even, then

[formula]

If G,H are odd, then

[formula]

If G is odd and H is even, then

[formula]

Finally, if G is even and H is odd, then

[formula]

Here we have used the fact that [formula] because [formula].

We prove ([\ref=first]-[\ref=second]) together by induction on the complexity of G and H. First suppose that G is an integer. Then

[formula]

So ([\ref=first]) says

[formula]

which holds because [formula] for any integer n, by a variant of ([\ref=lkjmiddle]). So ([\ref=first]) holds in this case. A similar argument shows that ([\ref=first]) holds when H is an integer. Suppose neither G nor H is an integer. Then

[formula]

for some right option (G + H)R of G + H. The option (G + H)R is either of the form GR  +  H or G  +  HR. By symmetry, we can assume the former. Then

[formula]

by induction. But π(GR)  =  1  -  π(G), and [formula], so

[formula]

But since [formula], we must have [formula]. So

[formula]

as desired. Thus ([\ref=first]) holds.

Next, we show that ([\ref=second]) holds. First suppose that G is an integer. Then

[formula]

If H is odd-tempered, this equals [formula]. If H is even-tempered, this equals [formula]. Either way, it equals [formula]. So we want to show that

[formula]

But since G is an integer, [formula]. So it remains to show that

[formula]

which is true by definition of [formula].

Finally, suppose that G is not an integer. Then [formula] for some left option GL of G. As GL  +  H is a left option of G  +  H,

[formula]

By induction, it follows that

[formula]

Now π(GL)  =  1  -  π(G) and [formula], so

[formula]

as desired.

By symmetry, we also get the following:

[formula]

There are corresponding duals of ([\ref=eer]-[\ref=eol]). We will refer to these dual inequalities using a [formula]. For example, ([\ref=eor][formula]) says that if G is even and H is odd, then

[formula]

Games with small gaps

Using the inequalities of the previous section, we can examine the interaction of the gap functions with addition:

If G,H are games, then [formula] and [formula].

We prove each statement separately by induction. First consider [formula]. If [formula] and [formula], then every option G' of G has [formula] and every option H' of H has [formula]. So by induction, every option of G  +  H has [formula], and it remains to show that if G  +  H is even-tempered, then [formula].

If G and H are both even, then by ([\ref=eel])

[formula]

and by ([\ref=eel][formula])

[formula]

Thus

[formula]

as desired. Similarly, if G and H are both odd, then by ([\ref=ool]) and ([\ref=ool][formula]),

[formula]

[formula]

so

[formula]

as desired. If G and H have different parity, then G  +  H is not even and there is nothing to show.

Next, suppose that [formula]. We want to show that [formula]. Every option of G and H also has [formula], so by induction, every option of G  +  H has [formula]. So it remains to check that if G  +  H is odd, then [formula]. Without loss of generality, G is odd and H is even. Then by ([\ref=eol]) and ([\ref=oel][formula]),

[formula]

[formula]

Then

[formula]

as desired.

Let I be the class of games with [formula], and J be the class of games with [formula] and [formula]. By the previous theorem, I and J are closed under addition. They are also closed under negation, by ([\ref=gap-neg]). Note that if G∈I, then [formula] for t  ≫  0, by ([\ref=heat-gap]).

The class J will be important in § [\ref=sec:psi], but for now, we focus on the nice properties of I.

If G∈I is an even game, then [formula] if and only if [formula].

If [formula] then [formula] trivially. Conversely, suppose [formula]. We need to show that [formula] and [formula] for every X. If X is even, these follow by ([\ref=eel]) applied to X and G, and ([\ref=eer]) applied to G and X, respectively. If X is odd, these follow from ([\ref=oel]) applied to X and G, and ([\ref=oer]) applied to G and X, respectively.

If G,H∈I, then G  -  G  ≈  0 and the following are equivalent:

Since G and - G are in I and π(G)  =  π( - G), G  -  G is also in I and is even-tempered. By Lemma [\ref=mirrors], [formula]. So by Lemma [\ref=i-games-nice], [formula]. By symmetry, [formula], so G  -  G  ≈  0.

Next we show that the five statements are equivalent. [formula] is easy, using Theorem [\ref=parity-incomparable]. For [formula], note that if [formula] then

[formula]

since H  -  H  ≈  0. Also, π(G)  =  π(H) by definition of [formula]. For [formula], note that by Lemma [\ref=i-games-nice], if [formula] and π(G  -  H)  =  0, then [formula]. But then by Lemma [\ref=obvious-compatibles] and the fact that H  -  H  ≈  0,

[formula]

so (a) holds.

We have shown that (a), (b), and (c) are equivalent. The equivalence of (d) and (e) follows by symmetry.

In particular, we see that every element of I is an invertible element of the monoid [formula]. Also, the relations ≈   and ≈  ± are all equivalent for games in I, as are the relations [formula] and [formula].

Upsides and Downsides

Next, we turn to a characterization of the structure of [formula] and [formula] in terms of the group I  /    ≈  . The key step is the following lemma:

If G is even, and every option of G is in I, and [formula], then

[formula]

[formula]

Note that

[formula]

because the only subgame G' of G for which [formula] could be positive is G itself, as all options of G are in I.

By symmetry, it suffices to prove [formula]. We need to show that if X is any game, then

[formula]

If X is even, then by ([\ref=eer])

[formula]

But by ([\ref=eel][formula]) and ([\ref=gap-of-G]),

[formula]

So equality holds in ([\ref=eq:temp]), and [formula] as desired.

Otherwise, X is odd. Then by ([\ref=oel])

[formula]

But by ([\ref=oer][formula]) and ([\ref=gap-of-G]),

[formula]

So equality holds in ([\ref=eq:temp2]), and [formula] as desired.

This yields the following key result:

If G is any game, then there exist games G+,G-∈I with G+  ≈  +G  ≈  -G-. If [formula] and G is S-valued, then G+ and G- can be chosen to be S-valued. Additionally, [formula].

By symmetry, we only show the existence of G+. We proceed by induction on G+. If G is an integer, then we can take G+  =  G. Otherwise, by induction every option of G is left-equivalent to an S-valued game in I. Let H be the game obtained from G by replacing every option of G with such a game. Then by Lemma [\ref=obvious-compatibles] applied to ≈  +, G is left-equivalent to H. Since H is an S-valued game, we are done unless H fails to be in I. But every option of H is in I, so this can only occur if H is even and [formula]. In this case, we have

[formula]

by the previous lemma. Since [formula], we can take the integer [formula] to be G+.

For the final claim, note that G  ≈  -G-. Therefore, by Lemma [\ref=obvious-compatibles] - G  ≈  + - (G-) and so G  -  G  ≈  +(G+  -  G-). But by Lemma [\ref=mirrors],

[formula]

so [formula] by Theorem [\ref=i-games-nice-2].

Note that if H,K are two games in I, both left-equivalent to G, then H  ≈  +K so H  ≈  K by Theorem [\ref=i-games-nice-2]. Therefore the G± of the previous theorem are determined uniquely up to equivalence.

If G is a well-tempered game, we let G+ and G- be the games of the previous theorem. These are defined only up to equivalence. We call G+ the upside of G and G- the downside of G, by analogy with the theory of loopy games.

Note that G+ and G- depend only on G up to ≈  , i.e., if G  ≈  H then G±  ≈  H±. Also, if G∈I, then G+ and G- can be taken to be G.

Let [formula]. For G a set of games, we use [formula], [formula], and [formula] to denote the quotients G  /    ≈  , G  /    ≈  + and G  /    ≈  -. These have natural structures as posets, coming from the relations [formula] and [formula]. If G is closed under addition, then these three quotients will also be monoids.

Using upsides and downsides, we get a fairly complete description of [formula] and [formula] in terms of [formula].

The posets [formula], [formula], and [formula] are all equal, [formula] is a partially-ordered abelian group, and the inclusions

[formula]

are isomorphisms of partially ordered monoids. In particular, [formula] and [formula] are groups. Also, let

[formula]

Make [formula] into a partially ordered monoid by taking the product ordering and componentwise addition. Then the map

[formula]

induced by G  ↦  (G+,G-) is an isomorphism of partially ordered monoids. Under this identification, the negative of (x,y) is ( - y, - x), and the image of

[formula]

is the diagonal [formula].

The fact that [formula], [formula], and [formula] are equal stems from the fact that [formula], [formula], and [formula] are all the same relation on I, by Theorem [\ref=i-games-nice-2]. The fact that I is a group follows from the fact that if G∈I, then - G∈I and G  +  ( - G)  ≈  0 by Theorem [\ref=i-games-nice-2]. The inclusion [formula] (say) is surjective by Theorem [\ref=sidling]. It is injective and strictly order-preserving, trivially.

The remaining statements are equivalent to the following claims:

If G∈W, then [formula]. This is part of Theorem [\ref=sidling].

If G  ≈  H, then G+  ≈  H+ and G-  ≈  H-. More generally,

[formula]

This follows from the facts that

[formula]

The first [formula] is trivial and the second [formula] follows from Theorem [\ref=i-games-nice-2].

If G,H∈I and [formula], then there exists a game K with K+  ≈  G and K-  ≈  H, i.e., K  ≈  +G and K  ≈  -H. We defer the proof of this to Theorem [\ref=pairs-occur] in the next section.

If G,H are games, then

[formula]

Since I is closed under addition, this amounts to showing that if G  ≈  ±G± and H  ≈  ±H±, then G  +  H  ≈  ±G±  +  H±, which follows from Theorem [\ref=obvious-compatibles].

If G is a game, then - G±  =  ( - G)∓. This similarly follows from Theorem [\ref=obvious-compatibles].

If G∈I, then G+  ≈  G-, which is clear by taking G+  =  G-  =  G.

If G+  ≈  G-, then G is equivalent to a game in I. But if G+  ≈  G-, then G  ≈  -G-  ≈  -G+, so G  ≈  -G+. Since G  ≈  +G+ by definition of G+, we have G  ≈  G+∈I.

If G is a game, the following are equivalent:

The direction [formula] is trivial, and [formula] was part of Theorem [\ref=i-games-nice-2]. The direction [formula] follows from the general fact that if [formula] is a partially-ordered abelian group and we construct the monoid

[formula]

then the invertible elements of [formula] are exactly the diagonal elements (x,x).

To describe the structure of [formula], it remains to determine the structure of [formula]. In § [\ref=sec:psi] we will relate [formula] to the group [formula] of partizan normal-play games.

Other Disjunctive Operations

So far we have focused on the operation of disjunctive addition G  +  H. In this section, we show that other generalized disjunctive operations behave like addition. For example they are compatible with equivalence, and they preserve membership in I.

Easy Inductions

The following facts have easy inductive proofs, which we leave as exercises to the reader:

then

is the function given by

then

In particular, if m  =  n  =  1 we see that [formula].

then

Equivalence and Generalized Disjunctive Operations

The following theorem generalizes to f of higher or lower arities, but we only prove the case where f takes two arguments, for notational simplicity.

Let [formula] and [formula] be order preserving. Let G1,H1 be S1-valued games, and G2,H2 be S2-valued games. Let [formula] be one of the relations [formula]. Suppose that [formula] for i  =  1,2. Then

[formula]

where [formula] is the extension of f to games.

Because all nine relations can be defined in terms of [formula] and [formula], we can assume [formula] is [formula]. By symmetry, we can take [formula].

Suppose we can show that for G,H,X appropriately-valued,

[formula]

Then by symmetry (interchanging the two arguments of f),

[formula]

Combining these, we get

[formula]

as desired.

We are reduced to showing that if [formula] is order-preserving and [formula], then

[formula]

Since only finitely many integers occur within G,H,X, we can assume without loss of generality that S1 and S2 are finite, restricting the domain of f if necessary.

We need to show that for any game Y,

[formula]

Suppose not. Then there is some n such that

[formula]

[formula]

Let [formula] be the order-preserving function that sends x to 1 if x  ≥  m and x to 0 if x  <  m. By Lemma [\ref=technical] applied to the function g(w,x,y)  =  δn(f(w,x)  +  y), there is a function [formula] such that

[formula]

for all [formula]. Then by several applications of (c) and (d) of § [\ref=basic-distort],

[formula]

[formula]

But by (a) of § [\ref=basic-distort], it follows that

[formula]

[formula]

Then

[formula]

contradicting [formula].

Let S1,S2,S3 be subsets of [formula], with S1 finite. Let g:S1  ×  S2  ×  S3  →  {0,1} be order-preserving. Then there is a function h:S2  ×  S3  →  {0,1} such that for every (x,y,z)∈S1  ×  S2  ×  S3,

[formula]

Let M be an integer greater than every element of S1. Replacing S1 with [formula] and extending g(x,y,z) by g(M,y,z)  =  1 for all y,z, we can assume that for every y,z, there is some x∈S1 such that g(x,y,z)  =  1. Let h(y,z) be the negative of the smallest such x. Then g(x,y,z)  =  1 if and only if x  ≥   - h(y,z), as desired.

From the theorem (and its generalization to higher arities), we see that if [formula] is order-preserving, then [formula] induces well-defined functions

[formula]

[formula]

[formula]

Invertible Games and Generalized Disjunctive Operations

Our next goal is to show that I is closed under generalized disjunctive operations. In particular, letting [formula], there is a well-defined map

[formula]

This map characterizes the full map [formula], since by Theorem [\ref=generalized-compatibility],

[formula]

assuming that the right hand side lies in I, as we shall prove.

We first prove something that is almost the desired result:

Let [formula] be order-preserving, and for each i, let Gi∈ISi. Then [formula] is equivalent to a game in I.

Since each Gi has finitely many subgames, we can assume without loss of generality that every Si is finite.

Let M be an integer greater in magnitude than every element of the range of f (which is finite, because we made the Si finite). Let [formula] be the function

[formula]

Then since Gi  -  Gi  ≈  0,

[formula]

for each i, by Theorem [\ref=generalized-compatibility]. It follows that

[formula]

Consider the two functions [formula] given by

[formula]

It is straightforward to check that h1  ≤  h2. Therefore, by (b) of § [\ref=basic-distort],

[formula]

However, [formula] is nothing but

[formula]

and [formula] is nothing but

[formula]

by several applications of (c), (d), and (e) of § [\ref=basic-distort]. Thus

[formula]

Negating both sides,

[formula]

Therefore [formula] is invertible, so by Corollary [\ref=i-stands-for-invertible], it is equivalent to a game in I.

Our desired result follows easily:

If [formula] is order-preserving and Gi∈ISi for each i, then [formula].

By the previous lemma, every subgame of [formula] is equivalent to a game in I. It therefore suffices to show that if H is a game and every subgame of H (including H) is invertible, then H∈I. If H' is any even-tempered subgame of H, then [formula] because H'  ≈  K for some K∈I, and [formula] by definition of I.

Another corollary of Theorem [\ref=generalized-compatibility] is the following:

Let S and T be finite subsets of [formula], with |S|  =  |T|. Let f be the order-preserving bijection from S to T. Then :WS  →  WT induces a bijection

[formula]

Let g:T  →  S be the order-preserving function f- 1. By (d) of § [\ref=basic-distort], [formula] and [formula] are inverses of each other. By Theorem [\ref=generalized-compatibility], they induce well-defined order-preserving maps from [formula] and vice-versa. These two induced maps must be inverses of each other.

Because of this corollary, the study of S-valued games is equivalent to the study of [formula]-valued games, for n  =  |S|.

The Possible Upsides and Downsides

We now complete the proof of Theorem [\ref=structure]:

Let G,H be games in I, with [formula]. Then there is a K such that K  ≈  +G and K  ≈  -H, i.e., K+  ≈  G and K-  ≈  H. Moreover, if G and H are in IS, then K can be chosen to be in WS. Therefore the map

[formula]

induced by

[formula]

is surjective.

For n  ≥  0, let Qn  =  {{0|0}|{n|n}}. One can check directly that Qn  ≈  +n and Qn  ≈  -0 by Lemma [\ref=gap-rule].

Let Δ be the game G  -  H. Then Δ∈I and [formula]. In particular, Δ is even. Let Δ' be the game obtained from Δ by replacing every integer subgame n with

[formula]

Let [formula] be the function f(n)  =   min (0,n). Then Δ'  ≈  +Δ and Δ'  ≈  -(Δ) by an easy induction using the fact that Qn  ≈  +n and Qn  ≈  -0. Let [formula] be the constant function 0. Since g  ≥  f and [formula],

[formula]

by (f) and (b) of § [\ref=basic-distort] and Theorem [\ref=generalized-compatibility]. Therefore (Δ)  ≈  0. Since Δ'  ≈  +n and Δ'  ≈  -(Δ)  ≈  0, we conclude that

[formula]

[formula]

Letting K0  =  Δ'  +  H, K0 has the desired upside and downside. It remains to make K0 take values in S, if both G and H do.

Suppose G and H take values in S. Let [formula] be the function that sends each [formula] to the closest element of S, taking the lesser value in case of a tie. Clearly r is an order-preserving function that agrees with the identity on S. Thus (G)  =  G and (H)  =  H, and (K0) is S-valued. By Theorem [\ref=generalized-compatibility],

[formula]

and

[formula]

Taking K  =  (K0), we get the desired game.

If G,H∈I and [formula], we let G&H be the game of the theorem, whose upside is G and whose downside is H. This is well-defined up to equivalence. Our notation is based on the analogy with the loopy partizan theory.

Even and Odd

Let *   be the game {0|0}. If G is an S-valued game, then so is G  +    *  . Indeed, letting f:S  ×  {0}  →  S be addition, G  +    *    =  (G, * )∈WS. Now clearly *  ∈I, so if G∈IS, then G  +    *  ∈IS. As -  *   =    *  , the game *   is its own inverse. Therefore, the map G  ↦  G  +    *   induces involutions on [formula] and [formula] for any S. These involutions exchange the even-tempered and odd-tempered games, establishing a bijection between the even and odd elements in each of [formula] and [formula]. (Note that we can talk about the parity of an element of [formula] by Theorem [\ref=parity-incomparable].)

Let G be a game. The even projection of G, denoted [formula], is G if G is even-tempered, and G  +    *   otherwise.

This has a number of simple properties:

In particular, for the case of addition,

We already proved (a) and (b). (c) is trivial. (d) says that - G  =   - G when G is even-tempered, and that *  - G  =   - ( *  + G) when G is odd-tempered, both of which are trivial. The remaining three statements are proven as follows:

since ε is invertible.

where the number of *  's is the number of Gi which are odd-tempered. Thus

Now if X is any game, then [formula] since [formula] is either X or X  +    *    +    *    ≈  X. Thus

But since every [formula] is even-tempered, [formula] is also even-tempered so

Combining equations ([\ref=step-one]-[\ref=step-three]) gives the desired result.

which follows because (G  +  H)±  ≈  G±  +  H± for any H (part of Theorem [\ref=structure]) and *  ±  ≈    *   since *  ∈I.

We summarize the results of § [\ref=sec:distortions] in the following analog of Theorem [\ref=structure], whose proof we leave as an exercise to the reader.

Let [formula]. Let I0S denote the even-tempered elements of IS. Then we have a natural isomorphism of posets

[formula]

induced by

[formula]

If f:Sk  →  S is order-preserving, then the extension to games :WkS  →  WS induces maps

[formula]

[formula]

The restriction to [formula] determines the behavior on [formula] as follows:

[formula]

[formula]

[formula]

Later when we consider {0,1}-valued games, this will allow us to restrict our attention to [formula], which has only eight elements, rather than considering [formula], which has seventy elements.

Reduction to Partizan Games

Returning to the general case of [formula]-valued games and addition, the goal of this section is to give an explicit description of [formula] (or equivalently [formula]) in terms of the classical combinatorial game theory of disjunctive sums of partizan games.

Earlier we defined J  ⊆  I to be the set of games G with [formula] and [formula]. By Theorem [\ref=gap-sums], I and J are closed under addition. Since both consist of invertible games, [formula] and [formula] are both subgroups of the monoid [formula]. Now by ([\ref=heat-gap]) of Lemma [\ref=early-lemma], heating has the following effects on [formula] and [formula]:

[formula]

[formula]

Therefore, I is preserved by heating, J is preserved by heating by t  ≥  0, and if G is any game in I, then [formula] for t  ≫  0.

Because I is preserved by heating, and heating is compatible with ≈  ± by Lemma [\ref=obvious-compatibles],

[formula]

so

[formula]

Thus heating is compatible with upsides and downsides. Also, heating induces monoid automorphisms on [formula] and [formula]. Note however that heating is not compatible with the map [formula] of the previous section, because [formula].

The Class K

We would like to define a class of games K that has the same relation to W that J has to I.

Let K' be the class of games G such that both G+ and G- can be chosen to lie in J. Let K be the class of games G such that every subgame of G (including G itself) lies in K'. Equivalently, G∈K if every option of G is in K and G∈K'.

Now if H is any game, then H+,H-∈I. As noted above, if we heat games sufficiently, they will lie in J. So for any H, we have

for t  ≫  0. Thus [formula] for t  ≫  0.

In particular, [formula]. It follows that IS  ⊆  J. Then if G is in WS and H is any subgame of G, H+ and H- can be chosen to lie in IS  ⊆  J. Therefore G∈K.

From Scoring Games to Partizan Games

We now turn to standard (normal-play, short, non-loopy) partizan games.

If [formula] are partizan games, let

[formula]

[formula]

denote the usual partizan game [formula] unless there is at least one integer n with

[formula]

for every i,j, in which case we let ([\ref=plus-bars]) denote the largest such n and ([\ref=minus-bars]) denote the smallest such n.

These operations show up in the definition of atomic weight in the theory of all-small partizan games, suggesting a possible connection to the present theory.

One convenient property of {  ·  |  ·  }± is the following fact:

If n is an integer and {GL},{GR} are sets of partizan games, then

[formula]

and

[formula]

When the caveat that distinguishes {GL|GR}± from {GL|GR} doesn't apply, this is just the usual integer avoidance theorem, since {GL|GR} does not equal an integer. In the other case, the largest (smallest) integer which lies between the n  +  GL and the n  +  GR is n more than the largest (smallest) integer which lies between the GL and the GR, so the result is clear.

Let G-  =  {GL|GR}- and H-  =  {HL|HR}-. Then

[formula]

If {KL} and {KR} are sets of partizan games, then for n  ≫  0,

[formula]

by Lemma [\ref=automatic-integer-avoidance] and the simplicity rule. Therefore, for n  ≫  0,

[formula]

Since 2n  ≫  0, this equals

[formula]

We conclude that for n  ≫  0,

[formula]

and so ([\ref=ugh]) holds.

Our tool for reducing J and K to the theory of partizan games will be the following maps:

Let [formula] denote the class of short partizan games, modulo the usual equivalence. Let ψ,ψ+,ψ- be the three maps [formula] defined recursively as follows:

[formula]

for n an integer, and otherwise,

[formula]

Here the [formula] on the left refer to scoring games, while the [formula] on the right refer to partizan games.

So for instance, ψ({ - 1|1})  =  0 because { - 1|1}  =  0 in the standard partizan theory. Also note that the scoring game 1 has no options, but ψ(1)  =  1  =  {0|} has a left option.

Let G,H be well-tempered scoring games. Then

[formula]

We given an inductive proof for the ψ+ case. In the base case where G,H are integers, this is trivial. In the case where one of G or H is an integer and the other is not, this is Lemma [\ref=automatic-integer-avoidance]. In the case where G and H are both integers, this is Lemma [\ref=hopefully-this-is-true].

Note that the analogous identity fails for ψ, since

[formula]

Even for ψ±, these maps are discarding a lot of information, since ψ+({ - 2|2})  =   - 1  =  ψ+({ - 2|0}), although { - 2|2} and { - 2|0} are quite different as scoring games.

Nevertheless, ψ preserves some information about outcomes.

Let G be a well-tempered scoring game. If G is even, then ψ(G)  ≥  0 if and only if [formula]. If G is odd, then [formula] if and only if [formula].

(By symmetry, if G is even, then ψ(G)  ≤  0 if and only if [formula], and if G is odd, then [formula] if and only if [formula].)

We proceed by induction. If G is an integer n, then ψ(G)  =  n, which is ≥  0 if and only if it is ≥  0, as desired.

If G is not an integer, but is even-tempered, then ψ(G)  ≥  0 if and only if every GR satisfies [formula]. By induction, this means that [formula] for every GR, which is the same as saying that [formula].

Finally, suppose that G is odd-tempered. Then [formula] if and only if there exists a ψ(G)L  =  ψ(GL)  ≥  0. By induction, this is equivalent to [formula]. So [formula] if and only if [formula] for some GL. But this is equivalent to [formula].

The main place where the maps ψ and ψ± are useful is on J and K:

Let G∈J. Then

Let |G| denote the total number of subgames of G. We prove all three statements together, by induction on |G|.

In the base case where |G|  =  1, G is an integer, and all three statements are more or less trivial (the third one is vacuous).

Next suppose that we have proven all three statements for all games G∈J with |G|  <  m. We first prove (a) for all games G∈J with |G|  =  m. Proving (a) amounts to showing that there is at most one integer between the left and right options of

[formula]

If not, then there is some n such that

[formula]

for all GL and GR. Because |GL|  <  m and |GR|  <  m, we can apply (b) or (c) to these games by induction. If G is even-tempered, then by (c),

[formula]

for all GL and GR. Therefore,

[formula]

so [formula] and [formula], contradicting G∈I. Similarly, if G is odd-tempered, then by (b) and ([\ref=eq:problematic]),

[formula]

for all GL and GR, so that [formula], contradicting G∈J. Thus (a) holds for all G∈J with |G|  =  m.

Next, we show that (b) holds for all even-tempered G∈J with |G|  =  m. Note that |G  -  n|  =  |G|, so from (a),

[formula]

[formula]

Then by Theorem [\ref=plus-minus-homomorphism], we get

[formula]

So we are reduced to showing that

[formula]

[formula]

So we are reduced to the case n  =  0. But this is just Lemma [\ref=outcome-somewhat-preserved]. The proof of (c) is similar.

Let G,H∈J. Then

[formula]

[formula]

and when π(G)  =  π(H),

[formula]

The first claim follows from part (a) of the theorem together with Theorem [\ref=plus-minus-homomorphism]. The second claim holds for any game G. The third claim follows from the fact that G  -  H is even, and so

[formula]

using Theorem [\ref=i-games-nice-2], Lemma [\ref=outcome-somewhat-preserved] (which is the n  =  0 case of part (b) of Theorem [\ref=reduction-1]), and the first two claims of this corollary.

In particular, ψ induces a well-defined map

[formula]

and this map is an order-preserving homomorphism of groups. Moreover, if we restrict to the even-tempered elements of [formula], it is injective and strictly order-preserving. The kernel of the map [formula] consists of the two elements 0 and { - 1|1}.

The analog of Theorem [\ref=reduction-1] for K is

Let G∈K. Then ψ±(G)  =  ψ(G±). In particular, if G is even then

[formula]

[formula]

[formula]

[formula]

Similarly, if G is odd then

[formula]

[formula]

Only the claim that ψ+(G)  =  ψ(G+) requires proof, since everything else follows by symmetry, Theorem [\ref=reduction-1], or Theorem [\ref=structure]. We proceed by induction on G. The case where [formula] is clear. Otherwise, let G  =  {GL|GR}. Let HL and HR be upsides of the options of G, chosen to lie in J, and let H  =  {HL|HR}. Then GL  ≈  +HL and GR  ≈  +HR so by Lemma [\ref=obvious-compatibles] G  ≈  +H. We consider the two cases H∈I and H∉I separately.

First suppose that H∈I. Then H  ≈  +G implies that H  ≈  G+∈J, so [formula]. Since every option of H is in J, this shows that H∈J. Then by Theorem [\ref=reduction-1] and Corollary [\ref=reduction-1.5],

[formula]

But by induction, ψ(HL)  =  ψ+(GL) and ψ(HR)  =  ψ+(HR). So

[formula]

as desired.

Next, suppose that H∉I. Every option of H is in I, so the only way that H∉I can occur is if H is even and [formula]. Then by Lemma [\ref=gap-rule],

[formula]

Therefore [formula]. Let [formula]. By induction and Theorem [\ref=reduction-1](a),

[formula]

To show that ψ+(G) equals ψ(G+)  =  n, we need to show that n is the maximum integer x such that for all HL and HR. By Theorem [\ref=reduction-1](c), this is equivalent to

[formula]

for all HL and HR, or equivalently, [formula]. Clearly [formula] is the greatest such x, using the fact that [formula].

From Partizan Games to Scoring Games

While K will be useful § [\ref=sec:boolean], for the rest of this section we focus on J. We will find an inverse to the homomorphism [formula], where [formula] is the even-tempered subgroup of [formula].

Let φ0 and φ1 be the maps from partizan games to well-tempered scoring games defined as follows:

[formula]

For example, φ0({1|3 * })  =  2, φ0({1| - 3 * })  =  {0|2|| - 3| - 3}. Note that φi(G) depend on the form of G, not just its value, so we do not get well-defined maps [formula]. Modulo equivalence, however, the φi maps are an exact inverse of ψ:

If G is a partizan game and i  =  0 or 1, then φi(G) is a well-tempered game, with π(φi(G))  =  i. Moreover, φi(G)∈J and ψ(φi(G))  =  G.

The fact that φi(G) is a well-tempered game of the correct parity follows by an easy induction, as does the fact that ψ(φi(G))  =  G. We prove the remaining statement, that φi(G)∈J, by induction on i. If G is equal in value to an integer n, then φi(G) is either n or {n - 1|n + 1}. Either way, it is in J.

Otherwise, G does not equal an integer. By induction, every option of φi(G) is in J. It remains to show that

[formula]

and

[formula]

I claim that these inequalities hold strictly. Suppose not. If ([\ref=ineq:erti]) fails to hold strictly, then there exists some integer n such that

[formula]

Thus

[formula]

for every left option GL of G and every right option GR of G. But by induction, every φ1(GL) and φ1(GR) is in J, so Theorem [\ref=reduction-1] applies, giving

[formula]

By the simplicity rule, G equals an integer - the simplest n between all the GL and GR. This contradicts the assumption that G was not an integer, so ([\ref=ineq:erti]) holds strictly. The argument for ([\ref=ineq:ori]) is similar.

The partially ordered groups [formula] and [formula] are isomorphic. The isomorphism

[formula]

is induced by G  ↦  (ψ(G),π(G)), and its inverse is induced by (H,i)  ↦  φi(H).

Consequently, the φi maps are order-preserving homomorphisms, in the sense that

[formula]

and

[formula]

This follows easily from Theorem [\ref=reduction-3] and Corollary [\ref=reduction-1.5].

Heating things up

To complete the description of [formula], we need to find the effect of heating on [formula] under the identification of [formula].

If K  ≥  0 is a partizan game, we can recursively define a function fK on partizan games by

[formula]

It is easy to see that this map is a homomorphism and is exactly order preserving: fK(G)  ≥  0 if and only if G  ≥  0. Thus G  =  H implies that fK(G)  =  fK(H). In fact, this map is Norton multiplication by {K|}, or equivalently, the overheating operation [formula]. Because it is order-preserving, it is well-defined on the quotient space [formula] of partizan games modulo equivalence.

Taking K  =  1 * , we get Norton multiplication by {1 * |}, or equivalently, the overheating operation [formula]. Note that [formula] for [formula] because [formula].

As we noted above, J is closed under the operation [formula] for t  >  0, by ([\ref=heat-gap]) of Lemma [\ref=early-lemma].

Let G be a well-tempered scoring game in J. If G is even-tempered, then

[formula]

and if G is odd-tempered, then

[formula]

Since ψ and φ are inverses of each other, it suffices to show that if H is a partizan game, then

[formula]

[formula]

These two statements are equivalent, for fixed H, because

[formula]

[formula]

We proceed to prove ([\ref=phiside0]-[\ref=phiside1]) by induction on H. If H is equal to an integer n, then [formula]. Therefore [formula] also equals an integer, and

[formula]

But [formula], since n  =  H implies that φ0(n)  ≈  φ0(H). This establishes ([\ref=phiside0]) for H equal to an integer.

When H does not equal an integer, neither does [formula]. Then

[formula]

proving ([\ref=phiside0]). Here, the first equality is the definition of [formula], the second follows because [formula] does not equal an integer, the third follows because φ is a homomorphism, the fourth follows by induction and the fact that φ0(1)  =  1, the fifth follows by definition of heating, and the sixth follows because H does not equal an integer.

Consider the following families of well-tempered scoring games:

[formula]

Then we have

[formula]

and in fact [formula]. By ([\ref=heat-gap]) of Lemma [\ref=early-lemma], [formula] is an isomorphism from Fn + j  →  Fn for every n,j. Also, by Theorem [\ref=gap-sums], each Fn is closed under addition. Since they are also clearly closed under negation, it follows that the [formula] form a filtration of subgroups of [formula].

Now [formula] is the direct limit of the following sequence of partially-ordered abelian groups:

[formula]

where the maps are inclusions. But this is the top row of the following commutative diagram, whose vertical maps are isomorphisms:

[formula]

Consequently, as an abstract partially-ordered abelian group, [formula] is isomorphic to the direct limit

[formula]

We can do something similar with [formula], expressing it as a direct limit of copies of [formula].

Combined with Theorems [\ref=structure] and [\ref=structure-small], this gives us a complete description of W in terms of This in turn gives us a complete description of [formula] in terms of [formula]. To recover right and left outcomes from this description, one can utilize the following facts (all of which have been previously proven):

If G is even-tempered, then [formula].

If G is odd-tempered, then [formula].

If G∈J is even-tempered, then

[formula]

If G∈J is odd-tempered, then

[formula]

If G is even-tempered, then [formula].

If G is odd-tempered, then [formula].

[formula].

Canonical Forms for Invertible Games

In the standard partizan theory, every equivalence class of games has a canonical representative, characterized by its lack of reversible and dominated moves. In this section, we prove the same thing for well-tempered scoring games that are invertible. This section is included mainly for completeness, and follows easily from the previous section, so the reader may want to skip it.

We first observe that non-invertible well-tempered scoring games need not have any sort of canonical form. For instance,

[formula]

for any numbers [formula], and there is no sense in which any of these forms is minimal or canonical. Also, no simpler game is a form of 1&0. Probably the most canonical way of describing a general scoring game G is as

[formula]

using the canonical forms of G+ and G- which we will describe below.

Let G be a well-tempered scoring game. Then we say that a left option GL is reversible if there is some right option GLR of GL with [formula]. We say that a right option GR is reversible if there is some left option GRL of GR with [formula]. We say that a left option GL is dominated if some other left option GL' satisfies [formula], and we say that a right option GR is dominated if some other right option GR' satisfies [formula]. If G∈I, we say that G is canonical if it has no reversible or dominated options, and the same is true for all subgames.

The rest of this section is a proof that every invertible [formula]-valued game has a unique form which is canonical. We reduce this to the same fact for partizan games. There are probably simpler proofs.

If G' is an option of G, then the corresponding option [formula] of [formula] is dominated (resp. reversible) if and only if G' is dominated (resp. reversible). Consequently, G has dominated (resp. reversible) options if and only if [formula] does. In particular, if G∈I, then [formula] is canonical if and only if G is.

We leave the easy proof as an exercise to the reader.

Let G be a partizan game in canonical form. Then φ0(G) and φ1(G) are canonical.

This follows easily from induction, modulo the following fact: if G is not an integer (in value), but has the integer n as an option, then the option φ1(n)  =  {n - 1|n + 1} of φ0(G) is not reversible. Without loss of generality, n is a left option of G. Suppose φ1(n) is reversible. Then [formula]. Thus n  +  1  ≤  G. Then [formula] for every right option of G. Since G is not an integer, [formula] cannot hold for all GL. So for some GL,

[formula]

Then n is a dominated left option of G, a contradiction.

Let G be a well-tempered scoring game for which [formula] and [formula]. If G is canonical, then ψ(G) is in canonical form (assuming that ψ(n) was chosen to be in canonical form for all integers n).

This theorem follows trivially by induction, except that we need to verify one special case: if G is odd-tempered and [formula] is an option of G, then ψ(n) is not a reversible option of ψ(G). Without loss of generality, n is a left option of G. We need to show that no right option of ψ(n)  =  n reverses Left's move from ψ(G) to ψ(n). If n  ≥  0, then n has no right options, so suppose n  <  0. Since we are taking ψ(n) in canonical form, the only right option of n is n  +  1. Thus, we are reduced to proving that if G is odd-tempered and [formula] and n is a left option of G, then [formula]. By Theorem [\ref=reduction-1], this amounts to showing that [formula]. But otherwise, we would have

[formula]

contradicting [formula].

If G∈I is canonical, and G  ≈  n for some integer n, then G  =  n.

Suppose for the sake of contradiction that G is not an integer. Then [formula], so there is some right option GR of G with [formula]. Since GR is odd-tempered, it is not an integer, so there is some left option GRL of GR with [formula]. As GRL  -  G  ≈  GRL  -  n, [formula]. Then by Theorem [\ref=i-games-nice], [formula], and G has a reversible right option, a contradiction.

Let G be a canonical well-tempered scoring game with [formula] and [formula]. Then φπ(G)(ψ(G))  =  G (exactly, not up to equivalence).

We proceed by induction on G. If G is an integer n, then [formula], so φπ(G)(ψ(G)) is automatically n  =  G. Otherwise, if G is even-tempered, then by induction

[formula]

unless ψ(G) equals an integer. But if ψ(G)  =  m for some [formula], then G  ≈  φ0(m)  =  m. Then by Lemma [\ref=canonical-4], G  =  m, a contradiction.

Finally suppose G is odd-tempered. Then again, by induction,

[formula]

unless ψ(G) equals an integer. But if ψ(G)  =  m, then G  ≈  φ1(m)  =  {m - 1|m + 1}, so

[formula]

[formula]

and thus [formula], a contradiction.

If G is invertible (modulo equivalence), then there is a unique H∈I with H  ≈  G and H canonical.

By Corollary [\ref=i-stands-for-invertible], we can assume without loss of generality that G∈I. By taking t sufficiently large, we get [formula]. Let x be the canonical form of [formula]. Then by Lemma [\ref=canonical-2], K  =  φπ(G)(x) is canonical. But since [formula],

[formula]

Then by Lemma [\ref=canonical-1], [formula] is canonical. But it is in I and [formula], so we have shown existence.

For uniqueness, suppose that H and H' are two canonical games in I, with H  ≈  H' but H  ≠  H'. Then by taking t sufficiently large, we can arrange for

[formula]

Also, since [formula] is invertible, [formula] and [formula]. So without loss of generality, H and H' have [formula]. Then ψ(H) and ψ(H') are both in canonical form by Lemma [\ref=canonical-3]. Since they are canonical forms of equivalent games, [formula]. Therefore, letting i  =  π(H)  =  π(H')

[formula]

But by Lemma [\ref=canonical-5], the two sides equal H and H'.

Boolean-valued Games

In this section we focus on {0,1}-valued scoring games, which we call Boolean-valued games. There are two interesting order-preserving functions {0,1}  ×  {0,1}  →  {0,1}, namely logical or and logical and. We denote these operations, and their extensions to Boolean-valued games, by [formula] and [formula], respectively. Note that for i,j∈{0,1}, [formula] and [formula].

One can view the two possible scores 0 and 1 as victory for Right and victory for Left, respectively. In this interpretation, [formula] and [formula] are compound games played as follows: G and H are played in parallel, like a disjunctive sum. If one player wins both G and H, she wins the compound. If there is a tie, [formula] resolves it in favor of Left, and [formula] resolves it in favor of Right. Thus [formula] and [formula] can be seen as biased disjunctive sums.

By Theorem [\ref=structure-small], [formula] and [formula] induce well-defined order-preserving operations

[formula]

which are characterized by their restrictions

[formula]

to even-tempered invertible games.

Our goal is to determine the structure of [formula] and the effects of [formula] and [formula] on [formula]. The main result in this direction is Theorem [\ref=boolean-summary].

Classification of Boolean-valued Games

By Theorem [\ref=k-non-void](a) and (d), every Boolean-valued game lives in K, and every element of I{0,1} is in J. Therefore, it is reasonable to apply the maps ψ± and ψ to Boolean-valued games, and by Theorem [\ref=reduction-2], ψ±(G)  =  ψ(G±).

If G∈W0,1, then ψ(G)  =  ψ-(G).

Let G be a minimal counterexample. Then G is not an integer and

[formula]

This can only happen if some negative integer n satisfies [formula] for all GL and GR. In this case, ψ-(G) will be a negative integer n  <  0. But this means that G-  ≈  n or G-  ≈  {n - 1|n + 1}, which are impossible since [formula] while the left outcomes of n and {n - 1|n + 1} are negative.

It follows that

[formula]

The first two equalities hold on general principles, by Theorems [\ref=structure-small] and [\ref=reduction-2].

As we noted in § [\ref=sec:psi], the overheating operation [formula] defined recursively on partizan games by

[formula]

is a well-defined order-preserving homomorphism. Let S be the following set of partizan games:

[formula]

The set ψ(I{0,1})  =  ψ(W{0,1}) of Equation ([\ref=mystery-set]) is the following:

[formula]

More specifically,

[formula]

and

[formula]

Also, the two sets [formula] and [formula] are disjoint.

We omit most of the details of the proof, since it consists entirely of calculations. One can directly check that if x∈S, then

[formula]

are {0,1}-valued. So all the specified values occur as ψ(G) for various Boolean-valued games G. The fact that the two sets [formula] and [formula] can be checked by examination. The only thing left is a proof that only the specified values of ψ occur as values of Boolean-valued games. Letting [formula] and [formula], we assert the following:

If G is a partizan game with more than zero left options and more than zero right options, and if every option of G is in Xi, then G is (equivalent to a game) in X1 - i.

Since the sets Xi are finite, this can be checked directly. We might as well assume that the left options of G are pairwise incomparable, and the same for the right options. This speeds up the verification, since the posets X0 and X1 have very few antichains, as they are almost linearly ordered. This leaves less than two hundred cases to check. Another useful trick is to prove that for any even-tempered game G with [formula] and [formula],

[formula]

Then, one can cool all the Boolean-valued games by 1 / 2 (which leaves them in J), and one is reduced to considering numbers. The simplicity rule now comes into play, and the verification becomes even easier. There are some technical difficulties involved with applying the [formula] operator to odd-tempered games, since this yields half-integer-valued scoring games. Nevertheless, this approach works, but still degenerates into a case-by-case exhaustion of the possibilities, so we do not pursue it here.

Give Claim [\ref=boolean-claim], it is easy to verify inductively that ψ(G)∈Xπ(G) for any Boolean-valued game G, which is the remaining statement of the theorem.

It follows from this theorem that [formula] is isomorphic as a poset to the direct product of S and [formula], since [formula] is order-preserving. By directly considering the structure of the poset, we see that the number of pairs (x,y)∈S  ×  S with x  ≥  y is 35. Therefore there are exactly 35 even-tempered elements of [formula] and exactly 70 elements total. In other words, there are 70 Boolean-valued games, up to equivalence.

Let G be a Boolean-valued well-tempered game. Then we define u+(G) and u-(G) to be the unique elements of S such that

[formula]

if G is even, and

[formula]

if G is odd. If u+(G)  =  u-(G), we denote the common value by u(G). We call u+(G) and u-(G) the u-values of the game G.

Note that since ψ±( *   +  G)  =    *    +  ψ±(G), we have [formula].

Operations on Boolean-valued Games

To finish our account of Boolean-valued well-tempered games, we need to describe how u-values interact with the operations [formula] and [formula]. By Theorem [\ref=structure-small], [formula] and [formula] are determined by what they do to [formula] which we can identify with S. Therefore the following definition makes sense:

Let [formula] and [formula] be the binary operations on S such that for any G,H∈W{0,1},

[formula]

[formula]

[formula]

[formula]

The fact that these identities hold for odd-tempered G or H follows from the equivalence [formula]. Note that [formula] and [formula] inherit commutativity and associativity from [formula] and [formula].

For any x,y∈S, [formula] is the maximum z∈S such that z  ≤  x  +  y. Similarly, [formula] is the minimum element w∈S such that w  ≥  x  +  y  -  1.

Note that it is not a priori clear that such a z or w exist in general.

By symmetry(!) we only need to prove that [formula] has the stated form. For s∈S, let Gs∈I(0,1) be even-tempered with u±(Gs)  =  s. For x,y,z∈S, we need to show that [formula], or equivalently, [formula]. Since [formula] and ψ are strictly order-preserving homomorphisms, this is the same as showing that

[formula]

Let f(n)  =   min (n,1). Then f is the identity on {0,1}, f(n)  ≤  n, and [formula]. Thus

[formula]

Therefore

[formula]

This proves ([\ref=cup-cap-goal]).

We summarize all our results on Boolean-valued well-tempered games in the following theorem:

Let S be the following set of partizan games:

[formula]

For every G∈W{0,1} we have elements u±(G)∈S such that

[formula]

if G is even-tempered, and

[formula]

if G is odd-tempered, where ψ is the map of §[\ref=sec:psi].

Moreover [formula] is isomorphic to {(x,y,i):x,y∈S, ~ x  ≥  y,i∈{0,1}} via the map induced by G  ↦  (u+(G),u-(G),π(G)). This map is order-preserving, in the sense that if G and H are two elements of W{0,1}, then [formula] if and only if

[formula]

If G,H∈W{0,1} then

[formula]

[formula]

where [formula] is the greatest element of S less than or equal to x  +  y, and [formula] is the minimum element of S greater than or equal to x + y  -  1.

If G∈W{0,1} is even-tempered, then

[formula]

[formula]

while if G is odd-tempered, then

[formula]

[formula]

All of this follows by piecing together previous results of this section, except for the final statement about outcomes. This can be proven from Theorem [\ref=reduction-2] and some facts about overheating, or by directly checking the sixteen invertible games. (In fact, by monotonicity one only needs to check it for the even-tempered games with u-values [formula] and [formula], and the odd-tempered games with u-values [formula] and [formula].)

The Number of S-valued Games

Let S be a finite set of integers. By Corollary [\ref=same-size], the number of S-valued games, up to equivalence, depends only on |S|. If [formula], then there are no S-valued games. If S  =  {0}, it is easy to see that the only games are 0 and {0|0} (for example, use Lemma [\ref=i-games-nice] and the fact that any S-valued game must be in I). Above we saw that the number of {0,1}-valued games, up to equivalence, is exactly seventy. For the remaining case, we have the following theorem:

If [formula] has more than two elements, then [formula] contains a subposet isomorphic to the all-small games. In particular, there are infinitely many well-tempered S-valued games.

We might as well take S  =  { - 1,0,1}. Let G be any all-small game. Then φ0(G) and φ1(G) are in W{ - 1,0,1} by an easy-induction. Since φ0 is faithful, having ψ as its inverse, there is a complete copy of the partially ordered abelian group of all-small games in [formula].

In summary, we see that the size of [formula] is given as follows:

[formula]

Since the group of all-small games contains a copy of [formula] (via the embedding [formula]), it follows that the theory of S-valued games is as complicated as the theory of short partizan games, for |S|  ≥  3. We can get at the additive structure of the group of all-small games as follows:

Let [formula] be the operation { - 1,0,1}2  →  { - 1,0,1} given by

[formula]

as well as the extension of this operation to { - 1,0,1}-valued games.

If G,H are all-small (partizan) games, then

[formula]

We leave the proof as an exercise to the reader - it is similar to the proof of Theorem [\ref=cup-cap-rule].

Examples

Very few naturally occurring scoring games are well-tempered. The games Triangles and Squares, Mercenary Clobber, Celestial Clobber, and Rebel Hex were invented by the author to give examples of scoring games. The only pre-existing scoring games considered here are Hex, Misere Hex, and To Knot or Not to Knot.

Triangles and Squares

The joke game of Brussel Sprouts is a variant of Conway and Paterson's Sprouts, played as follows: initially the board is full of small crosses. Players take turns connecting the loose ends of the crosses. Every time you connect two lose ends, you add another cross in the middle of your new segment. Play continues until someone is unable to move; this person loses. A sample game is shown in Figure [\ref=brussel-sprouts-game].

Every move in Brussel Sprouts preserves the total number of loose ends, but decreases

[formula]

by one. At the end of the game, each face contains exactly one loose end, and there is one connected component. As there are initially 4n loose ends, n connected components, and one face, the total length of the game is 5n - 2 moves. The game is played by the normal play rule, so if n is odd, the first player wins, and if n is even, the second player wins, regardless of how the players play. In particular, there is no strategy involved - this is the joke of Brussel Sprouts. This makes Brussel Sprouts frivolous as a normal-play partizan game, but well-suited for our purposes. Further information on Sprouts and Brussel Sprouts can be found in Chapter 17 of [\cite=WinWays].

We define Triangles and Squares to be played exactly the same as Brussel Sprouts except that at the end, a score is assigned as follows: Left gets one point for every "triangLe" (3-sided region), and loses one point for every "squaRe" (4-sided region). Here, we say that a region has n sides if there are n corners around its perimeter, not counting the two by the unique loose end. We include the exterior unbounded region in our count, as if the game were played on a sphere. An example endgame is shown in Figure [\ref=sample-side-count]. Note that we have introduced an asymmetry between Left and Right, so the game is no longer impartial.

Positions in Triangles and Squares naturally decompose as sums of smaller positions, making the game amenable to our analysis. Indeed, each cell (face) of a position acts independently of the others. Figure [\ref=triangles-squares-dictionary] shows a few small positions and their values. Using these values of individuals cells, we can calculate the value of a compound position, as demonstrated in Figure [\ref=sample-calculation-t-s]. Rather complicated values seem to occur in this game, such as the position in Figure [\ref=octagon-t-s].

Well-tempered Scored Clobber

Clobber, first presented in [\cite=Clobber], is an all-small partizan game played between Black and White using black and white checkers on a square grid. On your turn, you can move one of your pieces onto an orthogonally adjacent piece of the enemy color, which is removed from the game. Eventually, no pieces of opposite colors are adjacent, at which point neither player can move and the game ends. The last player able to move is the winner. A common starting position is a board full of alternating black and white checkers.

One way to make this into a scoring game would be to assign scores for captured pieces. This fails to make a well-tempered scoring game, so we do something different. Say that a checker of color C is isolated if it belongs to a connected group of checkers of color C, none of which is adjacent to a checker of the opposite color. In other words, a checker is isolated if it has no chance of being taken by an enemy checker.

We then add a new collecting move, in which you can collect an isolated checker of either color, removing it from the board. With this rule, the game ends when no checkers remain on the board. Every move (clobbering or collecting) decreases the total number of checkers by exactly one. If the initial position has n checkers, the game will last exactly n moves. So this is a well-tempered game.

In Mercenary Clobber, you get one point for collecting an enemy checker, and zero points for collecting one of your own. Some example positions and their values are shown in Figure [\ref=mercenary-clobber-dictionary]

In Celestial Clobber, the two players are GoLd and EaRth (Left and Right). Golden pieces are worth 1 point for whoever collects them, and earthen pieces are worth zero points. Some example positions and their values are shown in Figure [\ref=penny-farthing-dictionary].

To Knot or Not to Knot

The game To Knot or Not to Knot, introduced in [\cite=KnotGames], is a game played using knot pseudodiagrams. In knot theory, it is common to represent three-dimensional knots with two-dimensional knot diagrams, such as those in Figure [\ref=fig:knot-diagrams]. Each crossing graphically expresses which strand is on top. In a knot pseudodiagram, ambiguous crossings are allowed, in which it is unclear which strand is on top. Figure [\ref=fig:pseudodiagrams] shows two examples.

Knot Pseudodiagrams were introduced by Hanaki [\cite=Hanaki]. The motivation for studying pseudodiagrams comes from fuzzy electron microscopy images of DNA strands. The motivation for the game of To Knot or Not to Knot is less clear:

Two players, King Lear and Ursula (also known as Knotter and Unknotter, or Left and Right) start with a knot pseudodiagram in which every crossing is unresolved. Such a pseudodiagram is called a knot shadow. They take turns alternately resolving an unresolved crossing. (This game is best played on a chalkboard.) Eventually, every crossing is resolved, yielding a genuine knot diagram. The Unknotter wins if the knot is topologically equivalent to the unknot, and the Knotter wins otherwise. A sample game is shown in Figure [\ref=tkontk-game].

The connection with combinatorial game theory comes from positions such as the one shown in Figure [\ref=tkontk-decomposition], which decompose as connected sum of smaller pseudodiagrams. From knot theory, we know that a connected sum of knots will be unknotted if and only if every summand is unknotted. Thus the Knotter wins a connected sum of positions by winning at least one of the summands.

This shows that a connected sum of positions is strategically the same as the disjunctive or (the operation [formula] of § [\ref=sec:boolean]). Since the Knotter is Left and the Unknotter is Right, we assign a value of 1 to a Knotter victory and a value of 0 to an Unknotter victory. With these conventions, Figure [\ref=tkontk-dictionary] shows the values of a few small positions.

One difficulty with To Knot or Not to Knot is the problem of determining which player has won at the game's end! Determining whether two knots are equivalent is no easy problem. However, there is a certain class of knot diagrams which has an efficient test for the unknot. These are the rational knots. A rational tangle is a tangle (knot with loose strands) built up from the initial tangles of Figure [\ref=fig:base-tangles] by the operations of adding twists to the bottom or right sides, as in Figure [\ref=fig:tangle-construction]. A rational knot is one obtained from a rational tangle by closing up the top strands and the bottom strands, as in Figure [\ref=fig:tangle-closure].

Figure [\ref=fig:rational-tangle-example-a] shows the construction of a typical rational tangle, and Figure [\ref=fig:rational-tangle-example-b] shows the resulting knot. There is a simple way to classify rational knots using continued fractions; see [\cite=KnotBook] or [\cite=Conway1970] for details. Consequently, rational knot shadows like those shown in Figure [\ref=rational-shadows] become playable games:

It turns out that there is a general rule for determining the value of a rational shadow.

The only u-values that I have seen in To Knot or Not to Knot are 0,1 and [formula]. As noted above, To Knot or Not to Knot the motivation for considering well-tempered scoring games. The fact that 5 of the 8 possible u-values are missing is therefore disappointing.

To Knot or Not to Knot is an example of a Boolean-valued well-tempered scoring game that can be played with any boolean function f:{0,1}n  →  {0,1}. Thinking of f as a black box with n inputs and one output, we let the two players Left and Right take turns setting the values of the inputs to f. After n moves, the inputs are all determined, and then the output of f specifies the winner. There is no stipulation that Left can only set inputs to 1 or that Right can only set inputs to 0, or that the players work through the inputs in any particular order. We call this the Input-setting Game for f. To Knot or Not to Knot is an instance of this game where f is the function which takes the crossing information and outputs a bit indicating whether the final knot is knotted.

The scarcity of values occurring in To Knot or Not to Knot led me to initially conjecture that all input-setting games can only involve the u-values 0,1, and [formula]. However, it turns out that every Boolean-valued game is equivalent to an input-setting game for some boolean function f. This leads me to suspect that the same holds within To Knot or Not to Knot, since there are no obvious restrictions on which boolean functions can be realized by a pseudodiagram.

Hex, Misere Hex, Rebel Hex

Hex is a well-known game due to Piet Hein and John Nash. Two players, Black and White, alternately place pieces on the vertices of the board shown in Figure [\ref=fig:hex-board]. Black wins by forming an unbroken chain of black pieces connecting the left and right sides (as in Figure [\ref=fig:hex-win]), while White wins by forming a chain of white pieces connecting the top and bottom sides. It turns out that the board cannot fill up without one player winning. Therefore, ties are impossible.

In Figure [\ref=hex-connect](a), Black can guarantee a connection between the two black pieces. If White moves at one of the intervening spaces, then Black can move at the other and complete the connection. The configuration of Figure [\ref=hex-connect](a) is called a bridge. Chains of bridges can provide guaranteed connections across long distances. For example, in Figure [\ref=hex-connect](b), Black can guarantee victory.

On the other hand, the connection of Figure [\ref=hex-connect](c) is a weaker connection. With one more move, Black can establish a bridge, and guarantee a connection between her pieces. However, White can also connect his pieces via a bridge with one move. Thus whichever player moves next can control the connection. However, when two of these configurations are place in parallel, as in Figure [\ref=hex-connect](d), the result is a safe connection for Black, because if White interferes with the top connection, Black can respond by solidifying the bottom connection, and vice versa.

These ways of chaining positions together in series or parallel correspond to the operations [formula] and [formula] of §[\ref=sec:boolean], if we assign a value of 1 to a successful Black connection and a value of 0 to a successful White connection. Figure [\ref=hex-dictionary] shows a number of small positions and their values, with these conventions.

The reader will notice that the only u-values which occur are 0, 1, and [formula], and that every value is in I. In other words, the only even-tempered values are 0,1, and {1 * || * } and the only odd-tempered values are * ,1 * , and {1|0}, and every game is already invertible. This follows from the fact that in Hex, moving never hurts you. Consequently, if G is a position, then [formula] and [formula] for any left option GL and right option GR. This prevents the values {0|1} and { * |1 * } from ever occurring, and these in turn are necessary to produce any of the other missing values.

A variant of Hex is Misere Hex, which is played under identical rules, except that the player who connects his two sides loses. As in Hex, positions can be chained together in series or parallel, and Section [\ref=sec:boolean] becomes applicable. Assigning a value of 1 to a position with a white connection, and 0 for a position with a black connection, some sample positions and their values are shown in Figure [\ref=misere-hex].

Again, we notice a scarcity of values. Lagarias and Sleator [\cite=Lagarias] show that n  ×  n Misere Hex is a win for the first player when n is even, and for the second player when n is odd. Using their techniques, it is easy to show that more generally:

If G is an even-tempered position, then G cannot be a second-player win.

If G is an odd-tempered position, then G cannot be a first-player win.

If G is any position, then [formula] for every GL and GR.

If G is any position, then [formula]. In other words, the only possible values are

[formula]

In fact, no new games can be built from these without contradicting one of the preceding bullet points.

To get more interesting values, we consider a third variant of Hex, Rebel Hex. This is played the same as Hex, except for the following additional rule: whenever a piece is played directly between two enemy pieces, it changes colors. For example in Figure [\ref=rebel-hex-rules](a), if White plays a piece at the *  , it will immediately change colors to black. On the other hand, if Black plays at *  , her piece will remain black. In Figure [\ref=rebel-hex-rules](b), if either player moves at *  , the piece will change colors. For a color reversal to occur, the surrounding enemy pieces must be directly adjacent and on opposite sides. Thus in Figure [\ref=rebel-hex-rules](c), no reversal will occur if either player moves at *  . Moreover, playing a piece can never change the color of a piece already on the board, so in Figure [\ref=rebel-hex-rules](d), if Black moves at *  , the white piece remains white, although it is now surrounded.

With this new rule in place, new values can occur, as shown in Figure [\ref=rebel-hex-dictionary]. For example, we can now have quarter-connections and 3 / 8-connections. If the players play a thousand copies of Figure [\ref=fig:quarter-connection] in parallel and Black tries to win as many as possible, she will be able to win about 250 of them. The significance of these partial connections is exhibited when we chain them together in series or parallel. For example, White's [formula]-strength connection in Figure [\ref=fig:quarter-connection] ensures that White will win, regardless of who moves next. But when four copies of this configuration are placed in series, as in Figure [\ref=fig:four-quarters], the resulting connection has strength

[formula]

and now Black is guaranteed a victory!

Conclusion

Sadly, none of our theory seems to generalize to scoring games which are not well-tempered. Central notions such as ≈  ±, upsides, and downsides only make sense in a setting where the identity of the final player is predetermined, which generally does not occur. If G and H are well-tempered scoring games such that G  ≈  H, it may well be the case that G  +  X and H  +  X have different outcomes for some (non-well-tempered) scoring game X.

One approach to general scoring games might be to try heating them until [formula] is satisfied for all subgames H. There are a couple of problems with this approach. First of all, a game like { * |1 * } will not satisfy this property under any amount of heating, because {2t|0||1| - 2t} always has left outcome 0 and right outcome 1. A bigger problem is that after sufficient cooling, the theory of scoring games is equivalent to the theory of misere all-small games. Since the theory of misere all-small games is somewhat hopeless, cooling had better not be a well-defined operation on scoring games! But if it is not, heating becomes a lossy operation, and its usefulness diminishes.

Acknowledgments

This work was done in part during REU programs at the University of Washington in 2010 and 2011, and in part while supported by the NSF Graduate Research Fellowship Program in the Autumn of 2011. The author would like to thank Rebecca Keeping, James Morrow, Neil McKay, and Richard Nowakowski, with whom he discussed the content of this paper, as well as Allison Henrich, who introduced the author to To Knot or Not to Knot, which ultimately led to this investigation.