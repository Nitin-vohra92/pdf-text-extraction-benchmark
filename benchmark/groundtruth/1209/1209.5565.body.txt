Introduction

The so-called complex networks theory is now an accepted branch of physics and, in pariticular, of statistical physics. In fact, networks are mainly studied by means of those tools developed in the traditional field of statistical mechanics and this has lead to the definition of concepts and methods formally analogue to those used there [\cite=erdos] [\cite=gilbert] [\cite=bender] [\cite=bollobas] [\cite=barabaus] [\cite=new] [\cite=calda] [\cite=cl] [\cite=new2] [\cite=likel]. One of the most successful concepts is the one of ensemble, whose definition mimicks the traditional one: a set of networks each one having an associated probability coefficient, used to compute the average of some topological property of interest [\cite=huang].

The less statistically-biased way to build an esemble is by means of the MaxEnt procedure, that is the maximization of the Shannon entropy under some imposed contraints [\cite=shannon] [\cite=jaynes]: a number of different ensembles can be defined by varying the number and the type of constraints. The main difficulty with this procedure is the calculation of the partition function for such ensembles, leading to a closed-form function: however, if linear constraints are chosen, a smart choice of the support greatly simplifies the calculations [\cite=likel]. The far most common choice is to consider the set of all graphs with the same number of nodes (say N) and with a number of links varying from zero to the maximum. In what follows we will consider only binary networks, so that only two possibilities are given for each pair of nodes: they are connected (and there is one link between them) or not (and zero links are present between them). This implies that the maximum number of links is N(N - 1) / 2 for binary, undirected networks (the total number of undirected pairs, given N objects) and N(N - 1) for binary, directed networks (the total number of directed pairs, given N objects).

If we consider the total number of nodes' pairs as the available volume to store the given particles (that is, the directed or undirected links) we can identify the collection of graphs defined above as the usual grandcanonical ensemble in physics, characterized by the three constraints (V,  μ,  T), where V is the volume (the total number of nodes' pairs), μ is the chemical potential (controlling for the average number of particles/links) and T is the temperature (controlling for the average value of the energy: a physical definiton of energy adaptable to networks - even if maybe unnecessary - is still missing but attempts to include it in the set of quantites imposable as networks contraints have already been made [\cite=temp]). Clearly, as long as the volume of the system does not change and the number of particles changes, the only meaningful identification is with the grandcanonical ensemble (in fact, neither the microcanonical, or (V,  N,  E), nor the canonical, or (V,  N,  T), ensemble satisfy these requests [\cite=jaynes] [\cite=shannon]).

It turns out that allowing for the number of links to vary, greatly simplifies the calculations involving the partition function, thus making the grandcanonical ensemble a powerful tool to solve analytical models. However, despite the easiness in carrying on the calculations on this support, no efforts have been made to characterize it from a mathematical point of view.

In the next sections, an aswer to this question will be provided (and with an abuse of language, we will call "ensemble" only the support of the distribution, disregarding the type of distribution defined over it).

Explicit generation of the grandcanonical ensemble

The explicit generation of the grandcanonical ensemble of binary networks can be realized by a tree-like process. Let us consider binary, undirected networks for simplicity. The pairs of nodes can be double-indexed (i.e. ij, with i < j and ignoring, as usual in network theory, the diagonal elements) and listed according to a double-order: firstly, by ordering the index i and, then, the index j. For example, with N = 4 nodes we would have the following N(N - 1) / 2 = 6 pairs:

[formula]

These undirected pairs will be the vertices of our tree. In N(N - 1) / 2 = 6 steps we will build all the branches of our tree, whose "leaves" will be the matrices constituting the grandcanonical ensemble. This procedure, even if long, makes the mechanism leading to the definition of this kind of ensemble clear. Note that the double index leads to the definition of a matrix (the adjacency matrix), usually indicated with A and whose elements, the aijs, represent the pairs of nodes under consideration: aij = 1 indicates that the vertices i and j are linked; aij = 0 indicates that the vertices i and j are not linked.

Fig. [\ref=tree] shows the first four (out of six) steps leading to the definition of the grandcanonical ensemble of binary networks with N = 4. Let us start from the first pair of nodes and decide if the vertices 1 and 2 are linked or not (a12 = 1 or a12 = 0), the two choices corresponding to the first two branches. After the first pair, let us consider the next one, ij = 13, and ask again if the nodes 1 and 3 are linked or not; these two possibilities correspond to the two pairs of branches drawn under the vertex ij = 13 (and note the there are two vertices of this kind, corresponding to the previous, two different choices). So, the recipe is clear: it prescribes to draw two branches under each vertex (corresponding to 0 and 1) to link it to the following, until the last choice.

Proceeding in this way, we have explicitly listed all the possibilities, by assigning 0 or 1 to each adjacency matrix element and producing [formula] binary, undirected matrices. Note that the empty graph, E4, is produced by a series of N = 6 zeros (on the left side of the tree) and that the complete graph, K4, is produced by a series of N = 6 ones (on the right side of the tree).

A worked example of this tree-generation is provived in fig. [\ref=grand]. The same procedure can be applied to the binary, directed networks. In this case, the tree would have 2N(N - 1) leaves because also the "reciprocal" pairs should be considered and drawn, accordingly (so, each pair ij, with i < j, would be linked to the reciprocal, ij with i > j, and not directly to i + 1  j, with i + 1 < j).

The grandcanonical ensemble as a set of relations

A binary graph is usually defined as a couple of sets, V and E where V is the set of vertices and E is the set of edges: when considering binary, undirected networks E  ⊆  [V]2 (the latter being the subset of the power set of V, whose elements have cardinality two); when considering binary, directed networks E  ⊆  V  ×  V (the latter being the cartesian product of V with itself). These definitions can be unified, considering the definition of relation [\cite=DCM].

Let us come back to the explicit generation of the grandcanonical ensemble. We could also ask, at every step: are i and j in relation? By repeating this question at every step of the previous tree, and by answering "yes" (1 - and drawing a link between the corresponding vertices) or "not" (0 - and not drawing a link between the corresponding vertices), a graphical representation of the considered relation is obtained.

In fact, let us consider the cartesian product V  ×  V and think about the link set, E: links are nothing but the pairs (vi,  vj) where [formula] and [formula]. So, aij = 0 indicates that the vertices i and j are not linked and the pair (vi,  vj) does not belong to E: [formula]; on the other side, aij = 1 indicates that the vertices i and j are linked and the pair (vi,  vj) belongs to E: (vi,  vj)∈E. In summary,

[formula]

(where the line over the letter R indicates that the two elements are not related) showing that binary graphs are graphical representations of relations [\cite=DCM]. So, given N vertices, the total number of binary relations (binary networks) definable over them is 2N2. Even if the correspondence between graphs and relations is well-known, complex network theory can provide the tools to "quantify" the considered relation.

Reflexivity

To verify if a given relation is reflexive [\cite=DCM], we have to verify if every vertex is in relation with itself. This is easily done by considering the trace of the adjacency matrix A: [formula].

We have three cases: all the vertices are in relation with themselves, only some of them are in relation with themselves and no vertex is in relation with itself; the trace assumes three different values, respectively:

It is possibile to count how many relations (networks) are of the three kinds, above: there are 2N(N - 1) antireflexive relations, 2N(N - 1) reflexive relations and the remaining [formula] are not-reflexive. If, as usual in network theory, the diagonal elements (or self-loops) are often ignored: this means that [formula] and only the 2N(N - 1) antireflexive relations are considered (exactle the cardinality of the grandcanonical ensemble of binary, directed networks).

Symmetry

In other words, to verify the symmetry of a relation we have to verify if every link has its reciprocal (i.e. another link connecting the same two vertices but pointing in the opposite direction) [\cite=DCM]. As for the reflexivity, a quantity exists to measure the degree of (a)symmetry of a given relation: the reciprocity [\cite=new3],

[formula]

(where every index runs from 1 to N) according to which

Note that an empty network has all the adjacency matrix entries equal to zero. This implies that r = 0 / 0, that is r is an indeterminate form. In this case, the network is trivially both symmetric and antisymmetryc and the indeterminate form can be solved both as 0 or 1. Even if the relations considered in complex network theory are antireflexive, the definition of reciprocity explicitly excludes them frome the sums: this makes r a valid index to measure the reciprocity of a generic relation (even in presence of its diagonal elements) because the diagonal of a relation has not influence on its symmetry [\cite=DCM].

Now, it becomes clear why binary, undirected networks are particular cases of binary, directed networks: they represent symmetric relations where all links have their own reciprocal: [formula] or A = AT.

It is possibile to count how many relations (networks) are of the three kinds, above: there are [formula] symmetric relations, [formula] antisymmetric relations (note that the N diagonal elements are counted in both) and the remaining are asymmetric. So, the grandcanonical ensemble of binary, undirected networks (being a subset of the set of relations definable on N vertices) is obtainable by simply requiring that the networks (relations) are undirected and without self-loops (that is, symmetric and antireflexive), restricting the number of graphs to be [formula]. On the other side, the grandcanonical ensemble of binary, directed networks is obtainable by simply requiring that the network (relations) are directed and without self-loops (that is, antireflexive), restricting the number of graphs to be 2N(N - 1).

Transitivity

It is evident that the following, particular cases are included in the definition of transitivity [\cite=DCM]:

[formula]

[formula]

implying that pairs of nodes mutually interacting should also interact with themselves, by means of a pair of self-loops. However if, as usual in network theory, antireflexive relations were considered, no vertex would interact with itself thus making a symmetric relation automatically not-transitive. To avoid this, we can restrict the definition of trasitivity to the triples of distinct vertices: i,j,k with i  ≠  j,  j  ≠  k,  i  ≠  k. In this case a quantity can be defined to measure the degree of transitivity of the considered relation [\cite=giorgio], as shown in fig. [\ref=clustdir]:

[formula]

(where the indexes run from 1 to N). The symbols above refer to standard quantities in network theory: the out-degree of node i, [formula], that is the number of outgoing links from i; the in-degree of node i, [formula], that is the number of incoming links to i; the reciprocal degree of node i, [formula], that is the number of links outgoing from i and having a reciprocal partner. In the case of a symmetryc relation, A = AT and [formula], the last symbol defining the degree of a node, that is the number of its neighbors; so, in this case,

[formula]

and we recover the usual definition of the undirected clustering coefficient [\cite=holl].

To understand how it works, let us consider a symmetric relation (that is, a binary, undirected network). The degree of a node is the number of its neighbors: so, [formula] is the maximum number of i's neighbors' pairs that could be connected or, equivalently, the maximum number of triangles having i as a vertex. Now, an undirected triangle is a graphical representation of a transitive relation: since the clustering coefficient counts the fraction of triangles effectively completed, it is also a measure of the fraction of transitive relations effectively realized.

For binary, directed networks the only difference lies in what follows: because of the directionality of the links, the order of the considered vertices is not irrelevant. cmid counts the number of transitive relations by taking the point of view of the central ("middle") vertex of the triangle (see fig. [\ref=trans] and table [\ref=tabtrans] for a visual example). As with the trace and the reciprocity we have three cases:

If the denominator is zero for some vertex, there are no relations to realize. In the binary, undirected case, this amounts to consider isolated nodes. In the directed case, the evenience of having a vanishing denominator is more subtle (see fig. [\ref=trans]). In both these cases, we would have the indeterminate form cmidi = 0 / 0, for some i. As for the reciprocity, these can be solved both as 0 and 1.

If the considered relation is symmetric, then the antitransitive request (a binary, undirected network without cycles) defines a tree.

The grandcanonical ensemble as a boolean algebra

The adjacency matrix elements, aijs, can assume only the values 0 and 1. In the previous sections they were considered as indicators of some kind of relation. In this section, on the other side, they will be considered as boolean, logic variables [\cite=TAGT]. So a binary, undirected network is a collection of [formula] boolean variables (and N(N - 1) for a binary, directed network).

The grandcanonical ensemble of binary networks was obtained by the tree generation process: let us call it GBN to indicate the presence of N nodes and only binary (B) relations. Until now, we have characterized the single graphs in GBN as relations. Now, let us characterize the ensemble GBN as a whole.

Let us consider the following binary operation [\cite=ieee] [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]

[formula]

known as intersection of graphs, such that

[formula]

Now, since we have [formula] the intersection becomes [formula], acting as the intersection between the two sets of links [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]. This operation has to be understood as acting between the pairs of nodes indexed by the same numbers, i and j, when different graphs are considered. So, the intersection of graphs is, actually, the result of the [formula] (or N(N - 1)) intersections between corresponding pairs. So, given the pair of nodes ij and two different graphs, G1 and G2, the elements a1ij∈E1 and a2ij∈E2 intersect as usual, binary variables as shown in table [\ref=tab1] (see fig. [\ref=intersect] for an example).

Now, let us consider a second binary operation [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]:

[formula]

known as union of graphs:

[formula]

and since we have [formula], the intersection becomes [formula] acting as the union of the two sets of links [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]. Also this operation is defined as acting between corresponding pairs of nodes: given the pair ij and two different graphs, G1 and G2, the union between the elements a1ij∈E1 and a2ij∈E2 works as shown in table [\ref=tab2] (see fig. [\ref=union] for an example).

The last operation we consider is an unary operation acting on single graphs, the complement of a graph [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]:

[formula]

such that [formula]. The complement of the link set can be defined as the result of the complement operation on the single adjacency matrix elements, as shown by the rules in table [\ref=tab3] (see fig. [\ref=neg] for an example).

The grandcanonical ensemble GBN of binary networks (undirected or directed), equipped with the operations od intersection, union and complement of a graph, is a boolean algebra.

It is easy to verify that the intersection of graphs is an internal operation, that is [formula]. In fact, being the results of the intersection between corresponding pairs of nodes only 0 or 1, it represents a binary element whose contribution to the resulting graph is automatically accounted for in the tree generation. The same is valid for the union of graphs: [formula]. The complement of a graph is an internal operation, too: [formula]. This is even more evident than for the precedent operations: it is sufficient to consider that, at every step of the tree generation, a choice between 0 and its complement, 1, has to be made. So, the complement of every choice is accounted for by this process.

The neutral element for the intersection is the complete graph with N vertices, KN: in facts, [formula]. In fact, all the adjacency matrix elements of KN are 1, so [formula] and [formula].

The neutral element of the union is the empty graph with N vertices, EN: [formula]. In fact, all the adjacency matrix elements of EN are 0, so [formula] and [formula].

Note that

[formula]

because these operations reduce to operate between pairs of nodes and it is evident that [formula], [formula], [formula] and [formula].

These operations have also the other requested properties. When computed on a single pair of variables, the intersection and the union are commutative, associative, mutually distributive [\cite=CGT] [\cite=GT] [\cite=IGT] [\cite=bb]. When dealing with graphs, all the pairs have to be considered independently from each other. So these propeties are preserved also for graphs: the intersection and the union are commutative

[formula]

associative

[formula]

[formula]

and mutually distributive

[formula]

[formula]

So, by enriching GBN with these three operations we have a boolean algebra of binary, undirected (or directed) graphs, having N vertices each:

We have made no distinction between undirected and directed graphs during the proofs because they can be treated in exactly the same way. So we can end up with a boolean algebra of binary undirected or directed graphs, depending on the type of network chosen.

The grandcanonical ensemble as a sigma-algebra

From the operations defined above, we can consider every generic graph G in GBN as a "subset" of KN, in the sense that [formula], where G = (V,  E), that is, the link set of every graph is a subset of the link set of the complete graph. In fact, by using the intersection operation

[formula]

The grandcanonical ensemble GBN is the sigma-algebra generated by the subsets of the complete graph KN (its power-set): the so-called discrete sigma-algebra, whose cardinality is [formula] for binary, undirected networks and 2N(N - 1) for binary, directed networks.

In the first place, KN∈GBN: this is evident from the tree generation process.

In the second place, [formula]: in fact, every graph has its complement inside the grandcanonical ensemble.

In the third place, [formula], that is: the union of a finite familiy of graphs, belonging to the grandcanonical ensemble, still belongs to it. This can be verified by taking, first, the union of two graphs (which is an internal operation, as seen before) and then considering a third one and so on. Of course, no infinite union can be considered, because the cardinality of the grandcanonical ensemble is finite.

With a new symbol, we can indicate this sigma-algebra as

[formula]

Conclusions

In statistical mechanics of networks, the set of all graphs with the same number of vertices and number of links varying from zero to the maximum (the support of the grandcanonical distribution, known, in physics, as the grandanocanical ensemble) is used as a tool to carry on the calculations of the partition functions. However, little attention has been paid to its mathematical structure. In this paper, an answer from a logic-algebraic point of view has been provided.

Even if the extension of the logical operations as the union, the intersection and the complement between boolean variables to binary graphs was already known, very little attention has been paid to the role of these operations in characterizing algebraic structures of binary graphs.

By enriching the grandcanonical ensemble with the three operations of intersection, union and complement of graphs, we have found the structure of a boolean algebra, that is a set of elements closed under the aforementioned operations and including the neutral elements of the intersection and the union.

Moreover, by considering the graphs belonging to the grandcanonical ensemble as subsets of the complete graph KN (which is true for the corresponding link sets) and extending the operation of union also to finite sets of graphs, the grandcanonical ensemble becomes also a sigma-algebra: in particular, the so-called discrete sigma-algebra, generated by the power-set of KN.

A natural extension of this analysis concerns the weighted networks, on the one side, and the characterization of the microcanonical ensemble, on the other. One of the major challenges about the weighted networks is to find the right generalization of the binary, logic operations to the weighted grandcanonical ensemble; the microcanonical ensemble, instead, forces us to face the need of defining a novel algebraic structure to take into account the hard, topological constraints that are usually imposed over it (as the degree sequence, for example).