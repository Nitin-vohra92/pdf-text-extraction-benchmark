Optimally Influencing Complex Ising Systems

Introduction

With the proliferation of online social networks over the last two decades, the problem of optimally influencing the opinions of individuals in social networks has garnered much attention [\cite=Domingos-01] [\cite=Richardson-01] [\cite=Kempe-01]. The prevailing paradigm treats marketing as a viral process and is studied in the context of contagion models and irreversible processes [\cite=Kempe-01] [\cite=Mossel-01] [\cite=Demaine-01] [\cite=Goyal-01]. Under the viral paradigm, the influence maximization (IM) problem is, given a budget of seed infections, to choose the subset of individuals to infect such that the ensuing cascade is maximized at the completion of the viral process. While the viral paradigm accurately describes out-of-equilibrium phenomena, such as the introduction of new ideas or products to a system, this paradigm fails to capture reverberant opinion dynamics wherein repeated interactions between individuals in the network give rise to complex macroscopic opinion patterns, as, for example, is the case in the formation of political opinions [\cite=Moussaid-01] [\cite=Mas-01] [\cite=Schelling-01] [\cite=Isenberg-01] [\cite=Galam-03]. In such cases, rather than maximizing the spread of a viral advertisement, the marketer is interested in optimally shifting the equilibrium opinions of individuals in the network.

To study complex opinion formation, the influence maximization problem has recently been proposed in the context of the Ising model of opinion dynamics, in which individual opinions are treated as spins in an Ising system at dynamic equilibrium and marketing to the system is modeled as the addition of an external magnetic field [\cite=Lynn-01] [\cite=Liu-01]. The resulting problem, known as the Ising influence maximization (IIM) problem, is equivalent to the maximization of the magnetization of an Ising system given a budget of external field. Figure [\ref=IntroExample] gives an intuition for the IIM problem in a small preferential attachment network. In Figure [\ref=IntroExample](a) we find that, compared with the trivial strategy of spreading the external field uniformly among the nodes, focusing the external field on influential nodes can increase the magnetization of the system by up to 60%. Remarkably, we find in Figure [\ref=IntroExample](b) that the structure of the optimal external field (i.e. that which maximizes the magnetization) undergoes a phase shift: at high temperatures, the magnetization is maximized by intuitively focusing on the single node of highest degree, while at low temperatures, the magnetization is maximized by counterintuitively spreading the external field among nodes of low degree.

In this paper, we explore the structure of optimal external fields in complex Ising systems, and we provide novel analytic and algorithmic tools for identifying influential nodes in large complex networks. One might suspect that the dramatic phase shift seen in Figure [\ref=IntroExample](b) is limited to a small class of Ising systems, and while previous work on the IIM problem has been limited to ferromagnetic systems in nonnegative external fields, we show analytically that such phase shifts are a persistent phenomenon found in all Ising systems, including those with negative couplings and negative external fields. In particular, for general Ising systems, we provide analytic solutions to IIM in the high-T and low-T limits, showing that the optimal external fields undergo a phase shift from focusing on high-degree nodes at high temperatures to focusing on "loosely-connected" nodes, which are weakly energetically bound to the ground state, at low temperatures.

We are also the first to study the Ising influence maximization problem directly (without mean-field approximations), and we provide a novel and efficient algorithm for solving IIM with provable performance guarantees for ferromagnetic systems in nonnegative external fields. We apply our algorithm on large random and real-world networks, verifying the existence of a phase shift in the optimal external fields and comparing the performance of our algorithm with the state-of-the-art mean-field-based algorithm in [\cite=Lynn-01].

The paper is organized as follows. In Section [\ref=Model] we introduce the Ising model of opinion dynamics and formally state the IIM problem. In Sections [\ref=HighT] and [\ref=LowT] we derive analytic solutions to IIM in the the high-T and low-T limits, respectively. In Section [\ref=Algorithms] we present an efficient algorithm for solving IIM, and we prove performance guarantees for the case of ferromagnetic systems in nonnegative external fields. In Section [\ref=Experiments] we provide numerical experiments on large random and real-world networks, verifying the existence of phase shifts in the optimal external fields and comparing our algorithm with the state-of-the-art. We conclude with summarizing remarks in Section [\ref=Conclusion].

Related work

The recent development of the influence maximization problem can be traced to Domingos and Richardson [\cite=Domingos-01] [\cite=Richardson-01] and Kempe et al. [\cite=Kempe-01], the latter of which presented the problem in the context of the independent cascade model, marking the introduction of the viral paradigm that is still widely used today. Subsequent work has expanded the IM problem to include competing viruses [\cite=Goyal-01], fractional initial infections [\cite=Demaine-01], and continuous-time dynamics [\cite=Gomez-Rodriguez-01] [\cite=Du-01], among many other interesting generalizations. However, all of this work is fundamentally based on contagion models, which do not allow for reverberant opinion dynamics and complex steady-states.

Our goal is to study the IM problem in contexts where individuals flip opinions as they interact, yielding complex collective behavior, and the Ising model is a natural starting point given its widespread success in describing complex systems. The Ising model has been applied to opinion formation dating to the work of Galam [\cite=Galam-01] [\cite=Galam-02], and continues to be an active area of research [\cite=Montanari-01] [\cite=Castellano-01]. Ising-like models are also prevalent under names such as logistic response in game theory [\cite=Blume-01] [\cite=McKelvey-01] and the Sznajd model in sociophysics [\cite=Sznajd-Weron-01]. Furthermore, complex Ising models have found widespread use in machine learning, and so the model we consider is formally equivalent to a pair-wise Markov random field or a Boltzmann machine [\cite=Nishimori-01] [\cite=Tanaka-01] [\cite=Yedidia-01].

The Ising influence maximization problem represents a paradigm shift in the study of influence maximization and bridges a gap between the IM and Ising literatures. The IIM problem was formalized in [\cite=Lynn-01], where the authors limited their study to ferromagnetic systems in nonnegative external fields and only considered the IIM problem under the mean-field approximation. Our work represents two large steps forward: (i) we consider the IIM problem in general networks under general external fields, and (ii) we study the IIM problem directly via exact Ising calculations for small networks and Monte Carlo simulations for large networks. In order connect our results with previous work, we also develop a number of analytic results under the variational mean-field approximation, which has its roots in statistical mechanics and has long been used for inference in machine learning [\cite=Jordan-01] [\cite=Opper-01] [\cite=Saul-01]. We note that Liu et al. also studied a similar problem in [\cite=Liu-01], but they neglected the effects of thermal noise, which we find to play a vital role.

Ising influence maximization

In this section, we present the Ising model of opinion dynamics and describe how negative couplings and negative external fields account for two important features found in real-world social networks: (i) negatively correlated opinions and (ii) competitive marketing. We conclude by formally stating the Ising influence maximization problem in this generalized context.

Generalized Ising model of opinion dynamics

We consider an Ising system consisting of a set of individuals [formula], each of which is assigned an opinion σi∈{  ±  1} that captures its current state. By analogy with the Ising model in statistical physics, we often refer to individuals as nodes and opinions as spins, and we refer to [formula] as a spin configuration of the system. Individuals in the network interact via a symmetric coupling matrix J, where [formula], and we assume the diagonal entries in J are zero such that self-interactions are forbidden. Each node also interacts with forces external to the network via an external field [formula], where [formula] is the external field on node i. For example, if the spins represent the political opinions of individuals in a social network, then Jij represents the the amount of influence that individuals i and j hold over each other's opinions and hi represents the political bias of node i due to external forces such as campaign advertisements and news articles.

We note that [formula] and J are allowed both positive and negative entries of arbitrary weight, whereas previous models have only considered [formula] and [formula]. A negative external field hi < 0 represents a competitive external influence on node i. Competing sources of external influence are natural in most marketing contexts and have been studied extensively in the influence maximization literature [\cite=Goyal-01] [\cite=Bharathi-01]. A negative coupling Jij < 0 signifies that the spins i and j are anticorrelated, such that if individual i has a positive opinion, then individual j will be influenced to have a negative opinion, and vice versa. Anticorrelated opinions have been studied in the psychology literature [\cite=Nowak-01], but, to the authors' knowledge, have not yet been considered in models of influence maximization, even in the viral paradigm. Finally, we note that the introduction of negative couplings makes our model similar to a spin-glass, which is known to show much more complex behavior than a standard Ising ferromagnet [\cite=Nishimori-02].

The steady-state of an Ising system is described by the Boltzmann distribution

[formula]

where T is the temperature of the system, [formula] is the energy of configuration [formula], and [formula] is the partition function. Unless otherwise specified, sums over i and j run over the set of nodes N, and sums over [formula] are assumed over the set of spin configurations Ω  =  {  ±  1}n. The expectation of any function [formula] over (1) is denoted by [formula]. In particular, the total expected spin [formula] is referred to as the magnetization of the system, and we will often consider the magnetization as a function of the external field, denoted by [formula].

Another important concept is the susceptibility, represented by the matrix

[formula]

where χij quantifies the response of node i to a change in the external field on node j. Identifying the susceptibility matrix with the spin covariance matrix, [formula], it follows that χ is symmetric. Furthermore, to illustrate the importance of χ, we note that, given vanishingly small external field resources δH, the magnetization is maximized by focusing δH on the nodes corresponding to the largest elements of the gradient [formula]. This intuition will prove useful in Section [\ref=HighT].

Notation. Unless otherwise specified, capital letters represent matrices and bold symbols represent column vectors with the appropriate number of components, while non-bold symbols with subscripts represent individual components. We often abuse notation and write relations such as [formula] to mean mi  ≥  0 for all components i. Along the same lines, any descriptor such as "nonnegative," when applied to a vector or matrix, is assumed to be applied component-wise.

Problem formulation

We study the problem of maximizing the total magnetization of an Ising system with respect to the external field. For concreteness, we assume that an external agent can impose an external field [formula] on the network subject to the constraint [formula], where [formula] is the [formula] norm and H > 0 is the external field budget, and we denote the set of feasible external fields by [formula]. In general, we also assume that the system experiences an initial external field [formula], which cannot be controlled by the external agent. We are now prepared to state the Ising influence maximization problem.

Problem 1 (Ising influence maximization). Given a system described by J, [formula], and T, and an external field budget H, find an external field

[formula]

We refer to any such external field as optimal. We also often refer to any nodes included in an optimal external field as optimal.

Remark. Before proceeding, we point out that for finite systems, the objective [formula] is uniquely-defined for all [formula] and hence the IIM problem is well-posed.

High-T: high-degree nodes are optimal

In this section, we develop an analytic solution to IIM in the high-temperature limit. For a general Ising system described by J and [formula] and an external field budget H, we prove in the T  →    ∞   limit that the optimal external fields focus on the nodes with the highest degree in the network. While focusing on the nodes of highest degree is intuitive in that we tend to think of high-degree nodes as influential in driving network dynamics, we note that the independence of this result with respect to [formula] is quite remarkable. We conclude by drawing comparisons with the external fields that maximize the mean-field magnetization, which have been the focus of previous work [\cite=Lynn-01].

High-T analytic solution to IIM

In this subsection, we show that in the high-temperature limit, for a general Ising system and external field budget H, the magnetization is maximized by focusing H on the nodes of highest degree. In what follows we consider a general Ising system defined by J, [formula], and T. Instead of studying the magnetization directly, we find it most intuitive to consider the susceptibility χ. In the high-T limit, we can expand [formula] in powers of [formula],

[formula]

Since the Boltzmann distribution is uniform at β = 0, we have [formula] for any function of the spins [formula]. Thus, when evaluated at β = 0, any terms in [formula] that include an odd number of spins will vanish in expectation. In particular, [formula] for all i∈N, and hence the zeroth-order term in Eq. ([\ref=TaylorExpansion]) takes the form

[formula]

In Appendix A, we calculate the first- and second-order terms in Eq. ([\ref=TaylorExpansion]), yielding

[formula]

Using Eq. ([\ref=Xexpansion]), we can relate changes in the external field [formula] to changes in the total magnetization M:

[formula]

where [formula] is the degree of node i and [formula] represents the total weight of paths of length 2 originating from node i (not counting self-interactions).

Inspecting Eq. ([\ref=Mexpansion]), we find to first-order in β that [formula], which tells us that in the high-T limit, the optimal external fields [formula] have positive components summing to H, i.e., [formula]. This may seem obvious, but we note that at intermediate and low temperatures, applying negative external field to nodes that are anticorrelated with the total magnetization can be optimal. To understand the dependence of the optimal external fields on the topology of the network, we turn to the second-order term in Eq. ([\ref=Mexpansion]), which is proportional to the degree of node i. Since [formula] for all high-T optimal external fields, we conclude that in the high-T limit, the magnetization is maximized by focusing H on the nodes of highest degree in the network, independent of the initial external field. The result is summarized in Theorem 2.

Theorem 2. Let J and [formula] describe a general Ising system and consider a general external field budget H. For sufficiently high temperatures, all optimal external fields place positive weight on the nodes of highest degree summing to H; i.e. letting [formula] denote the set of nodes of maximum degree, if [formula] maximizes [formula] in the high-T limit, then [formula], and hence h*i = 0 for all [formula].

Focusing one's budget on the nodes of highest degree is intuitive since we tend to think of high-degree nodes as influential in driving network dynamics. However, the independence of this result with respect to [formula] can be counterintuitive, especially if one considers the extreme case of a network in which the node of highest degree experiences a large initial external field.

If there exist multiple nodes of highest degree, then we turn to the third-order term in Eq. ([\ref=Mexpansion]) to break the degeneracy between possible optimal external fields. The third-order term in Eq. ([\ref=Mexpansion]) has a quadratic dependence on [formula], favoring nodes with initial external fields that are small in magnitude. However, if [formula] is uniform, then the high-T optimal external fields focus H on the nodes of highest degree which reach the largest number of nodes via paths of length 2. In the next subsection, we show that the mean-field magnetization is also maximized by focusing H on the nodes of highest degree, but that the third-order term in Eq. ([\ref=Mexpansion]) is different under the mean-field approximation, leading to the possibility of sub-optimal external fields at high temperatures.

High-T analytic solution under the mean-field approximation

We now compare the optimal external fields to the mean-field optimal external fields (those which maximize the mean-field magnetization) in the high-temperature limit. We prove for general Ising systems that the high-T mean-field magnetization is maximized by focusing on the nodes of highest degree, formally verifying a conjecture made in [\cite=Lynn-01]. Furthermore, we go on to show that the third-order term in the high-T expansion of the mean-field susceptibility is different from that in Eq. ([\ref=Mexpansion]), leading to the possibility of sub-optimal external fields under the mean-field approximation.

For an Ising system described by J, [formula], and T, the mean-field magnetization is defined by the self-consistency equations [\cite=Jordan-01] [\cite=Opper-01] [\cite=Yedidia-01]:

[formula]

for all i∈N. To calculate the high-T magnetization, we expand Eq. ([\ref=SelfConsistency]) with respect to β:

[formula]

Because the leading-order term in [formula] is first-order in β, we can drop [formula] in the cubic term in Eq. ([\ref=MFexpand1]). Abusing notation to let [formula], we have

[formula]

where I is the n  ×  n identity matrix. Assuming that our solution to Eq. ([\ref=SelfConsistency]) is stable, i.e., [formula] describes a minimum of the mean-field Gibbs free energy, we have that ρ(βJ)  <  1, where ρ(  ·  ) denotes spectral radius (see [\cite=Lynn-01]). This allows us to expand (I - βJ)- 1 as a geometric series of matrices, yielding

[formula]

From Eq. ([\ref=MFexpand2]), one can easily derive the mean-field susceptibility of the system, which takes the form

[formula]

Eq. ([\ref=MFexpand3]) verifies, for a general Ising system and external field budget H, that under the mean-field approximation the high-T optimal external fields are positive and correctly focus H on the nodes of highest degree. However, the third-order term in Eq. ([\ref=MFexpand3]) differs from the third-order term in Eq. ([\ref=Mexpansion]) in that the sum over (J2)ij runs over all j instead of running over j  ≠  i. Thus, the mean-field approximation mistakenly takes into account self-interactions via paths of length 2, which can lead to sub-optimal external fields in the high-T limit, as shown in Figure [\ref=HighTExample].

Low-T: "loosely-connected" nodes are optimal

In this section, we study the structure of optimal external fields in the low-temperature limit. At low temperatures, the magnetization is governed by the spin configurations associated with low energies, i.e., the ground states, first-excited states, etc. However, for a large external field budget H, the feasible external fields [formula] can alter the low-energy spectrum dramatically, making a general description of the low-temperature magnetization both cumbersome and unilluminating. To ease the discussion and foster intuition, we consider a natural special case: when the system admits a unique ground state and a unique first-excited state for all external fields [formula]. In this case, we show that the low-T magnetization is maximized by focusing H on the nodes with opposite parity between the ground state and first-excited state configurations, and we refer to such nodes as "loosely-connected" since they are weakly energetically bound to the ground state. For an analytic discussion of low-temperature solutions to IIM for general Ising systems and general external field budgets we point the reader to Appendix B. In order to connect our results to previous work that has focused on maximizing the mean-field magnetization, we conclude this section by drawing comparisons with the low-T mean-field optimal external fields.

A low-T analytic solution to IIM

In this subsection, we show that in the low-temperature limit, for an Ising system that admits a unique ground state and a unique first-excited state for all [formula], the magnetization is maximized by focusing H on the nodes with opposite parity between the ground and first-excited states. We consider an Ising system described by J, [formula], and T and an external field budget H such that the system admits unique ground and first-excited states [formula] and [formula], respectively, for all feasible external fields [formula]. In other words, we have that [formula] and [formula] for all [formula], where [formula] denotes the energy under the external field [formula]. To give a sense of the systems for which this condition holds, we note that any system that initially (under [formula]) admits a unique ground state and first-excited state will continue to do so for all [formula] as long as H is small enough that the additional external field does not alter the low-energy spectrum, i.e., as long as [formula] where ΔE01 and ΔE12 denote the initial energy gaps between the ground and first-excited states, and first-excited and second-excited states, respectively.

In the case described above, we find that the low-temperature magnetization is maximized by widening or narrowing the energy gap between [formula] and [formula]. Under an external field [formula], for [formula], the energy gap between the ground and first-excited states takes the form:

[formula]

For sufficiently low temperatures, we can write the total magnetization of the system in terms of [formula]:

[formula]

where [formula] and [formula] denote the magnetizations of the ground and first-excited states, respectively. Thus, the low-temperature optimal external fields, i.e., the external fields which maximize the low-temperature magnetization, take the form:

[formula]

We first note that Eq. ([\ref=LowTh]) is linear in [formula] and is hence exactly solvable by efficient and scalable linear programing techniques. Thus, in the case of a unique ground state and a unique first-excited state, the efficiency of calculating the low-T solutions to IIM is limited only by the computational complexity of identifying the ground and first-excited states. While calculating the ground state for a general Ising system is known to be NP-hard [\cite=Barahona-01], we note that there are efficient algorithms based on graph cuts for approximately minimizing the energy of general Ising systems within a known factor [\cite=Boykov-01]. Furthermore, for ferromagnetic systems in arbitrary external fields, there are graph cut algorithms for provably and efficiently calculating the low-energy states [\cite=Kolmogorov-01]. Since such graph-cut algorithms are primarily used in computer vision, Eq. ([\ref=LowTh]) presents an interesting connection between IIM and computer vision problems in machine learning.

In addition to its interesting algorithmic properties, Eq. ([\ref=LowTh]) also reveals a major insight into the structure of low-T optimal external fields. Depending on the sign of [formula], the optimal external field [formula] either maximizes the energy gap (in the case M0 > M1) or minimizes the energy gap (in the case M0  <  M1). Furthermore, since the change in the energy gap equals [formula], it is clear that to maximize or minimize the energy gap, external field resources should be focused on nodes i for which σ0i  ≠  σ1i. Thus, as long as M0  ≠  M1, the optimal external fields focus H on the nodes with opposite parity between the ground and first-excited states. The result is summarized in Theorem 3.

Theorem 3. Consider an Ising system, described by J and [formula], for which there exist unique ground and first-excited states [formula] and [formula] for all feasible external fields [formula], for some external field budget H. Letting NLC  =  {i∈N  :  σ0i  ≠  σ1i} denote the set of loosely-connected nodes with opposite parity between the ground and first-excited states, if M0  ≠  M1, then for sufficiently low temperatures, all optimal external fields [formula] satisfy [formula], and hence h*i = 0 for all [formula].

Here we emphasize the structural dissimilarity between the high- and low-T optimal external fields. For general Ising systems, at high temperatures, we found in Section [\ref=HighT] that the optimal external fields focus on the nodes of highest degree in the network. We contrast this picture with the low-temperature limit, where, if the system admits unique ground and first-excited states for all [formula], the optimal external fields focus on the loosely-connected nodes, which have opposite parity between the ground and first-excited states. In ferromagnetic systems, if the network is well-connected in the sense that the energy associated with flipping a set of nodes from the ground state tends to increase with the size of the set, then the first-excited state will differ from the ground state in only one or two entries, corresponding to nodes of low degree in the network. In Section [\ref=Experiments], we verify this intuition, showing on a number of random and real-world networks that the low-T optimal external fields focus on nodes of low degree. Finally, we point the reader to Appendix B for an analytic description of the low-T optimal external fields for general Ising systems and general external field budgets.

A low-T analytic solution under the mean-field approximation

In order to connect the above results to previous work on the IIM problem, in this subsection we compare the optimal external fields to the mean-field optimal external fields in the low-temperature limit. As argued in the previous subsection, formulating a general description of the low-temperature mean-field magnetization is unilluminating. Thus, to ease the discussion, we limit our study to the mean-field analogue of the assumptions made in the previous subsection; namely, when the system admits a unique ground state and a unique node with the smallest effective field for all external fields [formula].

To clarify our assumptions, consider an Ising system described by J, [formula], and T and an external field budget H. Our first assumption is that there exists a unique ground state [formula] for all [formula]. For low temperatures, under an external field [formula], for [formula], the mean-field magnetization of node i takes the form:

[formula]

where [formula] is the effective field felt by node i, and the second approximation follows by Taylor expansion. Since [formula], we note that h̃i  ≥  0 for all i∈N. Furthermore, we note that the nodes i for which |mi  -  σ0i| is greatest are the nodes with the smallest effective fields h̃i. Thus, our second and final assumption is that there exists a unique node [formula] for all [formula]. As suggested by the notation, we will show that the low-T mean-field magnetization is maximized by focusing on node i*.

Under the above assumptions, and for an external field [formula], where [formula], the low-temperature mean-field magnetization takes the form:

[formula]

since all other terms will be exponentially suppressed in the T  →  0 limit. Thus, for an external field budget H, the low-temperature optimal external field under the mean-field approximation is given by:

[formula]

where [formula] denotes the vector of all zeros, but for a one in the [formula] conmponent. Thus, when there exists a unique ground state and a unique node [formula] for all [formula], the low-temperature mean-field magnetization is maximized by focusing H on node i*.

To illustrate the differences between [formula] and [formula] at low temperatures, we consider the small ferromagnetic system shown in Figure [\ref=LowTMFComp], where thin edges represent bonds of weight 1, thick edges represent bonds of weight 3, and the system feels an initial external field [formula]. For [formula], the unique ground state is all-up [formula], and the unique first-excited state is [formula] for all [formula]. The low-T optimal external fields [formula] focus on the loosely-connected nodes with opposite parity between the ground and first-excited states (nodes 1 and 2). On the other hand, the mean-field low-T optimal external field [formula] focuses on the node with the smallest effective field (node 4). We also note for comparison that the high-T optimal external field focuses on the node of highest degree (node 3), independent of [formula] and H.

A gradient ascent algorithm

In addition to analytically exploring the structure optimal external fields in the high- and low-T limits, we are also interested in developing efficient algorithmic tools for studying the structure of optimal external fields at all temperatures. In this section we present a novel algorithm that efficiently calculates a local maximum of [formula] in FH for general Ising systems at arbitrary temperatures and for general external field budgets. For concreteness, by efficient we mean that, for any accuracy parameter ε > 0, our algorithm finds an ε-approximation to a local maximum of [formula] in O(1 / ε) iterations. In the special case of a ferromagnetic network (J  ≥  0) in a nonnegative initial external field ([formula]), we show that the magnetization is non-decreasing and concave in [formula], and hence that our algorithm is guaranteed to converge to a global maximum of the magnetization, efficiently solving the IIM problem.

While previous work has focused on maximizing the mean-field magnetization [\cite=Lynn-01], our algorithm is the first to provide performance guarantees with respect to the exact magnetization. Our algorithm, summarized in Algorithm 1, is based on standard projected gradient ascent techniques. The algorithm is initialized at some feasible external field [formula], and subsequently steps along the direction of the gradient of the magnetization, projected onto FH, until a local maximum is reached. In particular, at each iteration t, we calculate the gradient of the magnetization, [formula], under the external field [formula] and project the gradient onto the space of feasible external fields. We note that the projection operator, denoted PFH, is well-defined since FH is convex. Stepping along the direction of the projected gradient with step size [formula], where L is a Lipschitz constant of [formula] (which is well-defined since M is smooth for finite systems), Algorithm 1 is known to converge to an ε-approximation to a local maximum of [formula] in O(1 / ε) iterations [\cite=Teboulle-01].

We now show, in the special case of a ferromagnetic network (J  ≥  0) in a nonnegative external field ([formula]), that the magnetization [formula] is non-decreasing and concave in [formula], for [formula], and hence is efficiently maximized by Algorithm 1. The main result is summarized in Theorem 4.

Theorem 4. Consider a ferromagnetic network (J  ≥  0) in a nonnegative initial external field ([formula]) with arbitrary temperature T > 0 and arbitrary external field budget H > 0. Then, choosing [formula], Algorithm 1 converges to an ε-approximation to IIM in O(1 / ε) iterations for any accuracy parameter ε > 0.

To establish Theorem 4, we first note that the Fortuin-Kasteleyn-Ginibre inequality [\cite=Fortuin-01] states that, for any ferromagnetic system, regardless of external field, [formula] for all i,j∈N, and hence [formula] is non-decreasing in [formula]. This implies two important facts: (i) there exists a global maximum in FH for which [formula], and (ii) if Algorithm 1 is initialized such that [formula], then we will have [formula] for all subsequent t. Secondly, the Griffiths-Hurst-Sherman inequality [\cite=Griffiths-02] guarantees that, for any ferromagnetic system in a nonnegative external field, [formula] for all i,j,k∈N, and hence [formula] is concave in [formula] for [formula]. This implies that any local maximum of [formula] for [formula] is a global maximum for [formula] and hence, by fact (i) above, is a global maximum among all [formula]. Thus, in the case of a ferromagnetic system in a nonnegative initial external field, choosing [formula], Algorithm 1 will converge to a global maximum of [formula], efficiently solving the IIM problem. In the following section we apply Algorithm 1 on a number of random and real-world networks to study the structure of optimal external fields across a range of temperatures.

Remark. While Algorithm 1 is efficient in that it converges to a local maximum in O(1 / ε) iterations, the total run-time is limited by the calculation of χ and M at each step. Since exact Ising calculations involve sums over {  ±  1}n, which is exponential in the size of the system, an exact implementation of Algorithm 1 is limited to relatively small networks. To overcome this exponential dependence on system size, in the next section we use Monte Carlo simulations to approximate χ and M at each iteration of Algorithm 1.

Numerical experiments

In this section, we present numerical experiments to probe the structure of optimal external fields and to compare the performance of Algorithm 1 with the state-of-the-art mean-field-based algorithm in [\cite=Lynn-01]. For a number of random and real-world networks, we verify our analytic results from Sections [\ref=HighT] and [\ref=LowT], showing that the optimal external fields undergo phase shifts from focusing on high-degree nodes at high temperatures to focusing on low-degree nodes at low temperatures.

Since an exact implementation of Algorithm 1 is limited to relatively small networks, to study large systems we employ an approximation to Algorithm 1 in which χ and M are calculated via Monte Carlo simulations at each iteration. For simplicity, we refer to the exact implementation of Algorithm 1 as Algorithm 1(exact) and the Monte Carlo approximation as Algorithm 1(MC). On small random networks, we confirm that Algorithm 1(exact) outperforms both Algorithm 1(MC) as well as the mean-field-based algorithm in [\cite=Lynn-01], as expected. We also apply Algorithm 1(MC) on a number of large random and real-world networks, exhibiting its scalability and comparing the performance of Algorithm 1(MC) with the mean-field-based algorithm in [\cite=Lynn-01].

Small networks

We begin by studying the structure of optimal external fields, calculated exactly via Algorithm 1(exact), and comparing them with approximately optimal external fields, calculated via Monte Carlo simulations (Algorithm 1(MC)) and the mean-field approximation [\cite=Lynn-01]. Since the algorithms we consider only have performance guarantees for ferromagnetic systems in nonnegative external fields, we limit our study to simple networks (Jij∈{0,1}) with no initial external field ([formula]), and, for simplicity, we set H = 1.

We first consider an Erdös-Rényi random network consisting of n=15 nodes, where each node is connected to each other node with probability 0.3. The resulting system, shown in Figure [\ref=JRand], has maximum degree 8, minimum degree 2, and mean-field critical temperature Tc,MF  =  ρ(J)  =  5.45 (see [\cite=Lynn-01]), which sets the temperature scale of the system. For finite systems, the exact magnetization does not exhibit a phase transition; however, under a non-zero external field, any finite ferromagnetic system will exhibit a phase shift (a smooth transformation) marked by a peak in the susceptibility. We denote the temperature corresponding to maximum susceptibility by T̃c, and for our Erodös-Rényi network with H = 1 we have T̃c = 1.26.

In Figure [\ref=JRand](a), we compare the optimal magnetization, denoted [formula], with the magnetizations under external fields [formula], [formula], and [formula], where [formula] is calculated using Algorithm 1(exact), [formula] is calculated using Algorithm 1(MC) with Glauber dynamics consisting of 10,000 rounds of burn-in and 10,000 rounds of averaging at each iteration [\cite=Levine-01], and [formula] maximizes the mean-field magnetization [\cite=Lynn-01]. We see clearly that [formula] provides the largest magnetization, as expected, with [formula] admitting performance losses of up to 10% and [formula] suffering performance losses of up to 35% at intermediate temperatures. Furthermore, we find that Algorithm 1(MC) performs worst near T̃c, likely due to critical slowing down of the Monte Carlo dynamics [\cite=Newman-02]. We also note that the external fields are all near-optimal at high and low temperatures, since, for all [formula], the magnetization approaches 0 as T  →    ∞   and the magnetization approaches n as T  →  0.

Figure [\ref=JRand](b) compares the phase shift in [formula] with the phase shifts in [formula] and [formula] by calculating the average degrees of the external fields, defined by [formula], over a range of temperatures. We find that [formula], [formula], and [formula] all exhibit phase shifts from focusing on high-degree nodes at high temperatures to focusing on low-degree nodes at low temperatures. However, each external field shifts at a different temperature, with [formula] making the transition at the lowest temperature, followed by [formula] and then [formula] near Tc,MF.

We now consider a small preferential attachment network (also known as a Barabási-Albert network) consisting of n = 15 nodes, shown in Figure [\ref=JPA]. Preferential attachment networks exhibit power-law degree distributions widely observed in social networks [\cite=Albert-01]. Our system has a hub of maximum degree 10, five nodes of minimum degree 2, phase shift temperature T̃c = 1.18, and mean-field critical temperature Tc,MF = 4.51. In Figure [\ref=JPA](a), we compare the magnetizations under external fields [formula], [formula], [formula], and [formula] over a range of temperatures. As in the Erodös-Rényi network, [formula] achieves the highest magnetization for all temperatures, while [formula] performs second-best with performance losses limited to 4% and localized near T̃c, with [formula] suffering performance losses of up to 40%. In Figure [\ref=JPA](b), we study the average degrees of [formula], [formula], and [formula] over a range of temperatures, finding that all three exhibit phase shifts from focusing on the hub node at high temperatures to spreading H among the minimum degree nodes at low temperatures. Furthermore, as in the Erodös-Rényi network, we find that [formula] transitions at the lowest temperature, followed by [formula] and then [formula] near Tc,MF.

Large networks

We now shift our focus to large networks in order to exhibit the scalability of Algorithm 1(MC) and to study the structure of optimal external fields in large-scale systems. However, in scaling to large systems we lose two important tools: (i) we lose the use of Algorithm 1(exact) to exactly calculate optimal external fields, and (ii) we lose the ability to exactly calculate magnetizations and hence evaluate performance. Thus, in order to compare the performance of Algorithm 1(MC) with the mean-field-based algorithm in [\cite=Lynn-01], we calculate the magnetizations using 20 Glauber Monte Carlo runs with 5,000 rounds of burn-in and 10,000 rounds of averaging each. As in the previous subsection, we restrict our attention to simple networks (Jij∈{  ±  1}) with no initial external field ([formula]).

We first consider an Erodös-Rényi network, shown in Figure [\ref=JRandBig], consisting of n = 200 nodes with edge probability 0.04. The resulting network has one node of maximum degree 17, one node of minimum degree 2, and mean-field critical temperature Tc,MF = 9.15. In Figure [\ref=JRandBig](a), we compare of the magnetizations due to [formula], [formula], and [formula] for an external field budget H = 10, where the error bars represent one standard deviation from the mean for each batch of 20 Monte Carlo simulations. Across most temperatures we find that [formula] performs favorably compared with [formula], especially near Tc,MF, where [formula] admits performance losses of up to 40%.

In Figure [\ref=JRandBig](b), we investigate the structure of [formula] and [formula] across a range of temperatures, specifically studying the average degree and the participation ratio, defined by [formula], which measures the effective number of nodes in the network over which H is spread. As illustrated in the small networks, we find that both [formula] and [formula] exhibit phase shifts from focusing on high-degree to low-degree nodes as the temperature decreases, with [formula] transitioning near Tc,MF and [formula] transitioning at a lower temperature. We also find for both high and low temperatures that [formula] and [formula] focus on only one or two nodes, while near the phase shifts they spread H among many nodes. This indicates that the optimal external fields at intermediate temperatures involve many nodes not included in either the high-T or low-T optimal external fields.

Next, we consider a large preferential attachment network, shown in Figure [\ref=JPABig], consisting of n = 200 nodes with one node of maximum degree 47, 99 nodes of minimum degree 2, and mean-field critical temperature Tc,MF = 8.67. In Figure [\ref=JPABig](a), we compare the magnetization of the system under external fields [formula], [formula], and [formula] for an external field budget H = 10, finding that Algorithm 1(MC) compares favorably with the mean-field-based algorithm in [\cite=Lynn-01] across most temperatures. In Figure [\ref=JPABig](b), we study the structure of [formula] and [formula] in the preferential attachment network, confirming that both external fields exhibit phase shifts from high- to low-degree nodes as the temperature decreases. Furthermore, looking at the participation ratio, we find that [formula] and [formula] both focus on the single node of highest degree at high temperatures, and, as in the Erodös-Rényi network, [formula] spreads H among many nodes near its phase shift. However, in contrast to the Erodös-Rényi network, [formula] continues to spread H among an increasing number of nodes as the temperature decreases, eventually spreading H among the 99 nodes of lowest degree.

Finally, we consider a real-world collaboration network, shown in Figure [\ref=JReal], consisting of n = 904 high-energy physicists and 2345 undirected, unweighted edges, where each edge represents the co-authorship of a paper posted to the arXiv [\cite=SNAP-01]. We note that co-authorship networks are known to capture many of the key structural features of social networks [\cite=Newman-01], and our network has a maximum degree of 38, 127 nodes of minimum degree 1, and a mean-field critical temperature Tc,MF = 20.26. In Figure [\ref=JReal](a), we compare the magnetization of the social network under external fields [formula], [formula], and [formula] for an external field budget H = 20, finding that Algorithm 1(MC) performs well compared with the mean-field based algorithm in [\cite=Lynn-01]. We also note that the error bars for the percent difference of [formula] with respect to [formula] have been intentionally omitted to improve the presentation. In Figure [\ref=JReal](b), we confirm that [formula] and [formula] undergo phase shifts from focusing on the node of highest degree at high temperatures to spreading H among the nodes of lowest degree at low temperatures. Interestingly, at low temperatures we find that [formula] spreads H among many more nodes than [formula].

Conclusion

In this paper we explore the Ising influence maximization problem, which has recently been proposed as a framework for studying the control and optimization of complex, reverberant opinion dynamics in large social networks. Traditionally, influence maximization in social networks has been studied in the context of contagion models and irreversible processes, so the IIM problem, which has a natural physical interpretation as the maximization of the magnetization given a budget of external magnetic field, marks an important departure from the existing paradigm and bridges a gap between the IM and Ising literatures. We are the first to consider the IIM problem in general Ising systems with negative couplings and negative external fields, accounting for anticorrelated opinions and competitive marketing, respectively, two important features found in real-world social networks.

In this paper we focus on describing the structure of optimal external fields (i.e. external fields which maximize the magnetization), and we provide novel analytic and algorithmic tools for identifying influential nodes in general complex Ising systems. Remarkably, we show analytically that the optimal external fields exhibit phase shifts from intuitively focusing on high-degree nodes at high temperatures to counterintuitively focusing on "loosely-connected" nodes, which are weakly energetically bound to the ground state, at low temperatures. In order to connect our results with previous work that has focused on maximizing the mean-field magnetization, we also provide novel analytic descriptions of the mean-field optimal external fields, showing that they too exhibit a phase shift from focusing on high-degree nodes at high temperatures to focusing on the nodes with smallest effective fields at low temperatures.

We are also the first to study the Ising influence maximization problem directly (without mean-field approximations), and we provide a novel and efficient algorithm for finding local maxima of the magnetization in general Ising systems. Furthermore, for ferromagnetic systems in non-negative initial external fields, we prove that our algorithm converges to a global maximum, and hence efficiently solves the IIM problem. Finally, we apply our algorithm on large random and real-world networks, verifying the existence of phase shifts in the optimal external fields and comparing the performance of our algorithm with the state-of-the-art mean-field-based algorithm in [\cite=Lynn-01].

We believe that this paper opens the door for many exciting directions for future work. Many of the analytic and algorithmic tools developed to study Ising networks, ranging from renormalization group methods to advanced mean-field techniques, can now be applied in a wide array of contexts to study influence maximization in social networks. Furthermore, we believe that the IIM problem opens a new chapter for the Ising model by introducing a framework for exploring the control and optimization of complex Ising systems.

Acknowledgements

We acknowledge support from the U.S. National Science Foundation, the Air Force Office of Scientific Research, and the Department of Transportation.

Appendix A: High-T Susceptibility

In what follows, we derive the first- and second-order terms in the high-temperature expansion of the susceptibility [formula] in Eq. ([\ref=TaylorExpansion]). As noted in the main text, for any function of the spins [formula] we have

[formula]

where the sum runs over all spin configurations. We also note that

[formula]

while any expectation involving an odd number of spins vanishes. Finally, we note that for any function of the spins [formula], we have

[formula]

where [formula] is the energy of configuration [formula].

We proceed with the the first-order term in Eq. ([\ref=TaylorExpansion]). We recall that [formula] for all i∈N and we also have

[formula]

since Jii = 0 for all i∈N by definition. Thus, the first-order term in Eq. ([\ref=TaylorExpansion]) takes the form

[formula]

where the penultimate equality follows from J being zero on the diagonal and the final equality follows since J is symmetric.

We now derive the second-order term in Eq. ([\ref=TaylorExpansion]). Including only the non-vanishing terms, we have

[formula]

Evaluating the second term in Eq. ([\ref=thirdOrder]), we recall [formula] and we have

[formula]

Furthermore, the third term in Eq. ([\ref=thirdOrder]) is given by

[formula]

Finally, we evaluate the first term in Eq. ([\ref=thirdOrder]):

[formula]

Combining all of the terms in Eq. ([\ref=thirdOrder]) and canceling appropriately, we are left with

[formula]

All together, Eqs. ([\ref=X_beta]), ([\ref=X_beta2]), and ([\ref=X_beta3]) represent the zeroth-, first-, and second-order terms in the expansion of [formula] in Eq. ([\ref=TaylorExpansion]), respectively. Multiplying by β yields the high-temperature expansion of χij in Eq. ([\ref=Xexpansion]), as desired.

Appendix B: low-T optimal external fields for general systems

In this appendix, we provide an analytic description of the low-T optimal external fields for a general Ising system, described by J and [formula], and a general external field budget H, generalizing the results of Section [\ref=LowT]. For some external field [formula], let [formula] denote the set of ground state configurations under the external field [formula], where [formula] denotes the energy under the external field [formula], and let [formula] denote the set of all possible ground states that can be induced by some [formula] for an external field budget H.

For sufficiently low temperatures, the ground state of the system dominates any expectation. Thus, any optimal external field will necessarily induce a ground state that has the largest magnetization among the configurations in Ω0. So, let Ω0*  ⊂  Ω0 denote the subset of possible ground states with the maximum magnetization and let [formula] denote the set of feasible external fields that induce ground states of maximum magnetization.

For sufficiently low temperatures, any optimal external field [formula] is located in F*H. To differentiate between the external fields in F*H, we consider the possible first-excited states, as in Section [\ref=LowT]. Let [formula] denote the set of first excited states of the system under the external field [formula], and let [formula] denote the set of possible first-excited states that can be induced by some [formula]. For [formula], letting [formula] denote the energy gap between the ground and first-excited states under the external field [formula] and letting [formula], for any [formula], denote the magnetization of the optimal ground states, for sufficiently low temperatures, the magnetization takes the form:

[formula]

where [formula] is a scalar that depends on [formula]. Thus, the low-temperature optimal external fields, i.e., the external fields which maximize the low-temperature magnetization, take the form:

[formula]

We first note that Eq. ([\ref=LowTh2]) is not linear in [formula], and hence the useful algorithmic properties of Eq. ([\ref=LowTh]) have been lost in generalizing to general Ising systems. However, despite being non-linear in [formula], Eq. ([\ref=LowTh2]) does reveal a major insight into the structure of low-T optimal external fields in general Ising systems. Depending on the sign of [formula], the optimal external field [formula] will either maximize or minimize the energy gap. Since the first excited states in [formula] are likely ground states under other external fields (i.e., it is likely that [formula] for [formula]) and since M0 is the largest magnetization among the states in Ω0, we should expect in most cases that [formula] for all [formula]. In this case, the low-T optimal external field [formula] maximizes the energy gap [formula], focusing H on the loosely-connected nodes, i.e., nodes with opposite parity between the ground and first-excited states. Thus, once we restrict our attention to external fields that induce ground states with the maximum magnetization (i.e., once we restrict to [formula]), much of the intuition developed in Section [\ref=LowT] generalizes naturally to general Ising systems.