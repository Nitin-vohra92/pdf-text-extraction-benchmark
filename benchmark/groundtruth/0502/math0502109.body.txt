Proposition Lemma Definition Conjecture Question Corollary Observation Example Algorithm Theorem and Definition Definition and Lemma

5pt

Fractional Sums and Euler-like Identities

Date: October 16, 2006

Introduction

Sums of the form [formula] are defined classically only when the number of terms x is a positive integer or ∞  . There have been certain attempts to interpolate summations to non-integer numbers of terms; the most famous one is probably the interpolation of the factorial, which after taking logarithms can be written as

[formula]

using the well-known Γ function which was introduced for this very purpose (compare Example [\ref=ExFactorial]).

We propose a systematic way to extend summations to non-integer numbers of terms: there is a natural and essentially unique way to do this starting from the continued summation property [formula]. The works of Euler [\cite=Euler] and Ramanujan [\cite=B] show that both of them had also looked into a similar direction: for example, Euler [\cite=Euler] has the formula [formula] (see Corollary [\ref=CorRiemannHurwitz2]). However, we are not aware of any attempts of a treatment beyond sporadic examples.

In this paper, we define "fractional sums", explore the consequences of this definition and derive several of its properties. While we give a precise definition in Section [\ref=SecDef], a motivating special case follows from continued summation with summation boundary at infinity: the identity

[formula]

certainly holds for [formula]. The sum on the right makes sense classically, and so does the middle one: [formula]. We can thus use this equation to define the left sum for [formula]. Our Definition [\ref=DefFracSummable] extends this simple idea to a larger class of functions. The general idea is to shove the ill-defined terms to +    ∞   where they can be estimated precisely in the limit. In Section [\ref=SecLeft], we explore the related definition when the limit -    ∞   rather than +    ∞   is used.

We generalize some well-known algebraic identities from an integer number of terms to a fractional (even complex) number of terms (Sections [\ref=SecCharacterization], [\ref=SecProducts] and [\ref=SecLeft]). For example, the finite geometric series (for [formula])

[formula]

nicely generalizes to real and even complex values of x (Theorem [\ref=ThmGeometricSeries]). Similarly, there is the well-known formula for squaring a finite sum: (a + b)2 = a2 + b2 + 2ab, or more generally for [formula]:

[formula]

in Corollary [\ref=CorQuadrature2], we prove an analogous formula for arbitrary [formula].

While these identities express properties of our "fractional sums", they have special cases which can be rewritten in terms of classical infinite sums. This way, we obtain several identities involving infinite sums: some of them are well known, while others seem to be new, and many others can be produced in a similar spirit. We give a few examples in Section [\ref=SecEvalInfinite], including a proof of the formula

[formula]

which we have not found anywhere else.

The occurrence of special functions like Γ or Riemann's ζ function in this example is no coincidence; our definition of fractional sums leads in many cases quite naturally to special functions. Some of the relations to ζ functions are discussed in Section [\ref=SecRiemannHurwitz].

Some results in this paper have been announced in [\cite=FracSumsProc].

We should mention that the well-known Euler-Maclaurin formula can also be used to estimate sums with non-integer numbers of terms provided the number x of terms is large. In many cases, the difference between the values of Euler-Maclaurin and our method tends to zero as x  →    ∞   through the reals. However, the methods are fundamentally different: for example, our method does not require the integrand to be differentiable or even continuous.

This paper grew out of a project at the German youth science fair "Jugend forscht" by the first author when he was a high school student (unaware of the works of Euler and Ramanujan). Both of us are no experts in this area, and we apologize if references or due credit are missing.

Acknowledgments. We have received encouragement, suggestions and support from a number of people, including Richard Askey, Mourad Ismail, Irwin Kra, John Milnor, Michael Stoll and the late Judita Cofman, as well as the audiences in München, Stony Brook and Bremen, and in Copenhagen on the OPSFA conference. We would like to thank them all.

The Fundamental Definition

We begin by a natural definition for polynomials.

For a polynomial [formula], let P be the unique polynomial with [formula] for all [formula]. Then we define for every [formula]

[formula]

Moreover, for arbitrary [formula], we define

[formula]

In this paper, we extend this concept to a larger class of functions as follows.

Let [formula] and [formula]. A function [formula] will be called a (right) approximate polynomial of degree σ if the following conditions are satisfied:

all u∈U satisfy u + 1∈U   ;

there exists a sequence of polynomials [formula] of fixed degree σ such that for every x∈U,

[formula]

This is a semi-local condition and not too restrictive; only the behavior of f(x) as (x)  →    +    ∞   matters. For example, every [formula] with f(x)  →  0 as (x)  →    +    ∞   is approximately polynomial of degree -    ∞  , and the functions f(x) =  ln x and [formula] on [formula] are approximately polynomial of degree 0 (i.e. approximately constant). The class of approximate polynomials is large enough for many interesting applications.

Now comes our general definition of fractional sums. It uses the approximating polynomials as well as their fractional sums as defined above. After the formal definition, we try to motivate this definition and explain it in a number of special cases.

An approximate polynomial [formula] of degree [formula] will be called right summable if for every a,b + 1∈U, the limit

[formula]

exists. In this case, this limit will be the definition for the fractional sum of f from a to b; we denote it by

[formula]

Moreover, we can define fractional products by

[formula]

whenever ln f is right summable.

Remarks.

In the limit, [formula] is always taken to be an integer.

The value of the sum is independent of the choice of the approximating polynomials pn.

If [formula], then the limit exists and agrees with the classical value of the sum.

If f is a polynomial, then Definition [\ref=DefFracSummable] is consistent with Definition [\ref=DefFracSumsPoly], hence [formula] for arbitrary complex summation boundaries.

We use the notation [formula] for our fractional sum using "right summable functions" (where the undefined terms are shoved to +    ∞  ); similarly, in Section [\ref=SecLeft], we introduce the symbol [formula] for "left summable functions". The symbol [formula] is used for polynomials where both concepts coincide trivially.

It may be helpful to write down the first few cases of σ explicitly (for a = 1 and b = x); the cases σ  ≥  1 involve some calculations.

[formula]

We will now try to motivate our definition. We begin with the case σ =  -   ∞  , so that all [formula]. In this case, we calculate the sum of f from 1 to x + n in two ways

[formula]

so we obtain

[formula]

If f(x) tends to 0 as x  →    ∞  , then it makes sense to require that [formula] as n  →    ∞  ; the remaining two terms on the right hand side exactly yield the definition above. This motivates the definition for σ =  -   ∞  . Note that in the last sum, the difference between upper and lower boundaries is an integer, so this sum is defined classically. In this heuristics, sums with a non-integer number of terms are denoted by our generalized symbol [formula].

The next case is that of "approximately constant" functions f: suppose that f =  ln . In this case, the function f can be approximated by constants over regions of bounded diameters: for every bounded domain W and every ε > 0, there is an [formula] such that for all n  ≥  N there is a [formula] for which |f(z + n) - Cn| < ε uniformly for z∈W. It thus makes sense to estimate [formula] (the approximating constants change with n, but the quality of the approximation improves for large n). This leads to the case σ = 0 of our definition. Note that exponentiating this example immediately leads to the interpolation of the factorial by the Γ function; see below.

The general case is similar: in the right hand side of ([\ref=EqHeuristics2]), the first and last sums always lead to the same term [formula], while the second sum can be estimated well by the exact formulas for polynomials.

Note that "approximately polynomial of degree -    ∞  " is a more general condition than f(x)  →  0 as x  →    ∞  ; similarly, "approximately constant" is more general than the uniform condition given above for f =  ln : the "approximately polynomial" condition evaluates f only at [formula] and at [formula], which are the only values used in our definition.

We can now show that our definition fits in with the known interpolation of the factorial function.

For every [formula], the factorial has the following product formula

[formula]

Proof. As noted above, ln  is approximately constant (σ = 0), so our definition reads

[formula]

up to an additive term in [formula]. For every finite n, the sum is well-defined provided [formula]. For ν large, ln (ν) -  ln (ν + x) =  ln (ν / (ν + x)) is evaluated as the principal branch, and finitely many choices of the branch for small values of ν are irrelevant for convergence. For ln n, we use the principal branch.

It is readily verified that the limit in ([\ref=EqDefLogSum]) exists, so the sum is well defined (up to finitely many additive summands 2πi, which are canceled by the subsequent exponentiation). By definition of the product in Definition [\ref=DefFracSummable], we get

[formula]

It is well known [\cite=Conway] that this equals Γ(x + 1). [formula]

The following basic properties follow immediately from the definition:

Fractional sums have the following properties for arbitrary [formula]:

Linearity:    [formula]

Continued Summation:   [formula]

Index Shifting:   [formula]

whenever two of the three fractional sums (in the last case: one of the two sums) exist. [formula]

Note also that [formula] and [formula], and more generally for [formula]

[formula]

Characterization of Fractional Sums

The following result can be thought of as an analog to the fundamental theorem of calculus. We use the notation U±: = {u  ±  1:u∈U} and ΔS(x): = S(x) - S(x - 1).

Let [formula] be an approximate polynomial of degree [formula], such that 0∈U (and thus [formula] by definition). Then [formula] is an approximate polynomial of degree σ - 1; moreover, for all x∈U, the sum [formula] exists in U and equals S(x) - S(0).

Conversely, if [formula] is an approximate polynomial of degree σ which is right summable, then the function [formula] is approximately polynomial of degree σ + 1 and satisfies ΔS = f.

Remark. The arithmetic of subtracting or adding degrees is like with differentiation and integration of polynomials; in particular, speaking informally, we have 0 - 1 =  -   ∞   and -    ∞   - 1 =  -   ∞  , while -    ∞   + 1 = 0 (the special case -    ∞   + 1 =  -   ∞   is possible).

Proof. Set f: = ΔS. Let Pn be the approximating polynomials of degree σ for S as in Definition [\ref=DefApproxPoly], and set pn(ν): = Pn(ν) - Pn(ν - 1). For x∈U+ and n∈N, we have

[formula]

as n  →    ∞  , and f is approximately polynomial of degree σ - 1.

For all x∈U and [formula], we obviously have

[formula]

and hence

[formula]

We have [formula] for all [formula], so we get

[formula]

which is the definition of [formula].

For the converse, we first observe that ([\ref=EqSummation2]) holds trivially. Now we read the proof backwards: S is defined via ([\ref=EqSummation4]) because f is right summable. Let pn be the approximating polynomials of f of degree σ. Then there are polynomials Pn of degree σ + 1 such that

[formula]

which implies ([\ref=EqSummation3]). Combining ([\ref=EqSummation2]) and ([\ref=EqSummation3]), we get

[formula]

Starting from pn, the polynomials Pn are defined only up to an additive constant, which we may choose so that Pn(n) = S(n). The claim follows. [formula]

Products of Fractional Sums

In this section, we show that products like [formula] can be multiplied out for fractional n just like for integers.

Let [formula] be right summable functions such that [formula] is an approximate polynomial. Then every x∈U satisfies

[formula]

Proof. Let [formula] and [formula]. Then F(0)  ·  G(0) = 0 and

[formula]

Since F(x)G(x) is by assumption an approximate polynomial, the first half of Lemma [\ref=LemSummationApprox] applies and proves the claim. [formula]

Suppose [formula] is a right summable function such that [formula] is an approximate polynomial. Then

[formula]

[formula]

Remark. Since f is approximately polynomial, so is [formula] by Lemma [\ref=LemSummationApprox]; it is not automatic that F2 is also approximately polynomial, as the example F(x) = x +  sin (x) / x shows.

Left Summation and Binomial Series

Classically, sums [formula] are defined only for integers N with N  ≥  1 or N  ≥  0. If [formula], it will be natural for us to define

[formula]

this is the only way to extend the continued summation property from Theorem [\ref=ThmLinearity], and this works for every f which is defined on [formula]. Warning: this is in contradiction to possible conventions like [formula]   or   [formula].

Similarly, if [formula], we set

[formula]

for any f which is defined at the finitely many points [formula]. With this convention, Equation ([\ref=EqNegSum]) is valid for any integer N.

Our Definitions [\ref=DefApproxPoly] and [\ref=DefFracSummable] of right approximate polynomials and [formula] use the behavior of f as ν  →    +    ∞  ; completely analogously, one can also do this for ν  →    -    ∞  . The formal definition of left approximate polynomials is analogous to Definition [\ref=DefApproxPoly], except that the limit n  →    +    ∞   is replaced by n  →    -    ∞  .

A left approximate polynomial [formula] of degree [formula] will be called left summable if for every a,b + 1∈U, the limit

[formula]

exists. In this case, this limit will be the definition for the left fractional sum of f from a to b; we denote it by

[formula]

Remark. In general, the existence of the two sums [formula] and [formula] is independent, and if both are defined, their values can be different.

All results about right fractional sums in Sections [\ref=SecCharacterization] and [\ref=SecProducts] carry over to the case of left fractional sums.

We have

[formula]

for all [formula] for which at least one of these sums exists.

Proof. Define a function g(x): = f( - x). Suppose the right sum exists, so g is a right approximate polynomial and there are polynomials qn of fixed degree σ such that |g(n + x) - qn(n + x)|  →  0 as n  →    +    ∞  , for every x. Then f is a left approximate polynomial with approximating polynomials q- n( - ν).

By continued summation (Theorem [\ref=ThmLinearity]), then the definition, then changing the sign of the summation index, then continued summation again, and changing the sign of n, we obtain

[formula]

as claimed. [formula]

For all [formula], we have

[formula]

Proof. If q∈[null].

For every [formula], the Hurwitz ζ function extends to a meromorphic function in s with a single pole at s = 1. One way to see this is via the formula

[formula]

from [\cite=SO] (which is easily verified directly).

The difference to the Riemann ζ function is in the appearance of x, and in the fact that summation starts with ν = 0; hence ζ(s,1) = ζ(s).

For [formula], let ⌊x⌋ denote the largest integer not exceeding x.

For every compact [formula] and every [formula], there is a sequence of complex polynomials pn of degree σ(s) such that

[formula]

as n  →    ∞  , uniformly for z∈K, with

[formula]

In particular, z  ↦  ζ(s,z) is approximately polynomial of degree σ(s).

Proof. The case (s) > 1 is clear with σ(s) =  -   ∞  , hence [formula]. The case that [formula] will be shown by induction on s - N for [formula]. We may suppose that K is a disk with center z0. For every s  ≠  1, the map x  ↦  ζ(s,x) has no poles for (x) > 0; given K, we restrict to n so all z∈K satisfy (z + n) > 0.

For given s, let pn be approximating polynomials for ζ(s,.). Let Pn be polynomials with Pn' =  - (s - 1)pn and Pn(n + z0) = ζ(s - 1,n + z0); these are approximating polynomials for ζ(s - 1,.):

[formula]

Finally, if [formula], then ζ(s,z) is a polynomial in z [\cite=SO]. [formula]

For [formula] and [formula], the fractional sum [formula] exists and satisfies

[formula]

Proof. It is well known that

[formula]

for all [formula] and [formula]. (For (s) > 1, this follows directly from the definition. Since both sides are holomorphic in s on [formula] for every x, the formula holds in general).

Let Sa(x): = ζ( - a) - ζ( - a,x + 1); then Sa(0) = ζ( - a) - ζ( - a,1) = 0 and

[formula]

Using Lemma [\ref=LemHurwitzProperty], the claim follows from Lemma [\ref=LemSummationApprox]. [formula]

Remark. For a =  - 1, we have the formula

[formula]

which converges whenever x is not a negative integer. Here [formula] is the Euler-Mascheroni constant and ψ is the so-called digamma function; see [\cite=AbramowitzStegun]. A special case is

[formula]

which was noticed already by Euler [\cite=Euler].

In the following, it will be convenient to introduce the notation

[formula]

By Corollary [\ref=CorRiemannHurwitz2] and its remark, this is defined for [formula] and [formula]. The value x =  +   ∞   is perfectly admissible when (a) <  - 1 and yields

[formula]

with the Riemann ζ function. For [formula], the function [formula] is known as the generalized harmonic series H- ax, and [formula] are the first x terms of the Dirichlet series of ζ( - a) for ( - a) > 1.

For [formula], all [formula] and [formula], we have

[formula]

where ζ(b) = (∂  /  ∂a)bζ.

Proof. This follows formally by differentiating Corollary [\ref=CorRiemannHurwitz2] b times with respect to a. We omit the proof that this formal differentiation is allowed. [formula]

For all [formula] and [formula], we have

[formula]

Proof. This follows directly from Corollary [\ref=CorRiemannHurwitz2] with the special values of the ζ functions at the corresponding arguments. [formula]

Remark. For the second identity, there is also a more direct proof which uses only properties of fractional sums instead those of the ζ functions. By Lemma [\ref=LemLeftRight] and Continued Summation, we have for z  ≠  0

[formula]

For polynomials, left and right sum coincide trivially [formula], so if z = 2n for [formula], then [formula], which proves the claim.

This shows that if the left and right sum both exist and are equal, there are interesting ways to manipulate those sums. Moreover, we have the following corollary:

Modify the definition of νz so that νz = 0 for ν = 0. Then for all [formula] with 2- z  ≠  2, we have

[formula]

Remark. The definition 0z: = 0 simply omits the ν = 0-term in [formula]. In the proof, this corresponds to the omission of the (ν = 0)-term in ([\ref=EqSumOneHalf]).

Proof. If [formula] is not an odd integer, then - ( - 1)z  ≠  1. If the two sums exist and are equal, then they must vanish by ([\ref=EqSumOneHalf]). If in addition 2- z  ≠  2, then ζ( - z) = 0 by Corollary [\ref=CorPowerSums-12]. Conversely, if ζ( - z) = 0, then [formula] by Corollary [\ref=CorPowerSums-12] and [formula] by ([\ref=EqSumOneHalf]). [formula]

We are now going to show that series multiplication makes it possible to evaluate multiple fractional sums of the powers. Due to Corollary [\ref=CorRiemannHurwitz2], the following results can be considered as statements about the Hurwitz ζ function.

For arbitrary [formula] and [formula], we have

[formula]

Proof. The well-known asymptotic expansion

[formula]

mentioned for example in [\cite=Adamchik], shows by series multiplication that the function Z(x): = ζ( - a,x + 1)  ·  ζ( - b,x + 1) can be approximated by a finite linear combination of monomials [formula] for (x)  →    ∞  . Since monomials are approximately polynomial (see Corollary [\ref=CorRiemannHurwitz2] together with Lemma [\ref=LemSummationApprox]), so must be Z. By Corollary [\ref=CorRiemannHurwitz2], it follows that the function [formula] is an approximate polynomial.

Thus, f(x) = xa and g(x) = xb satisfy the conditions of Lemma [\ref=LemProdSums]. This yields

[formula]

[formula]

For [formula] and [formula], we have [formula]

Proof. This follows from the second identity of Lemma [\ref=LemQuadPowerGeneral] with b = 0, using ν0 = 1 and [formula]:

[formula]

[formula]

We can use Corollary [\ref=CorDoublePowerSum] and Lemma [\ref=LemQuadPowerGeneral] iteratively with [formula] to compute arbitrary multiple sums of powers; a lengthy calculation gives

[formula]

If we write [formula] for the n + 1-fold iterate of the summation operator, we can write the general formula as

[formula]

(this was observed by Michael Stoll). This is proved easily by induction: just show that by application of the difference operator Δ on the right hand side, n is replaced by n - 1, and the claim follows by Lemma [\ref=LemSummationApprox]. It is interesting to note that, after having defined [formula] for the first summation depending on a, the further iterated sums can be expressed in terms of [formula] only.

Evaluation of Infinite Series, Products, and Limits

Many infinite series can be evaluated quite intuitively with the help of fractional sums. In this section, we give two examples. First, consider the product

[formula]

which has been calculated by Borwein and Dykshoorn [\cite=BD] and later by Adamchik [\cite=Adamchik]. We will now show that fractional sums allow to rederive a closed-form expression for P1 in a straightforward way.

For [formula] as defined in Equation ([\ref=EqProdBorwein]), we have

[formula]

Proof. The function [formula] is approximately polynomial of degree σ = 0, so by Definition [\ref=DefFracSummable], using [formula], we get

[formula]

Except for the summand - x, this equals the negative of the logarithm of P1 as given in Equation ([\ref=EqProdBorwein]). Now we use the following special case of Corollary [\ref=CorZetaDerivatives]

[formula]

together with index shifting, continued summation, Example [\ref=ExFactorial] and Corollary [\ref=CorZetaDerivatives]:

[formula]

The claim follows by exponentiation. [formula]

Now we give an example of a limit identity that seems to be new, as far as we know.

[formula]

Remark. Using the Glaisher-Kinkelin constant [formula], this identity can also be written as

[formula]

Proof. We use Lemma [\ref=LemProdSums] to multiply the fractional sums [formula] and [formula]:

[formula]

Example [\ref=ExFactorial] yields

[formula]

Specializing [formula] and using Corollary [\ref=CorZetaDerivatives] and Equation ([\ref=EqSumVlogV]), we get

[formula]

Rearranging gives

[formula]

It is easily checked that n  ↦  n ln (n!) is approximately polynomial of degree σ = 2. Resolving the definition of this fractional sum and exponentiating, while using the well-known identity [formula] and Stirling's approximation of ln (n!) for large n, the claim follows.[formula]

Many more identities can be produced in a similar spirit. Note that [formula] is not the only interesting fractional summation boundary; other examples, resulting in interesting limit identities, include

[formula]

where [formula] denotes Catalan's constant, or

[formula]

where [formula] and [formula] are the Euler-Mascheroni and Stieltjes constants.

Questions

The paper "On some strange summation formulas" [\cite=Strange] contains formulas such as

[formula]

and

[formula]

The original proofs use Fourier transforms and properties of Bessel functions. It is tempting to prove these (and many other) identities using fractional sums. In fact, there is a simple argument (see [\cite=FracSumsProc]) to derive these identities using termwise evaluation of fractional sums of power series:

[formula]

We leave it as an open question to establish sufficient conditions when this is justified, and thus to complete the proofs of ([\ref=Eq:Strange]) and ([\ref=Eq:Strange2]) by fractional sums.

A related open question is concerned with differentiation with respect to the summation boundaries: under which conditions is the relation

[formula]

valid with a constant cf? For example, we have ([\ref=EqHarmonicSeries])

[formula]

where [formula] is the Euler-Mascheroni constant. This question arises for example when comparing fractional sums with the Euler-Maclaurin summation formula.