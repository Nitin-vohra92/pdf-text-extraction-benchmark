Extremely amenable groups via continuous logic

Introduction

These notes are concerned with the theory of extremely amenable Polish groups, i.e. Polish groups G with the following property: whenever G acts continuously on a compact metric space X, there exists x∈X such that g  ·  x = x for all g∈G.

The question of the existence of such topological groups was asked in the late sixties, and the first example was published in 1975 by Christensen and Herer. The group in question was a so-called "exotic" Polish group, and it was initially thought that extreme amenability itself was a pathological property, especially since it was noticed early on that there exists no locally compact extremely amenable topological group. Since then, however, numerous "natural" Polish groups have been proved to be extremely amenable; examples include the unitary group of an infinite-dimensional separable Hilbert space (Gromov-Milman [\cite=Gromov1983]), the automorphism group of a standard probability space (Giordano-Pestov [\cite=Giordano2007]), and the isometry group of the universal Urysohn metric space (Pestov [\cite=Pestov2002]). For a detailed discussion of the theory of extremely amenable Polish groups, as well as detailed bibliographical references, we refer the reader to Pestov's book [\cite=Pestov2006a], from which the quick historical discussion above was taken.

In the seminal article [\cite=Kechris2005], Kechris, Pestov and Todorcevic provided a characterization of extremely amenable subgroups of S∞, the permutation group of an infinite countable set. These groups may naturally be seen as automorphism groups of countable first-order structures, and the characterization obtained in [\cite=Kechris2005] is in terms of a combinatorial property of Fraïssé classes, the so-called Ramsey property. This characterization, which completely captures the combinatorial content of extreme amenability for subgroups of S∞, has led to some new examples of extremely amenable Polish groups, and one may also hope to use this connection between topological dynamics and combinatorics to obtain some new Ramsey-type theorems. However, the characterization of [\cite=Kechris2005] cannot be applied to general Polish groups.

In this article, we use the framework of continuous logic, which was introduced in [\cite=BenYaacov2010a], and a notion of Fraïssé class adapted to that context -which we describe in detail in the next section- to provide a characterization of extreme amenability for Polish groups in terms of an "approximate Ramsey property" (which, in the discrete context, boils down to the characterization of [\cite=Kechris2005]). Fraïssé classes were first studied in the setting of continuous logic in [\cite=Schoretsanitis2007]; the more streamlined and efficient approach we follow here is due to Ben Yaacov [\cite=BenYaacov2014].

A very similar characterization of extreme amenability, in the more restrictive context of isometry groups of ultrahomogeneous Polish metric spaces, had been obtained earlier by Pestov in [\cite=Pestov2002]. We then describe a method that may be used to prove that a metric Fraïssé class satisfies the approximate Ramsey property. This method is based on the concentration of measure phenomenon, and is at heart just a formalization of Pestov's ideas as presented in his book [\cite=Pestov2006a]. Our method applies, for instance, to recover the (well-known) results that the isometry group of Urysohn's universal metric space and the automorphism group of a standard probability space are extremely amenable. It is unclear whether our approach can be used to obtain interesting new examples of extremely amenable Polish groups.

Acknowledgments. We thank Itaï Ben Yaacov for numerous discussions about metric Fraïssé classes; the exposition of the basics of metric Fraïssé theory in the next section is based on the content of those discussions and his research notes [\cite=BenYaacov2014]. Work on this article was initiated during the authors' visit of the Fields Institute in Toronto in October-November 2010 to attend the thematic program on Asymptotic Geometric Analysis organized by V. Milman, V. Pestov and N. Tomczak-Jaegerman. We are very grateful for the excellent working environment that we enjoyed during this visit. Work on this project was partially funded by ANR projects AGORA and GRUPOLOCO.

Metric Fraïssé classes

In this section we explain how Fraïssé classes are defined in the metric context. These classes were first considered in [\cite=Schoretsanitis2007], but the approach we follow is entirely borrowed from Ben Yaacov's work [\cite=BenYaacov2014]. We adopt a slightly less general point of view than in [\cite=BenYaacov2014], which nevertheless seems to be sufficient to cover all natural examples.

A language [formula] is a set of relational symbols (Ri)i∈I and functional symbols (fj)j∈J. To each symbol of the language, two numbers are attached: its arity (a natural number) and its Lipschitz constant (a nonnegative real number). We allow no 0-ary relations, while 0-ary functions are allowed (and must be understood as constants).

A [formula]-structure [formula] consists of a complete metric space (A,d), along with:

A function [formula] for each n-ary relational symbol of [formula].

A function [formula] for each n-ary functional symbol of [formula].

Interpretations of both relational and functional symbols are additionally required to be Lipschitz, the Lipschitz constant being (at worst) the one specified in the language. For this to make sense, we must say that in this section we always endow products of metric spaces with the sup-metric: for ā,∈An, we set d(ā,) =  max d(ai,bi).

Finally, if the underlying metric space (A,d) of a metric structure [formula] is separable, we say that [formula] is a Polish metric structure.

We always assume that our languages contain a special binary symbol, which is interpreted by the distance function in all structures. This is analoguous to the way one usually treats the equality symbol in classical first-order logic and, indeed, the distance symbol is to be thought of as measuring how far two things are from being equal. When the distance is discrete (i.e.  takes only the values 0 and 1), one recovers the usual notions of first-order logic.

When [formula] is a [formula]-structure, and ā∈An, the substructure generated by ā is the smallest closed subset B of A containing ā and stable under interpretations of all functions in [formula]. We turn it into a [formula]-structure in the natural way, and denote by [formula] the structure generated by ā.

A morphism from a [formula]-structure [formula] to another [formula]-structure [formula] is a map φ which commutes with interpretation of the symbols of [formula], i.e. such that:

For any n-ary relational symbol R of [formula], and any ā∈An, one has [formula].

For any n-ary functional symbol f of [formula], and any ā∈An, one has [formula].

Note that, since the distance function is always part of our languages, a morphism from [formula] to [formula] always induces an isometric embedding from (A,d) to (B,d).

We say that a [formula]-structure [formula] is homogeneous if it satisfies the following condition: whenever ā∈An is a finite tuple, and [formula] is a morphism, there exists for any ε > 0 an automorphism ψ of [formula] satisfying d(φ(ā),ψ(ā))  <  ε.

In classical (discrete) first-order logic, countable homogeneous structures can be characterized by properties of the class of their finitely-generated substructures; this is the starting point of Fraïssé theory. It turns out that this extends to the continuous setting.

The age of an [formula]-structure [formula] is the class of all finitely generated [formula]-structures which embed in [formula].

Let us begin by listing two properties that must be satisfied by the age of any structure.

We say that a class [formula] of finitely generated [formula]-structures satisfies:

the hereditary property (HP) if every finitely generated substructure of an element of [formula] also belongs to [formula].

the joint embedding property (JEP) if every two members of [formula] embed simultaneously in a third one.

Homogeneity of a structure imposes further conditions on its age.

We say that a class [formula] of finitely generated [formula]-structures satisfies the near amalgamation property (NAP) if, whenever [formula] are elements of [formula], and [formula] are morphisms, there exists for any finite tuple ā∈An and any ε > 0 some [formula] and morphisms [formula] such that d(ψ0φ0(ā),ψ1φ1(ā))  <  ε.

The final condition one must impose on the age of a separable, homogeneous structure is the analogue of countability in the discrete setting. It splits in two parts: separability, and completeness. To state it we must first introduce a family of pseudo-metrics.

Let [formula] be a class of finitely generated structures satisfying (HP), (JEP) and (NAP). Denote by [formula] the class of all pairs [formula] where [formula] and ā∈An generates [formula] (using a convenient abuse of notation, in the following we will often write [formula], or even [formula]).

Then define a pseudo-metric dn on [formula] by setting

[formula]

where φ,ψ range over all possible embeddings of [formula] into a common structure [formula].

Checking that dn is indeed a pseudo-metric is left to the reader; the fact that it is well-defined follows from JEP, while the triangle inequality follows from NAP.

We say that a class of finitely generated [formula]-structures [formula] satisfies the Polish property (PP) if each dn is separable and complete.

A class of finitely generated [formula]-structures [formula] is said to be a Fraïssé class if it satisfies HP, JEP, NAP and PP.

We now have the following results, which in this generality are due to Ben Yaacov [\cite=BenYaacov2014].

For a Polish [formula]-structure [formula], the following are equivalent:

[formula] is homogeneous.

The age of [formula] is a Fraïssé class.

Given a Fraïssé class [formula] of finitely generated [formula]-structures, there is (up to isomorphism) a unique homogeneous [formula]-structure whose age is equal to [formula]. This structure is called the Fraïssé limit of [formula].

The relevance of the above considerations to the theory of Polish groups comes from the following observation (see [\cite=Melleray2010], Theorem 6): any Polish group is isomorphic to the automorphism group of some approximately ultrahomogeneous Polish metric structure (in a countable Lipschitz language)- i.e, given what we saw above, of a Fraïssé limit.

To give a bit more detail, let [formula] be a Polish relational metric structure with universe (A,d); we endow its automorphism group G with the pointwise convergence topology, i.e. the topology which has a basis of neighborhoods of 1 given by

[formula]

where ε > 0 and F is a finite subset of A. This turns G into a closed subgroup of the Polish group [formula], and so, when endowed with this topology, G is a Polish group in its own right.

Whenever we consider the automorphism group of a Polish relational metric structure [formula] as a Polish group, we endow it with the topology described above (which we call the natural Polish topology on [formula]).

Now let us reformulate Theorem 6 of [\cite=Melleray2010] using the language of Fraïssé limits.

Let G be a Polish group. Then there exists a countable language [formula], and a Fraïssé class [formula] of finitely generated [formula]-structures, such that G is isomorphic as a topological group to the automorphism group of the Fraïssé limit of [formula].

In theory, this means that whenever we state a general result about automorphism groups of metric Fraïssé limits, we are talking about all Polish groups. For practical purposes, this is far from true - for example, we know of no way to turn the homeomorphism group of the Hilbert cube into the automorphism group of a Fraïssé limit in such a way that combinatorial properties of the corresponding Fraïssé class may be understood. Also in theory, relational languages are enough; for practical purposes, it is much more convenient to allow functional symbols.

Let us finish this section by discussing a few examples.

The class of all finite metric spaces is a Fraïssé class, in the language containing only one binary relational symbol interpreted by the distance function in all structures. The Fraïssé limit of that class is Urysohn's universal metric space. One could also consider a bounded variant, allowing only metric spaces of diameter, say, less than 1, and obtaining as a limit the Urysohn sphere.

The class of all finite probability algebras may be seen as a Fraïssé class in the language [formula], with [formula], [formula] being binary 2-Lipschitz functional symbols which are interpreted by union and intersection respectively in all members of the class, and [formula] being a unary 1-Lipschitz functional symbol interpreted by complementation, while [formula] is a 0-ary function always interpreted by the empty set. Of course, the measure of a set A is then given by [formula]. The limit of this class is the measure algebra of a standard atomless probability space; the automorphism group of this limit is (isomorphic to) the group of measure-preserving bijections of the unit interval.

The class of all finite-dimensional normed vector spaces, in the language [formula] is a Fraïssé class (the Lipschitz constant for multiplication by λ being |λ|, and the Lipschitz constant for +   being 2). The limit of this space is the Gurarij space, an object that was first built by Gurarij [\cite=Gurarij1966], and whose uniqueness was proved by Lusky [\cite=Lusky1976]. Seeing this space as a Fraïssé limit was first done by Ben Yaacov [\cite=BenYaacov2014], following earlier work of Henson.

In the first two examples above, the structures considered are exactly homogeneous, in the sense that any morphism defined on a finitely generated substructure extends to an isomorphism of the whole space; accordingly, both classes satisfy an exact amalgamation property, where one can take ε = 0 in the definition of NAP. The third example is particulary interesting in our context, in that it shows that the ε's in the definitions of this section are sometimes truly needed: it is well-known that there is no separable Banach space which is both universal for finite-dimensional normed spaces and exactly homogeneous (actually, any exactly homogeneous separable Banach space is a Hilbert space, while homogeneity must already fail for 1-dimensional subspaces in any universal separable Banach space).

Approximate Ramsey property

In this section, [formula] is a Fraïssé class of finitely generated structures, with limit [formula]. We let G denote the automorphism group of [formula], endowed with its natural Polish topology. To give some intuition of what is going on, we use the same vocabulary as in the discrete setting (most notably, we will speak of colorings); part of what follows in this section was already done by Pestov [\cite=Pestov2002], in the context of ultrahomogeneous metric spaces, while in the discrete context our results are just those of [\cite=Kechris2005].

Given [formula], we denote by [formula] the set of embeddings of [formula] in [formula]. We endow this set with the metric ρā defined by

[formula]

A coloring of [formula] is a 1-Lipschitz map [formula].

Note that the metric ρā, hence also the notion of a coloring, depends on the choice of generators for [formula]. This is a cost one has to pay if one wants to allow functional symbols: one has to name the generators of a structure whenever one computes distances.

We define similarly [formula], a metric (still denoted by ρā) on [formula], and colorings of [formula].

Let [formula], [formula] and [formula]. For F a subset of [formula], we define a subset [formula] by

[formula]

We define similarly F(β) for [formula] and F a subset of [formula].

Here, the situation is complicated by the fact that we allow functional symbols: if we were in a purely relational setting, [formula] would be finite for all [formula]; considering the case of finite-dimensional normed vector spaces shows that this is no longer true in the functional setting.

We say that [formula] has the approximate Ramsey property if the following happens: for all [formula], all nonempty finite [formula], and all ε > 0, there exists [formula] such that for any coloring γ of [formula] there exists [formula] such that the oscillation of γ restricted to F(β) is less that ε.

Let us point out that, for us, the empty function on the empty set is 1-Lipschitz, hence the assumptions above imply that [formula] is nonempty; also, the oscillation above is of course computed according to the distance ρā, hence depends on the choice of generators for [formula].

The following properties are equivalent:

[formula] has the approximate Ramsey property.

For any finite substructures [formula] of [formula], for any ε > 0, any finite nonempty [formula] and any coloring γ of [formula], there exists [formula] such that the oscillation of γ on F(β) is less than ε.

(i)  ⇒  (ii): Pick finite substructures [formula], and fix ε > 0. We may find [formula] witnessing the approximate Ramsey property and assume that [formula]. Now let γ be a coloring of [formula]; γ restricts to a coloring of [formula], hence we may find an embedding [formula] such that the oscillation of γ on [formula] is less than ε. Using homogeneity of [formula], we may find an automorphism β' of [formula] such that d(β'(α(ā)),β(α(ā)))  ≤  ε for all α∈F; then the fact that γ is 1-Lipschitz, along with the triangle inequality, yields that the oscillation of γ on F(β') is less than 2ε. Since ε was arbitrary, this concludes the proof.

(ii)  ⇒  (i): We proceed by contraposition, and assume that (i) is false. Thus, we may find [formula], a finite [formula] and ε > 0 such that for any [formula] there exists a bad coloring γ of [formula], i.e. for any [formula] the oscillation of γ on F(β) is larger than ε (note that if there is no embedding from [formula] into [formula] the preceding property holds for any γ). For any finitely generated substructure [formula] of [formula], we pick such a bad coloring [formula] of [formula].

We fix an ultrafilter [formula] on the set of finite subsets of [formula] with the property that for any finite subset D of [formula] one has

[formula]

We define a mapping [formula] by setting [formula]. In other words, for any [formula], one has

[formula]

Note that the set {C:α(A)  ⊆  C} belongs to U so the above definition makes sense (for any such C, γ〈C〉(α) is well-defined, and the ultrafilter thinks that the set made up of all the other C's is negligible). Also, since each γ〈C〉 is 1-Lipschitz it is immediate that γ is also 1-Lipschitz, in other words γ is a coloring of [formula]. We simply have to check that γ witnesses the fact that [formula] fails to have property (ii).

To that end, pick [formula] and let [formula] be a finite tuple generating [formula]. Then Uβ  =  {D:β()  ⊆  D} belongs to [formula]. Denoting by [formula] the elements of F(β), and using the fact that [formula] for any D∈Uβ, we know that for any D∈Uβ there exist [formula] such that

[formula]

Hence there exist [formula] such that

[formula]

Fixing such a pair i,j, we obtain that |γ(αi) - γ(αj)|  ≥  ε, so the oscillation of γ on F(β) is larger than ε. Since β was arbitrary, this shows that [formula] does not have property (ii).

Let ā∈Kn, and [formula] morphisms from [formula] to [formula]. If ε > 0, [formula] is a finitely generated substructure of [formula] containing [formula], and [formula] are partial morphisms from [formula] to [formula] with domain [formula], we say that [formula] ε-approximates [formula] if for all i one has d(αi(ā),αi'(ā))  ≤  ε.

We say that [formula] has the weak approximate Ramsey property (WARP) if for any ā∈Kn, any finitely generated substructure [formula] of [formula] containing [formula], any partial morphisms [formula] of [formula] with domain [formula] and any ε > 0, there exists a substructure [formula] of [formula] containing [formula] and a finite set of partial morphisms [formula] of [formula] with domain A such that :

[formula] ε-approximates [formula].

There exists a finitely generated structure [formula] such that, for any coloring γ of [formula], there exists an embedding [formula] such that the oscillation of γ on F(β) is less than ε.

We are now almost ready to state, and prove, the main result of this section, which is the characterization of extreme amenability of G in terms of the approximate Ramsey property for [formula] (extending Pestov's results from [\cite=Pestov2002] to the context of metric Fraïssé classes). Before this, we need to recall a criterion for extreme amenability, and set our notations.

If ā is a finite subset of elements of [formula], we let dā denote the pseudometric on G defined by

[formula]

Slightly abusing notation, we will still denote by (G,dā) the metric space obtained by identyfing elements g,h such that dā(g,h) = 0.

The pseudometric dā is obviously related to the metric ρā on [formula] - actually, it is almost the same thing, as witnessed by the following lemma.

Let [formula] be a finitely generated substructure of [formula], and denote by [formula] the mapping defined by Φā(g) = g|A. Then ΦA is a distance-preserving map from (G,dā) into [formula] and Φā(G) is dense in [formula].

The first part of the statement is obvious from the definitions of dā,ρā. The fact that ΦA(G) is dense in [formula] is equivalent to saying that [formula] is homogeneous.

In particular, any 1-Lipschitz map f:(G,dā)  →  [0,1] uniquely extends to a coloring γf of [formula] (by identifying (G,dā) and Φā(G)), while any coloring γ of [formula] restricts to a 1-Lipschitz map fγ:(G,dā)  →  [0,1].

Finally, we state a criterion of extreme amenability for a Polish group; this is essentially Theorem 2.1.11 in Pestov's book [\cite=Pestov2006a], reformulated to fit the fact that we consider G as the automorphism group of a Fraïssé limit, and so we have a natural directed collection of left-invariant pseudometrics defining the topology of G: the metrics dā we introduced above, where ā ranges over all finite tuples of elements of the Fraïssé limit.

G is extremely amenable if, and only if, for any finite tuple ā of K the left-translation action of G on (G,dā) is finitely oscillation stable, i.e:

For any finite subset F of G, any ε > 0 and any 1-Lipschitz map f:(G,dā)  →  [0,1], there exists g∈G such that the oscillation of f on gF is less than ε.

The following are equivalent, for a Fraïssé metric class [formula] and G the automorphism group of its limit, endowed with its natural Polish topology:

G is extremely amenable.

[formula] has the approximate Ramsey property.

[formula] has the weak approximate Ramsey property.

(i)  ⇒  (ii): We assume that G is extremely amenable, and we want to show that [formula] satisfies condition (ii) of Proposition [\ref=caracARP]. To that end, we fix finitely generated substructures [formula] of [formula] and ε > 0, and consider a coloring γ of [formula]. We also let [formula] enumerate the elements of some finite nonempty [formula], and use the approximate ultrahomogeneity of [formula] to find [formula] such that ρā(αi,gi|A)  ≤  ε.

We set [formula], and consider the 1-Lipschitz function fγ:(G,dā)  →  [0,1] induced by γ. By Proposition [\ref=caracPestov], we know that there exists g∈G such that the oscillation of fγ on gF is less than ε.

Note that we have for all [formula] that ρā(ggi|A,gαi) = ρā(gi|A,αi)  ≤  ε; the triangle inequality implies that, for any i,j:

[formula]

The first and third term above are both smaller than ε since γ is 1-Lipschitz, and the term in the middle is |fγ(ggi) - fγ(ggj)|, which is less than ε by definition of g. Denoting by β the restriction of g to B, we just proved that the oscillation of γ on [formula] is less than 3ε, and this proves that [formula] has the approximate Ramsey property.

(ii)  ⇒  (iii) is obvious.

(iii)  ⇒  (i): assume that [formula] has the WARP, let ā be a finite tuple of elements of K, f:(G,dā)  →  [0,1] be a 1-Lipschitz map, and fix ε > 0. Set [formula], and recall that γf denotes the coloring of [formula] induced by f. We fix [formula] and assume without loss of generality that g1 = id. Define [formula].

This is a finitely generated structure of [formula] containing [formula] hence, using the WARP, we may find [formula] and embeddings [formula] such that:

d(αi(ā),gi(ā))  ≤  ε for all i;

There exists a finitely generated [formula] such that for any coloring γ of [formula] there exists [formula] such that the oscillation of γ on [formula] is less than ε.

We may, and do, assume that [formula], and apply the above property to γf; this yields an embedding [formula] such that γf has oscillation less than ε on [formula]. Using the homogeneity of [formula], we may find gβ∈G such that for all i one has [formula].

Using the triangle inequality as in the proof of (i)  ⇒  (ii), we obtain, using straightforward computations, that for any [formula] one has

[formula]

Since ε was arbitrary, this is enough to show that G is extremely amenable.

A very similar statement was obtained by Pestov in [\cite=Pestov2002] in the case of ultrahomogeneous metric spaces. He was of course not using the vocabulary of metric Fraïssé classes, so the characterization he obtained was similar to point (ii) in our Proposition [\ref=caracARP] characterizing the approximate Ramsey property.

We should probably point out here that there are (usually) many ways to turn a given Polish group G into the automorphism group of the Fraïssé limit of some class [formula]; the properties of the class [formula] may vary depending on the construction chosen (for instance, [formula] may some times have the exact amalgamation property and sometimes only the near-amalgamation property - this happens e.g whenever G is a subgroup of the permutation group of the integers whose topology does not admit a compatible complete left-invariant metric), however the theorem above implies that the approximate Ramsey property does not depend on the particular class [formula], but only on whether G is extremely amenable or not. This is not surprising, as it reflects a similar phenomenon uncovered for discrete Fraïssé classes in [\cite=Kechris2005].

An example. By the result of Gromov and Milman mentionned in the introduction, the orthogonal group of a separable, infinite-dimensional (real) Hilbert space is extremely amenable, from which we deduce that the isometry group of the unit sphere of the Hilbert space is extremely amenable (these groups are one and the same). Since this unit sphere is the Fraïssé limit of the class of finite spherical metric spaces of diameter at most 2, we obtain the approximate Ramsey property for this class. In turn, this easily implies the ARP for the class of all spherical metric spaces and, going back to the group side, we thus obtain that the isometry group of the unbounded universal spherical metric space is extremely amenable (see [\cite=Pestov2006a], exercise 5.1.32 p112 for the definition of this space, and Blumenthal [\cite=Blumenthal1970] for informations about spherical metric spaces).

A method to prove that certain Fraïssé classes have the approximate Ramsey property

We again denote by [formula] a metric Fraïssé class, by [formula] its Fraïssé limit, and by G the automorphism group of [formula].

We say that [formula] has the extension property if for any [formula] there is [formula] such that [formula] embeds in [formula] and any partial automorphism of [formula] extends to an automorphism of [formula].

Using a deep theorem due to Hervig and Lascar [\cite=Herwig2000], Solecki proved in [\cite=Solecki2005a] that the class of finite metric spaces has the extension property.

In general, establishing that a class has this property seems very difficult. We will make use of a variant (which is weaker in the relational context) to show that certain classes have the approximate Ramsey property.

We say that [formula] has the weak extension property if for any [formula] and any [formula] there exists a finitely generated substructure [formula] of [formula] and automorphisms [formula] of [formula] such that:

[formula] ε-approximates [formula]

[formula] generate a relatively compact subgroup of [formula].

The second condition may seem surprising; it is nevertheless essential for our purposes. This condition is empty whenever one only considers relational structures, or more generally when automorphism groups of elements of [formula] are compact, which is the case in all our examples.

Whenever (X,d) is a metric space, we let dn denote the normalized [formula]-metric on Xn, defined by

[formula]

We say that [formula] is a [formula] metric Fraïssé class (or that [formula] has the [formula] property) if for all [formula] and all n one may turn (An,dn) into an element [formula] belonging to [formula] in such a way that, whenever [formula] are automorphisms of [formula], the diagonal map

[formula]

is an embedding of [formula] into [formula].

For example, the class of all finite metric spaces is a metric Fraïssé class with both the [formula] property and the extension property. Other examples of classes with the [formula] property include the class [formula] of finite metric spaces containing a common finite metric space X, the class of finite probability algebras, and the class of finite-dimensional normed vector spaces. A non-example would be, of course, the class of euclidean metric spaces.

The main result of this section is the following.

Let [formula] be a [formula] metric Fraïssé class with the weak extension property. Then [formula] has the weak approximate Ramsey property, so [formula] is extremely amenable.

Consider finitely generated structures [formula], and fix ε > 0.

Let [formula] enumerate a finite set of partial automorphisms of [formula] with domain A. Applying the weak extension property, we know that we may find some finitely generated [formula] containing [formula] and automorphisms [formula] of B' such that [formula] ε-approximate [formula] and the closure H of the subgroup of [formula] generated by [formula] is compact.

Fix a set of generators [formula] of [formula] containing gi(ā) for all i, and endow H with the bi-invariant metric δ defined by

[formula]

For any n, we turn [formula] into an element of [formula] in a way that witnesses the [formula]-property, and call this structure [formula]. We want to show that for n big enough, for any coloring γ of [formula], there is [formula] such that the oscillation of γ on [formula] is less than ε. To see this, we will use concentration of measure - this is where the [formula] property and our compactness assumption are useful.

For any integer n, endow the group Hn with the normalized [formula] metric δn. A coloring γ of [formula] naturally induces a mapping, denoted by γ', from Hn  →  [0,1], since any [formula] gives an embedding of [formula] into Cn. It follows from our definitions that γ' is a 1-Lipschitz map from (Hn,δn) to

[formula]

. Since each Θi preserves the measure μn, and γ' is 1-Lipschitz, we may apply [\eqref=ast] to see that there exists some ∈Hn such that

[formula]

From this, it follows that

[formula]

Going back to the definition of γ', we have just obtained

[formula]

In other words, setting [formula], we have shown that [formula] has the WARP.

Note that this enables one to recover the fact that the isometry group of the Urysohn space [formula] is extremely amenable. Also, for X a finite metric space, the limit of [formula] is [formula] endowed with a distinguished copy of X, whose automorphism group is exactly the (pointwise) stabilizer of X. So we see that the group of isometries that fix X pointwise is extremely amenable for any finite subset X of [formula]; similarly for the group of measure-preserving bijections of a standard atomless probability space. Actually, in all the previous cases, Pestov's ideas, as reformulated in Theorem [\ref=Levy] below, imply that the groups are Lévy.

It is relatively easy to use the theorem above in order to provide somewhat artificial new examples of extremely amenable groups; for instance, one can show that the class of all finite metric spaces endowed with a 1-Lipschitz unary predicate is a Fraïssé class satisfying all our conditions above. A more interesting candidate for application of our approach is the isometry group of the Gurarij space [formula]: certainly the class of finite-dimensional Banach spaces has the [formula] property; it is not clear whether this class satisfies the weak extension property. It is easily seen that this is the case if and only if the set of all n-tuples which generate a relatively compact subgroup is dense in [formula] for all n. We already do not know whether this is true when n = 1.

Let us conclude these notes by stating a criterion for a Polish group to be Lévy - this consists simply in isolating the ideas used by Pestov in [\cite=Pestov2006a] to show that the isometry group of Urysohn's universal metric space is a Lévy group. The proof is a straightforward adaptation of Pestov's proof as presented in [\cite=Pestov2006a], so we content ourselves with stating the criterion below without proof.

Let [formula] be a metric Fraïssé class with limit [formula]. Assume that:

[formula] has the extension property.

[formula] has the [formula] property.

For any finite substructure [formula] of [formula], and any finite group H acting on [formula] by automorphisms, the action [formula] extends to an action [formula] by automorphisms.

Then [formula], endowed with its usual Polish topology, is a Lévy group.

Actually, there is a increasing chain of finite subgroups which concentrates (for the normalized counting measure) and whose union is dense in G.